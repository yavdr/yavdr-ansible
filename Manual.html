<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2022-02-03 Do 15:24 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Ansible Playbooks for yaVDR 0.7</title>
<meta name="author" content="Alexander Grothe &lt;seahawk1986@gmx.de&gt;" />
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
</style>
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/css/readtheorg.css"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/lib/js/jquery.stickytableheaders.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/js/readtheorg.js"></script>
</head>
<body>
<div id="content" class="content">
<h1 class="title">Ansible Playbooks for yaVDR 0.7</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#orge1364cd">1. Introduction</a></li>
<li><a href="#orgdab4e10">2. Installing and configuring yaVDR with Ansible</a>
<ul>
<li><a href="#orgcb8dacc">2.1. Install scripts for local usage</a></li>
</ul>
</li>
<li><a href="#org14a6381">3. Playbooks</a>
<ul>
<li><a href="#orga633914">3.1. yavdr07.yml</a></li>
<li><a href="#orga9e49bb">3.2. yavdr07-headless.yml</a></li>
<li><a href="#org6bc5e13">3.3. yavdr07-rpi.yml</a></li>
</ul>
</li>
<li><a href="#org620d7ad">4. Hosts</a></li>
<li><a href="#org814e0ea">5. Group Variables</a>
<ul>
<li><a href="#org720f2a7">5.1. PPAs</a></li>
<li><a href="#org57b61d2">5.2. Locales and Timezone</a></li>
<li><a href="#orge10a841">5.3. VDR user, directories, special configuration and plugins</a></li>
<li><a href="#org0d8fdd3">5.4. Media directories</a></li>
<li><a href="#org9a74fbb">5.5. NFS</a></li>
<li><a href="#org1fa192f">5.6. Samba</a></li>
<li><a href="#org6576738">5.7. Additional packages</a></li>
<li><a href="#orga1c5611">5.8. Channellogos</a></li>
<li><a href="#org88ae4fe">5.9. System pre-configuration</a></li>
<li><a href="#orge6b7405">5.10. Serial IR</a></li>
<li><a href="#org4ed963e">5.11. RPI specific variables</a></li>
</ul>
</li>
<li><a href="#org27dcdd5">6. Roles</a>
<ul>
<li><a href="#orga9a0cc2">6.1. install-dependencies</a>
<ul>
<li><a href="#orgd0e7298">6.1.1. tasks</a></li>
</ul>
</li>
<li><a href="#org5fd4f38">6.2. nvidia experimental drivers</a>
<ul>
<li><a href="#org2de8f01">6.2.1. tasks</a></li>
</ul>
</li>
<li><a href="#orgecf7b82">6.3. yavdr-common</a>
<ul>
<li><a href="#orga7ff61e">6.3.1. default variables</a></li>
<li><a href="#org83e3080">6.3.2. handlers</a></li>
<li><a href="#org8c315c0">6.3.3. tasks</a></li>
<li><a href="#org6c04271">6.3.4. templates</a></li>
<li><a href="#orgc6efa29">6.3.5. MOTD</a></li>
</ul>
</li>
<li><a href="#org8922c33">6.4. vdr-addon-lifeguardng</a>
<ul>
<li><a href="#org1c13229">6.4.1. variables</a></li>
<li><a href="#org3035d31">6.4.2. tasks</a></li>
<li><a href="#org9393d13">6.4.3. templates</a></li>
</ul>
</li>
<li><a href="#org49cd198">6.5. collect facts about the system with custom modules</a>
<ul>
<li><a href="#org65edda9">6.5.1. variables</a></li>
<li><a href="#org19313e0">6.5.2. tasks</a></li>
</ul>
</li>
<li><a href="#org937f471">6.6. vdr</a>
<ul>
<li><a href="#org4d1882f">6.6.1. tasks</a></li>
<li><a href="#org2b3d05a">6.6.2. templates</a></li>
<li><a href="#orgfbb523a">6.6.3. files</a></li>
</ul>
</li>
<li><a href="#org59c7b22">6.7. yavdr-network</a>
<ul>
<li><a href="#orgb934614">6.7.1. default variables</a></li>
<li><a href="#orge16a8f6">6.7.2. tasks</a></li>
</ul>
</li>
<li><a href="#org6e3f3c9">6.8. vdr-plugin-menuorg</a>
<ul>
<li><a href="#org489e79a">6.8.1. tasks</a></li>
<li><a href="#org6be60df">6.8.2. templates</a></li>
</ul>
</li>
<li><a href="#org2c57a5c">6.9. nfs-server</a>
<ul>
<li><a href="#orge2de393">6.9.1. tasks</a></li>
<li><a href="#org990605d">6.9.2. templates</a></li>
</ul>
</li>
<li><a href="#org3c84f2e">6.10. yavdr-remote</a>
<ul>
<li><a href="#org1571538">6.10.1. default variables</a></li>
<li><a href="#org5626ecd">6.10.2. tasks</a></li>
<li><a href="#orgf8e8dc2">6.10.3. templates</a></li>
<li><a href="#org3b26c98">6.10.4. Helper script to learn keys for rc-core receiver</a></li>
</ul>
</li>
<li><a href="#pulseaudio">6.11. pulseaudio</a>
<ul>
<li><a href="#orgc2e7912">6.11.1. tasks</a></li>
<li><a href="#orgc8ce015">6.11.2. templates</a></li>
</ul>
</li>
<li><a href="#orgd019806">6.12. session-common</a>
<ul>
<li><a href="#orgd806cea">6.12.1. tasks</a></li>
<li><a href="#org2f8edd3">6.12.2. templates</a></li>
</ul>
</li>
<li><a href="#org34686f2">6.13. headless-session</a>
<ul>
<li><a href="#org07af98b">6.13.1. About the headless session</a></li>
<li><a href="#org267b87f">6.13.2. default variables</a></li>
<li><a href="#headless-meta">6.13.3. dependencies</a></li>
<li><a href="#orgae1abc9">6.13.4. Tasks</a></li>
<li><a href="#org270a1e3">6.13.5. templates</a></li>
</ul>
</li>
<li><a href="#orge308274">6.14. udiskie</a>
<ul>
<li><a href="#orgaea9447">6.14.1. tasks</a></li>
<li><a href="#orgd90da4b">6.14.2. templates</a></li>
</ul>
</li>
<li><a href="#yavdr-xorg">6.15. yavdr-xorg</a>
<ul>
<li><a href="#yavdr-xorg-about">6.15.1. About the GUI session</a></li>
<li><a href="#yavdr-xorg-meta">6.15.2. dependencies</a></li>
<li><a href="#yavdr-xorg-defaults">6.15.3. default variables</a></li>
<li><a href="#yavdr-xorg-tasks">6.15.4. tasks</a></li>
<li><a href="#yavdr-xorg-templates">6.15.5. templates</a></li>
</ul>
</li>
<li><a href="#org2781c69">6.16. yavdr-desktop</a>
<ul>
<li><a href="#org1c2ea4b">6.16.1. dependencies</a></li>
<li><a href="#org7472205">6.16.2. Tasks</a></li>
<li><a href="#orgda07bc0">6.16.3. Templates</a></li>
</ul>
</li>
<li><a href="#orgb33ed07">6.17. osd2web</a>
<ul>
<li><a href="#orgfa961a1">6.17.1. meta</a></li>
<li><a href="#org56b8382">6.17.2. tasks</a></li>
<li><a href="#org1045f8f">6.17.3. templates</a></li>
</ul>
</li>
<li><a href="#orge030dc1">6.18. samba-install</a>
<ul>
<li><a href="#orgf77da45">6.18.1. tasks</a></li>
</ul>
</li>
<li><a href="#org632a536">6.19. samba-config</a>
<ul>
<li><a href="#orgd2bf4b6">6.19.1. tasks</a></li>
<li><a href="#org49f54f1">6.19.2. templates</a></li>
</ul>
</li>
<li><a href="#orgf960079">6.20. autoinstall-ubuntu-drivers</a>
<ul>
<li><a href="#orga8a8b09">6.20.1. tasks</a></li>
</ul>
</li>
<li><a href="#org84e6a13">6.21. autoinstall-virtualbox-guest</a></li>
<li><a href="#orga2fc7c1">6.22. set-output-plugin</a>
<ul>
<li><a href="#org12f84d9">6.22.1. defaults</a></li>
<li><a href="#orga49c765">6.22.2. tasks</a></li>
</ul>
</li>
<li><a href="#org8513042">6.23. autoinstall-atric-usb</a>
<ul>
<li><a href="#org7d8a4b1">6.23.1. dependencies</a></li>
<li><a href="#org633354d">6.23.2. tasks</a></li>
<li><a href="#org3f17857">6.23.3. templates</a></li>
</ul>
</li>
<li><a href="#org01475e0">6.24. autoinstall-yausbir</a>
<ul>
<li><a href="#orgad16b6b">6.24.1. dependencies</a></li>
<li><a href="#orgd7a9c07">6.24.2. tasks</a></li>
<li><a href="#org840c5db">6.24.3. templates</a></li>
</ul>
</li>
<li><a href="#org476dea4">6.25. autoinstall-satip</a>
<ul>
<li><a href="#org10d1c33">6.25.1. tasks</a></li>
</ul>
</li>
<li><a href="#orgb03d58f">6.26. autoinstall-targavfd</a>
<ul>
<li><a href="#orgdd6f2d6">6.26.1. tasks</a></li>
</ul>
</li>
<li><a href="#org38d68b2">6.27. autoinstall-imonlcd</a>
<ul>
<li><a href="#orgfe958d0">6.27.1. tasks</a></li>
</ul>
</li>
<li><a href="#orgbf2cd83">6.28. autoinstall-imonvfd</a>
<ul>
<li><a href="#orga5985d6">6.28.1. tasks</a></li>
<li><a href="#org072a6fc">6.28.2. templates</a></li>
</ul>
</li>
<li><a href="#org01c6664">6.29. autoinstall-libcecdaemon</a>
<ul>
<li><a href="#org848d8c7">6.29.1. tasks</a></li>
</ul>
</li>
<li><a href="#orgb9db526">6.30. autoinstall-pvr350</a>
<ul>
<li><a href="#org302540b">6.30.1. tasks</a></li>
</ul>
</li>
<li><a href="#org81b217b">6.31. autoinstall-hauppauge-pvr</a></li>
<li><a href="#org8f79b0f">6.32. autoinstall-firmware</a>
<ul>
<li><a href="#org6555fcf">6.32.1. dependencies</a></li>
<li><a href="#orgccae7fe">6.32.2. tasks</a></li>
</ul>
</li>
<li><a href="#org67e438a">6.33. autoinstall-dvbsky-firmware</a>
<ul>
<li><a href="#orgd6b94a9">6.33.1. dependencies</a></li>
<li><a href="#org338e6a9">6.33.2. defaults</a></li>
<li><a href="#org79697b8">6.33.3. tasks</a></li>
</ul>
</li>
<li><a href="#org78da257">6.34. autoinstall-dvbhddevice</a>
<ul>
<li><a href="#org265f784">6.34.1. defaults</a></li>
<li><a href="#orgee3aa43">6.34.2. dependencies</a></li>
<li><a href="#orgca27c16">6.34.3. tasks</a></li>
</ul>
</li>
<li><a href="#org4c842d4">6.35. autoinstall-dvbsddevice</a>
<ul>
<li><a href="#org4da5c52">6.35.1. defaults</a></li>
<li><a href="#org5e6a108">6.35.2. dependencies</a></li>
<li><a href="#org2686e8a">6.35.3. tasks</a></li>
</ul>
</li>
<li><a href="#orgee6d9da">6.36. autoinstall-hardware-irmp</a>
<ul>
<li><a href="#org7d6fdf0">6.36.1. dependencies</a></li>
<li><a href="#orgc09606d">6.36.2. tasks</a></li>
</ul>
</li>
<li><a href="#org83a27b4">6.37. Serial IR Receivers</a>
<ul>
<li><a href="#orgf83a1a4">6.37.1. defaults</a></li>
<li><a href="#org1434741">6.37.2. tasks</a></li>
<li><a href="#org472e750">6.37.3. templates</a></li>
</ul>
</li>
<li><a href="#orgfe219fd">6.38. kodi</a>
<ul>
<li><a href="#org60bc8b3">6.38.1. tasks</a></li>
<li><a href="#org5675010">6.38.2. templates</a></li>
<li><a href="#orgcdd767f">6.38.3. files</a></li>
</ul>
</li>
<li><a href="#org2bf6a82">6.39. dvd</a>
<ul>
<li><a href="#org648c3c3">6.39.1. tasks</a></li>
</ul>
</li>
<li><a href="#orge4953ae">6.40. vdr-epg-daemon</a>
<ul>
<li><a href="#orgf400dd9">6.40.1. defaults</a></li>
<li><a href="#org9fc5032">6.40.2. tasks</a></li>
<li><a href="#orgb544327">6.40.3. templates</a></li>
</ul>
</li>
<li><a href="#orgb22d1b8">6.41. install-sundtek</a>
<ul>
<li><a href="#org186439a">6.41.1. dependencies</a></li>
<li><a href="#org3cb6ba6">6.41.2. defaults</a></li>
<li><a href="#orgb2e42a9">6.41.3. tasks</a></li>
<li><a href="#org4b84b35">6.41.4. templates</a></li>
</ul>
</li>
<li><a href="#org3d30aa8">6.42. channel logos</a>
<ul>
<li><a href="#org5306da3">6.42.1. default</a></li>
<li><a href="#org2297d16">6.42.2. tasks</a></li>
<li><a href="#orgae32b70">6.42.3. templaces</a></li>
</ul>
</li>
<li><a href="#org61912f1">6.43. rpi</a>
<ul>
<li><a href="#orgf412928">6.43.1. tasks</a></li>
<li><a href="#org6b3d128">6.43.2. templates</a></li>
</ul>
</li>
<li><a href="#org1fe233e">6.44. channelpedia upload</a>
<ul>
<li><a href="#orga1bdd3e">6.44.1. tasks</a></li>
<li><a href="#org1ec7bbe">6.44.2. templates</a></li>
</ul>
</li>
<li><a href="#org34959dc">6.45. template-test</a></li>
<li><a href="#org96c79e1">6.46. wakeup</a>
<ul>
<li><a href="#org9dac324">6.46.1. defaults</a></li>
<li><a href="#org0d40b3c">6.46.2. variables</a></li>
<li><a href="#org33b481c">6.46.3. tasks</a></li>
<li><a href="#org0dfb767">6.46.4. templates</a></li>
</ul>
</li>
<li><a href="#orgccbefad">6.47. grub-config</a>
<ul>
<li><a href="#org1669c04">6.47.1. default variables</a></li>
<li><a href="#orgfcecb09">6.47.2. tasks</a></li>
<li><a href="#orgd58b2ce">6.47.3. templates</a></li>
<li><a href="#orgfbdf61d">6.47.4. handlers</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org124b23a">7. Modules</a>
<ul>
<li><a href="#org271a24c">7.1. hardware_facts.py</a></li>
<li><a href="#orgb8e23fd">7.2. pci_facts.py</a></li>
<li><a href="#org5208666">7.3. satip_facts.py</a></li>
<li><a href="#org1625d41">7.4. xrandr_facts.py</a></li>
<li><a href="#org4e9565b">7.5. rmmod.py</a></li>
</ul>
</li>
<li><a href="#orgecc3bfb">8. Handlers</a></li>
</ul>
</div>
</div>
<div id="outline-container-orge1364cd" class="outline-2">
<h2 id="orge1364cd"><span class="section-number-2">1.</span> Introduction</h2>
<div class="outline-text-2" id="text-1">
<p>
One of the major problems we faced with customized Ubuntu ISO files as installation media for prior yaVDR versions has been the limited hardware support and the time consuming process to create and update them.  An interesting alternative to this approach is to enable the user to choose the installation medium by himself, so point releases, kernel versions and additional drivers can be chosen deliberately.  After the basic setup is complete (and a working internet connection is available), a fully customizable install script completes the yaVDR installation.
</p>
</div>
</div>
<div id="outline-container-orgdab4e10" class="outline-2">
<h2 id="orgdab4e10"><span class="section-number-2">2.</span> Installing and configuring yaVDR with Ansible</h2>
<div class="outline-text-2" id="text-2">
<p>
This is an experimental feature which allows to set up a yaVDR installation based on a normal Ubuntu Server 16.04.x installation using <a href="http://ansible.com">Ansible</a>.
</p>

<p>
This Manual is written in org-mode for Emacs and can rewrite the complete ansible configuration if you call <code>org-babel-tangle</code> from within emacs.
</p>

<p>
To use this playbook on a Ubuntu Server Installation you need to run the following commands:
</p>
<pre class="example" id="org5786c2a">
sudo apt-get install git
git clone https://github.com/yavdr/yavdr-ansible.git
cd yavdr-ansible
git checkout bionic
sudo ./install-yavdr.sh
</pre>

<p>
We use a callback to generate tags for all roles autmatically:
</p>
<div class="org-src-container">
<pre class="src src-conf">[<span class="org-type">defaults</span>]
<span class="org-variable-name">interpreter_python</span> = /usr/bin/python3
<span class="org-variable-name">stdout_callback</span> = debug
<span class="org-variable-name">callback_plugins</span> = plugins/callbacks
<span class="org-variable-name">callback_whitelist</span> = auto_tags
<span class="org-variable-name">ansible_managed</span> = *** ANSIBLE MANAGED FILE ***
  template: {file}

[<span class="org-type">ssh_connection</span>]
<span class="org-variable-name">pipelining</span> = true
</pre>
</div>
</div>

<div id="outline-container-orgcb8dacc" class="outline-3">
<h3 id="orgcb8dacc"><span class="section-number-3">2.1.</span> Install scripts for local usage</h3>
<div class="outline-text-3" id="text-2-1">
<div class="org-src-container">
<pre class="src src-shell"><span class="org-builtin">set</span> -e

<span class="org-keyword">if</span> (( $<span class="org-variable-name">EUID</span> != 0 )); <span class="org-keyword">then</span>
    <span class="org-builtin">echo</span> <span class="org-string">"This script must be run using sudo -H or as root"</span>
    <span class="org-keyword">exit</span>
<span class="org-keyword">fi</span>

<span class="org-builtin">.</span> scripts/install-packages.sh

ansible-playbook yavdr07.yml -b -i <span class="org-string">'localhost_inventory'</span> --connection=local --tags=<span class="org-string">"all"</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-shell"><span class="org-builtin">set</span> -e

<span class="org-keyword">if</span> (( $<span class="org-variable-name">EUID</span> != 0 )); <span class="org-keyword">then</span>
    <span class="org-builtin">echo</span> <span class="org-string">"This script must be run using sudo -H or as root"</span>
    <span class="org-keyword">exit</span>
<span class="org-keyword">fi</span>

<span class="org-builtin">.</span> scripts/install-packages.sh

<span class="org-comment-delimiter"># </span><span class="org-comment">speed up playbook execution</span>
<span class="org-builtin">export</span> <span class="org-variable-name">ANSIBLE_PIPELINING</span>=1

ansible-playbook yavdr07-headless.yml -b -i <span class="org-string">'localhost_inventory'</span> --connection=local --tags=<span class="org-string">"all"</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-shell"><span class="org-builtin">set</span> -e

<span class="org-keyword">if</span> (( $<span class="org-variable-name">EUID</span> != 0 )); <span class="org-keyword">then</span>
    <span class="org-builtin">echo</span> <span class="org-string">"This script must be run using sudo -H or as root"</span>
    <span class="org-keyword">exit</span>
<span class="org-keyword">fi</span>

<span class="org-builtin">.</span> scripts/install-packages.sh

<span class="org-comment-delimiter"># </span><span class="org-comment">speed up playbook execution</span>
<span class="org-builtin">export</span> <span class="org-variable-name">ANSIBLE_PIPELINING</span>=1

ansible-playbook yavdr07-rpi.yml -b -i <span class="org-string">'localhost_inventory'</span> --connection=local --tags=<span class="org-string">"all"</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org14a6381" class="outline-2">
<h2 id="org14a6381"><span class="section-number-2">3.</span> Playbooks</h2>
<div class="outline-text-2" id="text-3">
</div>
<div id="outline-container-orga633914" class="outline-3">
<h3 id="orga633914"><span class="section-number-3">3.1.</span> yavdr07.yml</h3>
<div class="outline-text-3" id="text-3-1">
<p>
The <code>yavdr07.yml</code> playbook sets up a fully-featured yaVDR installation:
</p>
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment">---</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">file: yavdr07.yml</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">this playbook sets up a complete yaVDR 0.7 installation</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> set up yaVDR</span>
  <span class="org-ansible-section">hosts</span>: all
  <span class="org-builtin">become</span>: <span class="org-constant">true</span>
  <span class="org-ansible-section">environment</span>:
    <span class="org-variable-name">LANG</span>: <span class="org-string">"</span><span class="org-builtin">{{</span><span class="org-function-name"> default_locale | default('c.UTF-8') </span><span class="org-builtin">}}</span><span class="org-string">"</span>
  <span class="org-ansible-section">roles</span>:
    - yavdr-common               <span class="org-comment-delimiter"># </span><span class="org-comment">install and configure the basic system</span>
    - collect-facts              <span class="org-comment-delimiter"># </span><span class="org-comment">query system facts</span>
    - autoinstall-ubuntu-drivers <span class="org-comment-delimiter"># </span><span class="org-comment">use ubuntu-drivers to install proprietary dirvers</span>
                                 <span class="org-comment-delimiter"># </span><span class="org-comment">(e.g. nvidia, virtualbox)</span>
    - vdr                        <span class="org-comment-delimiter"># </span><span class="org-comment">install vdr and related packages</span>
    - vdr-plugin-menuorg         <span class="org-comment-delimiter"># </span><span class="org-comment">install vdr-plugin-menuorg and customize menuorg.xml</span>
    - autoinstall-virtualbox-guest
    - lifeguardng                <span class="org-comment-delimiter"># </span><span class="org-comment">install and configure vdr-addon-lifeguard-ng</span>
    - yavdr-network              <span class="org-comment-delimiter"># </span><span class="org-comment">enable network client capabilities</span>
    - samba-install              <span class="org-comment-delimiter"># </span><span class="org-comment">install samba server</span>
    - samba-config               <span class="org-comment-delimiter"># </span><span class="org-comment">configure samba server</span>
    - nfs-server                 <span class="org-comment-delimiter"># </span><span class="org-comment">install nfs server</span>
    - pulseaudio                 <span class="org-comment-delimiter"># </span><span class="org-comment">install pulseaudio</span>
    - yavdr-xorg                 <span class="org-comment-delimiter"># </span><span class="org-comment">graphical session</span>
    - yavdr-remote               <span class="org-comment-delimiter"># </span><span class="org-comment">remote configuration files, services and scripts</span>
    - yavdr-desktop              <span class="org-comment-delimiter"># </span><span class="org-comment">openbox session with yavdr frontend script</span>
    - osd2web                    <span class="org-comment-delimiter"># </span><span class="org-comment">configure osd2web to run on the second display if there is any</span>
    - autoinstall-satip          <span class="org-comment-delimiter"># </span><span class="org-comment">install vdr-plugin-satip if a Sat&gt;IP server has been found</span>
    - autoinstall-targavfd       <span class="org-comment-delimiter"># </span><span class="org-comment">install vdr-plugin-targavfd if display is connected</span>
    - autoinstall-imonlcd        <span class="org-comment-delimiter"># </span><span class="org-comment">install vdr-plugin-imonlcd if a matchind display is connected</span>
    - autoinstall-imonvfd        <span class="org-comment-delimiter"># </span><span class="org-comment">install vdr-plugin-imonvfd if a matchind display is connected</span>
    - autoinstall-pvr350         <span class="org-comment-delimiter"># </span><span class="org-comment">install vdr-plugin-pvr350 if a matching card is detected</span>
    - autoinstall-hauppauge-pvr  <span class="org-comment-delimiter"># </span><span class="org-comment">install vdr-plugin-pvrinput if a matching card is found</span>
    - autoinstall-dvbsddevice    <span class="org-comment-delimiter"># </span><span class="org-comment">install vdr-plugin-dvbsddevice if a matching card is detected</span>
    <span class="org-comment-delimiter"># </span><span class="org-comment">- autoinstall-dvbhddevice    # install vdr-plugin-dvbsddevice if a matching card is detected - NOTE: you need to compile and install the drivers yourself</span>
    - autoinstall-hardware-irmp  <span class="org-comment-delimiter"># </span><span class="org-comment">install yavdr-hardware-irmp if a matching usb device is detected</span>
    - autoinstall-atric-usb      <span class="org-comment-delimiter"># </span><span class="org-comment">preconfigure lircd for Atric IR-WakeupUSB receiver</span>
    - autoinstall-yausbir        <span class="org-comment-delimiter"># </span><span class="org-comment">preconfigure lircd for yaUsbIR receiver</span>
    - autoinstall-dvbsky-firmware <span class="org-comment-delimiter"># </span><span class="org-comment">download and install required firmware files for dvbsky cards</span>
    - autoinstall-firmware       <span class="org-comment-delimiter"># </span><span class="org-comment">download and install firmware files for dvb devices</span>
    <span class="org-comment-delimiter">#</span><span class="org-comment">- install-sundtek            # install and configure sundtek drivers</span>
    <span class="org-comment-delimiter">#</span><span class="org-comment">- serial-ir                  # configure a serial port for "homebrew" ir receivers (e.g. Atric V5)</span>
    <span class="org-comment-delimiter">#</span><span class="org-comment">- epgd                       # install vdr-epg-daemon (and vdr-plugin-epg2vdr)</span>
    <span class="org-comment-delimiter">#</span><span class="org-comment">- channelpedia               # upload channels.conf to channelpedia (see role description in Manual)</span>
    - channellogos               <span class="org-comment-delimiter"># </span><span class="org-comment">use channellogos provided by https://github.com/Jasmeet181/mediaportal-*-logos</span>
                                 <span class="org-comment-delimiter"># </span><span class="org-comment">set the variable channellogos_languages to a list of the langues you want (see group_vars/all)</span>
                                  <span class="org-comment-delimiter"># </span><span class="org-comment">and link them to /var/lib/channellogos/ - this needs at least 300 MB of storage</span>
    - kodi
    - dvd                        <span class="org-comment-delimiter"># </span><span class="org-comment">set up packages and a udev rule to allow kodi and other players</span>
                                 <span class="org-comment-delimiter"># </span><span class="org-comment">to play and eject optical media</span>
    - wakeup                     <span class="org-comment-delimiter"># </span><span class="org-comment">set up wakeup methods for rtc etc.</span>
    - grub-config                <span class="org-comment-delimiter"># </span><span class="org-comment">configure grub</span>
    - set-output-plugin  <span class="org-comment-delimiter"># </span><span class="org-comment">ensures that only one output plugin is active (a manual override is possible by setting selected_frontend to the name of the wanted output plugin)</span>

  <span class="org-ansible-section">handlers</span>:
    - <span class="org-ansible-section">import_tasks</span>: handlers/main.yml
</pre>
</div>
</div>
</div>
<div id="outline-container-orga9e49bb" class="outline-3">
<h3 id="orga9e49bb"><span class="section-number-3">3.2.</span> yavdr07-headless.yml</h3>
<div class="outline-text-3" id="text-3-2">
<p>
For a headless server installation <code>yavdr07-headless.yml</code> is a good choice
</p>
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment">---</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">file: yavdr07-headless.yml</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">this playbook set up a headless yaVDR 0.7 installation</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> set up a headless yaVDR server</span>
  <span class="org-ansible-section">hosts</span>: all
  <span class="org-builtin">become</span>: <span class="org-constant">true</span>
  <span class="org-ansible-section">environment</span>:
    <span class="org-variable-name">LANG</span>: <span class="org-string">"</span><span class="org-builtin">{{</span><span class="org-function-name"> default_locale | default('c.UTF-8') </span><span class="org-builtin">}}</span><span class="org-string">"</span>
  <span class="org-ansible-section">roles</span>:
    - yavdr-common
    - collect-facts              <span class="org-comment-delimiter"># </span><span class="org-comment">query system facts</span>
    - vdr
    - lifeguardng                <span class="org-comment-delimiter"># </span><span class="org-comment">install and configure vdr-addon-lifeguard-ng</span>
    - headless-session           <span class="org-comment-delimiter"># </span><span class="org-comment">set up a headless systemd user session, e.g. for udiskie</span>
    - yavdr-network
    - samba-install
    - samba-config
    - nfs-server
    - grub-config
    - autoinstall-dvbsddevice    <span class="org-comment-delimiter"># </span><span class="org-comment">install vdr-plugin-dvbsddevice if a matching card is detected</span>
    - autoinstall-dvbsky-firmware <span class="org-comment-delimiter"># </span><span class="org-comment">download and install required firmware files for dvbsky cards</span>
    - autoinstall-firmware       <span class="org-comment-delimiter"># </span><span class="org-comment">download and install firmware files for dvb devices</span>
    - autoinstall-hauppauge-pvr  <span class="org-comment-delimiter"># </span><span class="org-comment">install vdr-plugin-pvrinput if a matching card is found</span>
    - autoinstall-pvr350         <span class="org-comment-delimiter"># </span><span class="org-comment">install vdr-plugin-pvr350 if a matching card is detected</span>
    - autoinstall-satip          <span class="org-comment-delimiter"># </span><span class="org-comment">install vdr-plugin-satip if a Sat&gt;IP server has been found</span>
    <span class="org-comment-delimiter">#</span><span class="org-comment">- epgd                      # install vdr-epg-daemon</span>
    <span class="org-comment-delimiter">#</span><span class="org-comment">- channelpedia               # upload channels.conf to channelpedia (see role description in Manual)</span>
    - channellogos               <span class="org-comment-delimiter"># </span><span class="org-comment">use channellogos provided by https://github.com/Jasmeet181/mediaportal-*-logos</span>
    - wakeup
  <span class="org-builtin">tags</span>:
    - always
  <span class="org-ansible-section">handlers</span>:
    - <span class="org-ansible-section">import_tasks</span>: handlers/main.yml
</pre>
</div>
</div>
</div>
<div id="outline-container-org6bc5e13" class="outline-3">
<h3 id="org6bc5e13"><span class="section-number-3">3.3.</span> yavdr07-rpi.yml</h3>
<div class="outline-text-3" id="text-3-3">
<p>
VDR-only setup for Raspberry Pi 2 and 3. At least 1 GB of RAM is recommended.
Please note that kodi is not available at the moment.
</p>
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment">---</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">file: yavdr07-rpi.yml</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">this playbook set up a yaVDR 0.7 installation on a Raspberry Pi 2 or 3</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">please note that kodi is not available at the moment</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> set up a headless yaVDR server</span>
  <span class="org-ansible-section">hosts</span>: all
  <span class="org-builtin">become</span>: <span class="org-constant">true</span>
  <span class="org-ansible-section">environment</span>:
    <span class="org-variable-name">LANG</span>: <span class="org-string">"</span><span class="org-builtin">{{</span><span class="org-function-name"> default_locale | default('c.UTF-8') </span><span class="org-builtin">}}</span><span class="org-string">"</span>
  <span class="org-ansible-section">roles</span>:
    - yavdr-common
    - collect-facts              <span class="org-comment-delimiter"># </span><span class="org-comment">query system facts</span>
    - vdr
    - rpi                        <span class="org-comment-delimiter"># </span><span class="org-comment">install rpihddevice and let vdr run on tty7</span>
    - lifeguardng                <span class="org-comment-delimiter"># </span><span class="org-comment">install and configure vdr-addon-lifeguard-ng</span>
    - headless-session           <span class="org-comment-delimiter"># </span><span class="org-comment">set up a headless systemd user session, e.g. for udiskie</span>
    - yavdr-remote
    - yavdr-network
    <span class="org-comment-delimiter">#</span><span class="org-comment">- samba-install</span>
    <span class="org-comment-delimiter">#</span><span class="org-comment">- samba-config</span>
    <span class="org-comment-delimiter">#</span><span class="org-comment">- nfs-server</span>
    - autoinstall-atric-usb      <span class="org-comment-delimiter"># </span><span class="org-comment">preconfigure lircd for Atric IR-WakeupUSB receiver</span>
    - autoinstall-dvbsddevice    <span class="org-comment-delimiter"># </span><span class="org-comment">install vdr-plugin-dvbsddevice if a matching card is detected</span>
    - autoinstall-dvbsky-firmware <span class="org-comment-delimiter"># </span><span class="org-comment">download and install required firmware files for dvbsky cards</span>
    - autoinstall-firmware       <span class="org-comment-delimiter"># </span><span class="org-comment">download and install firmware files for dvb devices</span>
    - autoinstall-hardware-irmp  <span class="org-comment-delimiter"># </span><span class="org-comment">install yavdr-hardware-irmp if a matching usb device is detected</span>
    - autoinstall-hauppauge-pvr  <span class="org-comment-delimiter"># </span><span class="org-comment">install vdr-plugin-pvrinput if a matching card is found</span>
    - autoinstall-imonlcd        <span class="org-comment-delimiter"># </span><span class="org-comment">install vdr-plugin-imonlcd if a matchind display is connected</span>
    - autoinstall-imonvfd        <span class="org-comment-delimiter"># </span><span class="org-comment">install vdr-plugin-imonvfd if a matchind display is connected</span>
    - autoinstall-satip          <span class="org-comment-delimiter"># </span><span class="org-comment">install vdr-plugin-satip if a Sat&gt;IP server has been found</span>
    - autoinstall-targavfd       <span class="org-comment-delimiter"># </span><span class="org-comment">install vdr-plugin-targavfd if display is connected</span>
    - autoinstall-yausbir        <span class="org-comment-delimiter"># </span><span class="org-comment">preconfigure lircd for yaUsbIR receiver</span>
    - set-output-plugin  <span class="org-comment-delimiter"># </span><span class="org-comment">ensures that only one output plugin is active (a manual override is possible by setting selected_frontend to the name of the wanted output plugin)</span>
    <span class="org-comment-delimiter">#</span><span class="org-comment">- epgd                      # install vdr-epg-daemon</span>
    <span class="org-comment-delimiter">#</span><span class="org-comment">- channelpedia               # upload channels.conf to channelpedia (see role description in Manual)</span>
    <span class="org-comment-delimiter">#</span><span class="org-comment">- wakeup</span>
    <span class="org-comment-delimiter">#</span><span class="org-comment">- channellogos               # use channellogos provided by https://github.com/Jasmeet181/mediaportal-*-logos</span>
                                 <span class="org-comment-delimiter"># </span><span class="org-comment">set the variable channellogos_languages to a list of the langues you want (see group_vars/all)</span>
                                  <span class="org-comment-delimiter"># </span><span class="org-comment">and link them to /var/lib/channellogos/ - this needs at least 300 MB of storage</span>
  <span class="org-builtin">tags</span>:
    - always
  <span class="org-ansible-section">handlers</span>:
    - <span class="org-ansible-section">import_tasks</span>: handlers/main.yml
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org620d7ad" class="outline-2">
<h2 id="org620d7ad"><span class="section-number-2">4.</span> Hosts</h2>
<div class="outline-text-2" id="text-4">
<p>
This playbook can either be used to run the installation on the localhost or any other PC in the network that can be accessed via ssh. Simply add the host names or IP addresses to the hosts file in the respective section:
</p>

<div class="org-src-container">
<pre class="src src-conf">[<span class="org-type">local</span>]
<span class="org-variable-name">localhost ansible_connection</span>=local
</pre>
</div>
</div>
</div>
<div id="outline-container-org814e0ea" class="outline-2">
<h2 id="org814e0ea"><span class="section-number-2">5.</span> Group Variables</h2>
<div class="outline-text-2" id="text-5">
</div>
<div id="outline-container-org720f2a7" class="outline-3">
<h3 id="org720f2a7"><span class="section-number-3">5.1.</span> PPAs</h3>
<div class="outline-text-3" id="text-5-1">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment">---</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">file: group_vars/all</span>

<span class="org-variable-name">branch</span>: experimental
<span class="org-variable-name">ppa_owner</span>: <span class="org-string">'ppa:yavdr'</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">add the following PPAs</span>
<span class="org-variable-name">repositories</span>:
  - <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> ppa_owner </span><span class="org-builtin">}}</span><span class="org-string">/</span><span class="org-builtin">{{</span><span class="org-function-name">branch</span><span class="org-builtin">}}</span><span class="org-string">-main'</span>
  - <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> ppa_owner </span><span class="org-builtin">}}</span><span class="org-string">/</span><span class="org-builtin">{{</span><span class="org-function-name">branch</span><span class="org-builtin">}}</span><span class="org-string">-vdr'</span>
  - <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> ppa_owner </span><span class="org-builtin">}}</span><span class="org-string">/</span><span class="org-builtin">{{</span><span class="org-function-name">branch</span><span class="org-builtin">}}</span><span class="org-string">-kodi'</span>

</pre>
</div>
</div>
</div>
<div id="outline-container-org57b61d2" class="outline-3">
<h3 id="org57b61d2"><span class="section-number-3">5.2.</span> Locales and Timezone</h3>
<div class="outline-text-3" id="text-5-2">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-variable-name">timezone</span>: <span class="org-string">'Europe/Berlin'</span>
<span class="org-variable-name">default_locale</span>: <span class="org-string">'de_DE.UTF-8'</span>
<span class="org-variable-name">generate_locales</span>:  <span class="org-comment-delimiter"># </span><span class="org-comment">see entries in /etc/locale.gen</span>
  - <span class="org-string">'de_DE.UTF-8 UTF-8'</span>
  - <span class="org-string">'en_US.UTF-8 UTF-8'</span>
<span class="org-variable-name">language_packs</span>:
  - language-pack-de
  - language-pack-en
</pre>
</div>
</div>
</div>
<div id="outline-container-orge10a841" class="outline-3">
<h3 id="orge10a841"><span class="section-number-3">5.3.</span> VDR user, directories, special configuration and plugins</h3>
<div class="outline-text-3" id="text-5-3">
<div class="org-src-container">
<pre class="src src-yaml">
<span class="org-comment-delimiter"># </span><span class="org-comment">properties of the user vdr and vdr-related options</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">NOTE: user name, uid and confdir must match the values set by the vdr package</span>
<span class="org-variable-name">vdr</span>:
  <span class="org-keyword">user</span>: vdr
  <span class="org-keyword">group</span>: vdr
  <span class="org-variable-name">uid</span>: 666
  <span class="org-variable-name">gid</span>: 666
  <span class="org-variable-name">home</span>: /var/lib/vdr
  <span class="org-variable-name">etc_confdir</span>: /etc/vdr
  <span class="org-variable-name">confdir</span>: /var/lib/vdr
  <span class="org-variable-name">recdir</span>: /srv/vdr/video
  <span class="org-variable-name">hide_first_recording_level</span>: <span class="org-constant">false</span>
  <span class="org-variable-name">safe_dirnames</span>: true  <span class="org-comment-delimiter"># </span><span class="org-comment">escape characters (useful for windows clients and FAT/NTFS file systems)</span>
  <span class="org-variable-name">override_vdr_charset</span>: <span class="org-string">""</span>  <span class="org-comment-delimiter"># </span><span class="org-comment">set the desired charset, e.g. "ISO-8859-9"</span>
  <span class="org-variable-name">instance_id</span>: 0  <span class="org-comment-delimiter"># </span><span class="org-comment">set the vdr instance id (see parameter "-i" in man 1 vdr)</span>

<span class="org-comment-delimiter"># </span><span class="org-comment">wait for dvb devices by adapter number</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">NOTE: This only works for devices that are discoverable by udev, not userspace drivers like sundtek tuners!</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">e.g. wait_for_dvb_devices: [0, 1] to wait for /dev/dvb/adapter0 and /dev/dvb/adapter1</span>
<span class="org-variable-name">wait_for_dvb_devices</span>: []

<span class="org-comment-delimiter"># </span><span class="org-comment">this allows to set up streamdev-client - set the server, port and number of devices</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">streamdev_client_remote_ip: "192.168.0.104"</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">streamdev_client_remote_port: 2004</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">streamdev_client_num_provided_systems: 1</span>

<span class="org-comment-delimiter"># </span><span class="org-comment">copy channels.conf from a local file</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">vdr_channels_conf: /path/to/channels.conf</span>

<span class="org-comment-delimiter"># </span><span class="org-comment">download channels.conf from a given url (supports HTTP(S) and FTP)</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">vdr_channels_conf_url: http://example.com/vdr/channels.conf</span>

<span class="org-comment-delimiter"># </span><span class="org-comment">add the vdr plugins you want to install</span>
<span class="org-variable-name">vdr_plugins</span>:
  - vdr-plugin-devstatus
  - vdr-plugin-markad-ng

<span class="org-comment-delimiter"># </span><span class="org-comment">set the name of the output plugin (as used by vdrctl) - this defaults to softhddevice on x64 platforms and rpihddevice on Raspberry Pi 2 and 3</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">selected_frontend: softhddevice</span>

<span class="org-comment-delimiter"># </span><span class="org-comment">set the package name of the output plugin - this defaults to vdr-plugin-softhddevice on x64 platforms and vdr-plugin-rpihddevice on Raspberry Pi 2 and 3</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">vdr_output_plugin: vdr-plugin-softhddevice-cuvid</span>

<span class="org-comment-delimiter"># </span><span class="org-comment">IP (range) filter for vdr and plugins (this must be an array):</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">vdr_allowed_hosts:</span>
<span class="org-comment-delimiter">#   </span><span class="org-comment">- 192.168.0.0/24</span>

<span class="org-comment-delimiter"># </span><span class="org-comment">hosts and subnets for svdrphosts.conf (overrides vdr_allowed_hosts):</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">vdr_svdrphosts:</span>
<span class="org-comment-delimiter">#   </span><span class="org-comment">- 192.168.0.0/24</span>

<span class="org-comment-delimiter"># </span><span class="org-comment">hosts and subnets for allowed_hosts.conf of xineliboutput (overrides vdr_allowed_hosts):</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">xineliboutput_allowed_hosts:</span>
<span class="org-comment-delimiter">#   </span><span class="org-comment">- 192.168.0.0/24</span>

<span class="org-comment-delimiter"># </span><span class="org-comment">hosts and subnets for allowed_hosts.conf of vnsiserver (overrides vdr_allowed_hosts):</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">vnsiserver_allowed_hosts:</span>
<span class="org-comment-delimiter">#   </span><span class="org-comment">- 192.168.0.0/24</span>

<span class="org-comment-delimiter"># </span><span class="org-comment">hosts and subnets for streamdevhosts.conf (overrides vdr_allowed_hosts):</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">streamdev_server_allowed_hosts:</span>
<span class="org-comment-delimiter">#   </span><span class="org-comment">- 192.168.0.0/24</span>

</pre>
</div>
</div>
</div>
<div id="outline-container-org0d8fdd3" class="outline-3">
<h3 id="org0d8fdd3"><span class="section-number-3">5.4.</span> Media directories</h3>
<div class="outline-text-3" id="text-5-4">
<div class="org-src-container">
<pre class="src src-yaml">
<span class="org-comment-delimiter"># </span><span class="org-comment">dictionary of directories for (shared) files. Automatically exported via NFS and Samba if those roles are enabled</span>
<span class="org-variable-name">media_dirs</span>:
  <span class="org-variable-name">audio</span>: /srv/audio
  <span class="org-variable-name">video</span>: /srv/video
  <span class="org-variable-name">pictures</span>: /srv/picture
  <span class="org-variable-name">files</span>: /srv/files
  <span class="org-variable-name">backups</span>: /srv/backups
  <span class="org-variable-name">recordings</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.recdir </span><span class="org-builtin">}}</span><span class="org-string">'</span>

</pre>
</div>
</div>
</div>
<div id="outline-container-org9a74fbb" class="outline-3">
<h3 id="org9a74fbb"><span class="section-number-3">5.5.</span> NFS</h3>
<div class="outline-text-3" id="text-5-5">
<div class="org-src-container">
<pre class="src src-yaml">
<span class="org-variable-name">nfs</span>:
  <span class="org-variable-name">insecure</span>: false  <span class="org-comment-delimiter"># </span><span class="org-comment">set to true for OS X clients or if you plan to use libnfs as unprivileged user (e.g. KODI)</span>

</pre>
</div>
</div>
</div>
<div id="outline-container-org1fa192f" class="outline-3">
<h3 id="org1fa192f"><span class="section-number-3">5.6.</span> Samba</h3>
<div class="outline-text-3" id="text-5-6">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-variable-name">samba</span>:
  <span class="org-variable-name">workgroup</span>: YAVDR
  <span class="org-variable-name">windows_compatible</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.safe_dirnames </span><span class="org-builtin">}}</span><span class="org-string">'</span>  <span class="org-comment-delimiter"># </span><span class="org-comment">set to true to disable unix extensions, enable follow symlinks and wide links</span>

</pre>
</div>
</div>
</div>
<div id="outline-container-org6576738" class="outline-3">
<h3 id="org6576738"><span class="section-number-3">5.7.</span> Additional packages</h3>
<div class="outline-text-3" id="text-5-7">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment-delimiter"># </span><span class="org-comment">additional packages you want to install</span>
<span class="org-variable-name">extra_packages</span>:
  - bpython
  - bpython3
  - htop
  - tree
  - vim
  - w-scan
  - t2scan
  - vdrpbd

</pre>
</div>
</div>
</div>
<div id="outline-container-orga1c5611" class="outline-3">
<h3 id="orga1c5611"><span class="section-number-3">5.8.</span> Channellogos</h3>
<div class="outline-text-3" id="text-5-8">
<div class="org-src-container">
<pre class="src src-yaml">
<span class="org-comment-delimiter"># </span><span class="org-comment">choose which channellogos to download from the github.com/Jasmeet181 mediaportal-*-logos repositories</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">currently suported langugages/regions are: au, be, cz, de, es, ie, il, it, nordic, nz, ru, uk, us</span>
<span class="org-comment-delimiter">#</span>
<span class="org-comment-delimiter">#</span><span class="org-comment">channellogo_languages:</span>
<span class="org-comment-delimiter">#  </span><span class="org-comment">- au</span>
<span class="org-comment-delimiter">#  </span><span class="org-comment">- be</span>
<span class="org-comment-delimiter">#  </span><span class="org-comment">- cz</span>
<span class="org-comment-delimiter">#  </span><span class="org-comment">- de</span>
<span class="org-comment-delimiter">#  </span><span class="org-comment">- es</span>
<span class="org-comment-delimiter">#  </span><span class="org-comment">- ie</span>
<span class="org-comment-delimiter">#  </span><span class="org-comment">- il</span>
<span class="org-comment-delimiter">#  </span><span class="org-comment">- it</span>
<span class="org-comment-delimiter">#  </span><span class="org-comment">- nordic</span>
<span class="org-comment-delimiter">#  </span><span class="org-comment">- nz</span>
<span class="org-comment-delimiter">#  </span><span class="org-comment">- ru</span>
<span class="org-comment-delimiter">#  </span><span class="org-comment">- uk</span>
<span class="org-comment-delimiter">#  </span><span class="org-comment">- us</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org88ae4fe" class="outline-3">
<h3 id="org88ae4fe"><span class="section-number-3">5.9.</span> System pre-configuration</h3>
<div class="outline-text-3" id="text-5-9">
<div class="org-src-container">
<pre class="src src-yaml">
<span class="org-variable-name">frontend</span>: vdr

<span class="org-comment-delimiter"># </span><span class="org-comment">vdr shutdown command - SHUTDOWNCMD variable in /etc/default/vdr</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">for standby use "/bin/systemctl suspend"</span>
<span class="org-variable-name">vdr_shutdown_command</span>: poweroff

<span class="org-comment-delimiter"># </span><span class="org-comment">to force quadratic pixels set this variable to the dpi you want</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">nvidia_force_dpi: 96</span>

<span class="org-comment-delimiter">#</span><span class="org-comment">system:</span>
<span class="org-comment-delimiter">#  </span><span class="org-comment">shutdown: poweroff</span>

<span class="org-comment-delimiter"># </span><span class="org-comment">choose one of acpiwakeup, stm32wakeup</span>
<span class="org-variable-name">wakeup_method</span>: acpiwakeup

<span class="org-comment-delimiter"># </span><span class="org-comment">start given number of minutes earlier than the wakeuptime set by vdr</span>
<span class="org-variable-name">wakeup_start_ahead</span>: 5

<span class="org-comment-delimiter"># </span><span class="org-comment">set days of the week for automatic wakeup (1=Monday...7=Sunday),</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">set empty string to disable wakeup</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">eg. to wake up on Monday and Friday:</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">wakeup_days: "1 5"</span>
<span class="org-variable-name">wakeup_days</span>: <span class="org-string">""</span>

<span class="org-comment-delimiter"># </span><span class="org-comment">set wakeup time for automatic wakeup</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">set empty string to disable</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">e.g. for wakeup at midnight:</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">wakeup_time: "00:00"</span>
<span class="org-variable-name">wakeup_time</span>: <span class="org-string">""</span>

<span class="org-comment-delimiter"># </span><span class="org-comment">settings for grub</span>
<span class="org-variable-name">grub</span>:
  <span class="org-variable-name">timeout</span>: 0
  <span class="org-variable-name">boot_options</span>: quiet splash

<span class="org-comment-delimiter"># </span><span class="org-comment">unload dvb drivers before standby, reload them afterwards.</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">disable this setting if</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">- you don't have local dvb devices (e.g. satip client)</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">- your dvb drivers have problems being unloaded</span>
<span class="org-variable-name">standby_reload_dvb</span>: <span class="org-constant">true</span>

<span class="org-comment-delimiter"># </span><span class="org-comment">settings for vdr-addon-lifeguard-ng</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">the following settings prevent the shutdown</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">if a nfs, samba or ssh connection to this machine is open</span>
<span class="org-variable-name">lifeguard_enable_nfs</span>: <span class="org-constant">True</span>
<span class="org-variable-name">lifeguard_enable_samba</span>: <span class="org-constant">True</span>
<span class="org-variable-name">lifeguard_enable_ssh</span>: <span class="org-constant">True</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">list of ip addresses or hostnames which should prevent shutdown</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">if the can be pinged</span>
<span class="org-variable-name">lifeguard_hosts</span>: []
<span class="org-comment-delimiter"># </span><span class="org-comment">list of users which sould prevent shutdown if they are logged in</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">this is somewhat redudant because systemd check this, too</span>
<span class="org-variable-name">lifeguard_users</span>: []
<span class="org-comment-delimiter"># </span><span class="org-comment">check for local processes</span>
<span class="org-variable-name">lifeguard_processes</span>: []
<span class="org-comment-delimiter"># </span><span class="org-comment">check for active tcp connections of local processes</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">syntax: &lt;processname&gt; [:] &lt;port&gt;</span>
<span class="org-variable-name">lifeguard_tcp</span>:
  - vdr 3000  <span class="org-comment-delimiter"># </span><span class="org-comment">don't shutdown if there is an active streamdev connection</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orge6b7405" class="outline-3">
<h3 id="orge6b7405"><span class="section-number-3">5.10.</span> Serial IR</h3>
<div class="outline-text-3" id="text-5-10">
<div class="org-src-container">
<pre class="src src-yaml">
<span class="org-comment-delimiter"># </span><span class="org-comment">Serial device to configure for a homebrew receiver.</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">Choose one of the devices predefined in the variable serial_ir_data in roles/serial-ir/defaults/main.yml</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">ttyS0 (COM1), ttyS1 (COM2), ttyS2(COM3) or ttyS3 (COM4)</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">or customize the variable as needed</span>
<span class="org-comment-delimiter">#</span>
<span class="org-variable-name">serial_ir_device</span>: ttyS0
</pre>
</div>
</div>
</div>
<div id="outline-container-org4ed963e" class="outline-3">
<h3 id="org4ed963e"><span class="section-number-3">5.11.</span> RPI specific variables</h3>
<div class="outline-text-3" id="text-5-11">
<div class="org-src-container">
<pre class="src src-yaml">
<span class="org-comment-delimiter"># </span><span class="org-comment">Key for the MPEG2-Decoder</span>
<span class="org-comment-delimiter">#</span><span class="org-comment">rpi_decode_mpg2: 0xdeadbeef</span>

<span class="org-comment-delimiter"># </span><span class="org-comment">Key for the wvc1-Decoder</span>
<span class="org-comment-delimiter">#</span><span class="org-comment">rpi_decode_wvc1: 0xdeadbeef</span>

<span class="org-comment-delimiter"># </span><span class="org-comment">Pin for the GPIO remote receiver</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">rpi_ir_gpio_pin: 24</span>

<span class="org-comment-delimiter"># </span><span class="org-comment">Pin for the GPIO remote sender (needs additional lirc configuration,</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">which is at the moment beyond the scope of this playbook)</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">rpi_ir_gpio_pin_tx: 13</span>

<span class="org-comment-delimiter"># </span><span class="org-comment">Set the memory for the GPU core - rpihddevice needs 256 MB, which is the default value set by the playbook</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">rpi_gpu_mem = 256</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org27dcdd5" class="outline-2">
<h2 id="org27dcdd5"><span class="section-number-2">6.</span> Roles</h2>
<div class="outline-text-2" id="text-6">
</div>
<div id="outline-container-orga9a0cc2" class="outline-3">
<h3 id="orga9a0cc2"><span class="section-number-3">6.1.</span> install-dependencies</h3>
<div class="outline-text-3" id="text-6-1">
</div>
<div id="outline-container-orgd0e7298" class="outline-4">
<h4 id="orgd0e7298"><span class="section-number-4">6.1.1.</span> tasks</h4>
<div class="outline-text-4" id="text-6-1-1">
</div>
<ol class="org-ol">
<li><a id="org7b6aabc"></a>main.yml<br />
<div class="outline-text-5" id="text-6-1-1-1">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment">---</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> apt | install packages</span>
  <span class="org-keyword">apt</span>:
    <span class="org-variable-name">name</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> packages </span><span class="org-builtin">}}</span><span class="org-string">'</span>
    <span class="org-variable-name">state</span>: present
    <span class="org-variable-name">install_recommends</span>: <span class="org-constant">no</span>
    <span class="org-variable-name">cache_valid_time</span>: 60
</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div id="outline-container-org5fd4f38" class="outline-3">
<h3 id="org5fd4f38"><span class="section-number-3">6.2.</span> nvidia experimental drivers</h3>
<div class="outline-text-3" id="text-6-2">
<p>
install nvidia-430 from ppa:graphics-drivers/ppa
</p>
</div>
<div id="outline-container-org2de8f01" class="outline-4">
<h4 id="org2de8f01"><span class="section-number-4">6.2.1.</span> tasks</h4>
<div class="outline-text-4" id="text-6-2-1">
</div>
<ol class="org-ol">
<li><a id="orgddc66a4"></a>main.yml<br />
<div class="outline-text-5" id="text-6-2-1-1">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment">---</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> add ppa:graphics-drivers/ppa</span>
  <span class="org-keyword">apt_repository</span>:
      <span class="org-variable-name">repo</span>: <span class="org-string">'ppa:graphics-drivers/ppa'</span>
      <span class="org-variable-name">state</span>: present
      <span class="org-variable-name">update_cache</span>: <span class="org-constant">yes</span>
  <span class="org-builtin">tags</span>:
    - ppa

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> install nvidia-430 and other required packages</span>
  <span class="org-keyword">apt</span>:
    <span class="org-variable-name">name</span>:
      - nvidia-driver-430
      - nvidia-settings
    <span class="org-variable-name">state</span>: present
    <span class="org-variable-name">install_recommends</span>: <span class="org-constant">no</span>
  <span class="org-builtin">tags</span>:
    - packages
</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div id="outline-container-orgecf7b82" class="outline-3">
<h3 id="orgecf7b82"><span class="section-number-3">6.3.</span> yavdr-common</h3>
<div class="outline-text-3" id="text-6-3">
<p>
This role is used to set up a basic yaVDR installation. It creates the directories, installs the vdr and other useful packages.
</p>
</div>
<div id="outline-container-orga7ff61e" class="outline-4">
<h4 id="orga7ff61e"><span class="section-number-4">6.3.1.</span> default variables</h4>
<div class="outline-text-4" id="text-6-3-1">
<p>
This section is for reference only, please use the files in <code>global_vars</code> for customizations.
</p>
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment">---</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">file: roles/yavdr-common/defaults/main.yml</span>
</pre>
</div>
</div>

<ol class="org-ol">
<li><a id="org226153b"></a>Repositories<br />
<div class="outline-text-5" id="text-6-3-1-1">
<p>
You can set a list of package repositories which provide the necessary packages. Feel free to use own PPAs if you need special customization to the VDR and it&rsquo;s plugins.
</p>
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-variable-name">branch</span>: experimental
<span class="org-variable-name">repositories</span>:
  - <span class="org-string">'ppa:yavdr/</span><span class="org-builtin">{{</span><span class="org-function-name">branch</span><span class="org-builtin">}}</span><span class="org-string">-main'</span>
  - <span class="org-string">'ppa:yavdr/</span><span class="org-builtin">{{</span><span class="org-function-name">branch</span><span class="org-builtin">}}</span><span class="org-string">-vdr'</span>
  - <span class="org-string">'ppa:yavdr/</span><span class="org-builtin">{{</span><span class="org-function-name">branch</span><span class="org-builtin">}}</span><span class="org-string">-kodi'</span>
  - <span class="org-string">'ppa:yavdr/</span><span class="org-builtin">{{</span><span class="org-function-name">branch</span><span class="org-builtin">}}</span><span class="org-string">-yavdr'</span>

<span class="org-variable-name">rpi_repositories</span>:
  - <span class="org-string">'ppa:yavdr/</span><span class="org-builtin">{{</span><span class="org-function-name">branch</span><span class="org-builtin">}}</span><span class="org-string">-main'</span>
  - <span class="org-string">'ppa:yavdr/</span><span class="org-builtin">{{</span><span class="org-function-name">branch</span><span class="org-builtin">}}</span><span class="org-string">-vdr'</span>

</pre>
</div>
</div>
</li>

<li><a id="org0cef527"></a>Locales and Timezone<br />
<div class="outline-text-5" id="text-6-3-1-2">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-variable-name">timezone</span>: <span class="org-string">'Europe/Berlin'</span>
<span class="org-variable-name">default_locale</span>: <span class="org-string">'de_DE.UTF-8'</span>
<span class="org-variable-name">generate_locales</span>:  <span class="org-comment-delimiter"># </span><span class="org-comment">see entries in /etc/locale.gen</span>
  - <span class="org-string">'de_DE.UTF-8 UTF-8'</span>
  - <span class="org-string">'en_US.UTF-8 UTF-8'</span>
<span class="org-variable-name">language_packs</span>:
  - language-pack-de
  - language-pack-en

</pre>
</div>
</div>
</li>
<li><a id="orgaf8a442"></a>Drivers<br />
<div class="outline-text-5" id="text-6-3-1-3">
<p>
Automatically installed drivers can be very useful, but if you know you need a certain driver, you can simply set it&rsquo;s value to <b>true</b>. If you don&rsquo;t want a driver to be installed, set it&rsquo;s value to <b>false</b>.
</p>
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-variable-name">drivers</span>:
  <span class="org-variable-name">sundtek</span>: auto
  <span class="org-variable-name">ddvb-dkms</span>: auto
</pre>
</div>
</div>
</li>
<li><a id="org8889dbd"></a>Additional Packages<br />
<div class="outline-text-5" id="text-6-3-1-4">
<p>
Add additional packages you would like to have on your installation to this list
</p>
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-variable-name">extra_packages</span>:
  - vim
  - tree
  - w-scan
</pre>
</div>
</div>
</li>
<li><a id="org014b86d"></a>VDR<br />
<div class="outline-text-5" id="text-6-3-1-5">
<p>
This section allows you to set the recording directory, the user and group that runs the vdr and it&rsquo;s home directory.
</p>
<dl class="org-dl">
<dt>user</dt><dd>the vdr user name</dd>
<dt>group</dt><dd>the main group for the user vdr</dd>
<dt>uid</dt><dd>the user id for the user vdr</dd>
<dt>gid</dt><dd>the group id for the group vdr</dd>
<dt>home</dt><dd>the home directory for the user vdr</dd>
<dt>recdir</dt><dd>the recording directory used by VDR</dd>
<dt>hide_first_recording_level</dt><dd>let vdr hide the first directory level of it&rsquo;s recording directory so the content of multiple directories is shown merged together</dd>
<dt>safe_dirnames</dt><dd>replace special characters which are not compatible with Windows file systems and Samba shares</dd>
<dt>override_vdr_charset</dt><dd>workaround for channels with weird EPG encodings, e.g. Sky</dd>
</dl>
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-variable-name">vdr</span>:
    <span class="org-keyword">user</span>: vdr
    <span class="org-keyword">group</span>: vdr
    <span class="org-variable-name">uid</span>: 666
    <span class="org-variable-name">gid</span>: 666
    <span class="org-variable-name">home</span>: /var/lib/vdr
    <span class="org-variable-name">recdir</span>: /srv/vdr/video
    <span class="org-variable-name">hide_first_recording_level</span>: <span class="org-constant">false</span>
    <span class="org-variable-name">safe_dirnames</span>: <span class="org-constant">true</span>
    <span class="org-variable-name">override_vdr_charset</span>: <span class="org-string">""</span>
<span class="org-variable-name">vdr_allowed_hosts</span>: []
</pre>
</div>
</div>
</li>
<li><a id="org482bf52"></a>Standby settings<br />
<div class="outline-text-5" id="text-6-3-1-6">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-variable-name">standby_reload_dvb</span>: <span class="org-constant">true</span>
</pre>
</div>
</div>
</li>
</ol>
</div>

<div id="outline-container-org83e3080" class="outline-4">
<h4 id="org83e3080"><span class="section-number-4">6.3.2.</span> handlers</h4>
<div class="outline-text-4" id="text-6-3-2">
<div class="org-src-container">
<pre class="src src-yaml">- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> reconfigure_tzdata</span>
  <span class="org-keyword">command</span>: &gt;
      <span class="org-string">dpkg-reconfigure --frontend noninteractive tzdata</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> reconfigure_locales</span>
  <span class="org-keyword">command</span>: &gt;
      <span class="org-string">dpkg-reconfigure --frontend noninteractive locales</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> reconfigure_dash</span>
  <span class="org-keyword">command</span>: &gt;
      dpkg-reconfigure -f noninteractive dash
</pre>
</div>
</div>
</div>
<div id="outline-container-org8c315c0" class="outline-4">
<h4 id="org8c315c0"><span class="section-number-4">6.3.3.</span> tasks</h4>
<div class="outline-text-4" id="text-6-3-3">
<p>
yavdr-common executes the following tasks:
</p>
</div>
<ol class="org-ol">
<li><a id="orga896d52"></a>main.yml<br />
<div class="outline-text-5" id="text-6-3-3-1">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment">---</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">file: roles/yavdr-common/tasks/main.yml</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> basic installation</span>
  <span class="org-variable-name">block</span>:
        - <span class="org-ansible-section">import_tasks</span>: configure_apt.yml
        - <span class="org-ansible-section">import_tasks</span>: configure_system.yml
        - <span class="org-ansible-section">import_tasks</span>: create_directories.yml
        - <span class="org-ansible-section">import_tasks</span>: create_sudoers.yml
        - <span class="org-ansible-section">import_tasks</span>: standby_support.yml
  <span class="org-builtin">tags</span>: [install]
</pre>
</div>
</div>
<ol class="org-ol">
<li><a id="org8c768e4"></a>Disable default installation of recommended packages<br />
<div class="outline-text-6" id="text-6-3-3-1-1">
<p>
This task prevents apt to automatically install all recommended dependencies for packages:
</p>
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment">---</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> apt | prevent automatic installation of recommended packages</span>
  <span class="org-keyword">template</span>:
    <span class="org-variable-name">src</span>: templates/90-norecommends.j2
    <span class="org-variable-name">dest</span>: /etc/apt/apt.conf.d/90norecommends

</pre>
</div>
</div>
</li>
<li><a id="orge1b64e3"></a>Set up package repositories<br />
<div class="outline-text-6" id="text-6-3-3-1-2">
<div class="org-src-container">
<pre class="src src-yaml">- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> add PPAs</span>
  <span class="org-keyword">apt_repository</span>:
      <span class="org-variable-name">repo</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> item </span><span class="org-builtin">}}</span><span class="org-string">'</span>
      <span class="org-variable-name">state</span>: present
      <span class="org-variable-name">update_cache</span>: <span class="org-constant">no</span>
  <span class="org-variable-name">loop</span>: <span class="org-string">"</span><span class="org-builtin">{{</span><span class="org-function-name"> repositories|flatten(levels=1) </span><span class="org-builtin">}}</span><span class="org-string">"</span>
  <span class="org-builtin">tags</span>:
    - ppa
  <span class="org-builtin">when</span>: ansible_architecture is match(<span class="org-string">"x86_.*"</span>)

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> add PPAs for Raspberry Pi</span>
  <span class="org-keyword">apt_repository</span>:
      <span class="org-variable-name">repo</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> item </span><span class="org-builtin">}}</span><span class="org-string">'</span>
      <span class="org-variable-name">state</span>: present
      <span class="org-variable-name">update_cache</span>: <span class="org-constant">no</span>
  <span class="org-variable-name">loop</span>: <span class="org-string">"</span><span class="org-builtin">{{</span><span class="org-function-name"> rpi_repositories|flatten(levels=1) </span><span class="org-builtin">}}</span><span class="org-string">"</span>
  <span class="org-builtin">tags</span>:
    - ppa
  <span class="org-builtin">when</span>: ansible_architecture == <span class="org-string">'armv7l'</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> run apt-get dist-upgrade</span>
  <span class="org-keyword">apt</span>:
      <span class="org-variable-name">upgrade</span>: dist
      <span class="org-variable-name">update_cache</span>: <span class="org-constant">yes</span>
</pre>
</div>
</div>
</li>
<li><a id="org5ad0db7"></a>ensure cloud-init is not installed<br />
<div class="outline-text-6" id="text-6-3-3-1-3">
<p>
This should at least prevent black screen errors after a reboot, if the Ubuntu Cloud Server Image has been used for install.
</p>
<div class="org-src-container">
<pre class="src src-yaml">- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> "debconf | disable all cloud-init datasources"</span>
  <span class="org-keyword">debconf</span>:
    <span class="org-variable-name">name</span>: cloud-init
    <span class="org-variable-name">question</span>: cloud-init/datasources
    <span class="org-variable-name">value</span>: <span class="org-string">''</span>
    <span class="org-variable-name">vtype</span>: select
  <span class="org-builtin">register</span>: cloud_init_debconf

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> "command | reconfigure cloud-init package"</span>
  <span class="org-keyword">command</span>: dpkg-reconfigure -f noninteractive cloud-init
  <span class="org-variable-name">ignore_errors</span>: <span class="org-constant">yes</span>
  <span class="org-builtin">when</span>:  cloud_init_debconf.changed
  <span class="org-comment-delimiter"># </span><span class="org-comment">notify: ['rerun required']</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> "apt | ensure package cloud-init is not installed"</span>
  <span class="org-keyword">apt</span>:
    <span class="org-variable-name">name</span>: cloud-init
    <span class="org-variable-name">state</span>: absent
</pre>
</div>
</div>
</li>
<li><a id="org95bc9be"></a>locales and timezone<br />
<div class="outline-text-6" id="text-6-3-3-1-4">
<div class="org-src-container">
<pre class="src src-yaml">- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> apt | ensure packages for tzdata and locales are installed</span>
  <span class="org-keyword">apt</span>:
    <span class="org-variable-name">state</span>: present
    <span class="org-variable-name">name</span>:
      - tzdata
      - locales

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> apt | install language packs</span>
  <span class="org-keyword">apt</span>:
    <span class="org-variable-name">state</span>: present
    <span class="org-variable-name">name</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> language_packs </span><span class="org-builtin">}}</span><span class="org-string">'</span>


- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> set timezone</span>
  <span class="org-variable-name">timezone</span>:
    <span class="org-variable-name">name</span>: <span class="org-string">"</span><span class="org-builtin">{{</span><span class="org-function-name"> timezone </span><span class="org-builtin">}}</span><span class="org-string">"</span>
  <span class="org-builtin">register</span>: tz_setting

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> debconf | set timezone</span>
  <span class="org-variable-name">block</span>:
    - <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> set timezone area</span>
      <span class="org-keyword">debconf</span>:
        <span class="org-variable-name">name</span>: tzdata
        <span class="org-variable-name">question</span>: tzdata/Areas
        <span class="org-variable-name">value</span>: <span class="org-string">"</span><span class="org-builtin">{{</span><span class="org-function-name"> timezone | dirname </span><span class="org-builtin">}}</span><span class="org-string">"</span>
        <span class="org-variable-name">vtype</span>: select
      <span class="org-builtin">notify</span>: reconfigure_tzdata

    - <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> set timezone city</span>
      <span class="org-keyword">debconf</span>:
        <span class="org-variable-name">name</span>: tzdata
        <span class="org-variable-name">question</span>: <span class="org-string">"tzdata/Zones/</span><span class="org-builtin">{{</span><span class="org-function-name"> timezone | dirname </span><span class="org-builtin">}}</span><span class="org-string">"</span>
        <span class="org-variable-name">value</span>: <span class="org-string">"</span><span class="org-builtin">{{</span><span class="org-function-name"> timezone | basename </span><span class="org-builtin">}}</span><span class="org-string">"</span>
        <span class="org-variable-name">vtype</span>: select
      <span class="org-builtin">notify</span>: reconfigure_tzdata
  <span class="org-builtin">when</span>: tz_setting.changed

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> debconf | set default locale</span>
  <span class="org-keyword">debconf</span>:
    <span class="org-variable-name">name</span>: locales
    <span class="org-variable-name">question</span>: locales/default_environment_locale
    <span class="org-variable-name">value</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> default_locale </span><span class="org-builtin">}}</span><span class="org-string">'</span>
    <span class="org-variable-name">vtype</span>: select
  <span class="org-builtin">notify</span>: reconfigure_locales

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> debconf | set locales to be generated</span>
  <span class="org-keyword">debconf</span>:
    <span class="org-variable-name">name</span>: locales
    <span class="org-variable-name">question</span>: locales/locales_to_be_generated
    <span class="org-variable-name">value</span>: <span class="org-string">"</span><span class="org-builtin">{{</span><span class="org-function-name"> generate_locales | join(', ') </span><span class="org-builtin">}}</span><span class="org-string">"</span>
    <span class="org-variable-name">vtype</span>: multiselect
  <span class="org-builtin">notify</span>: reconfigure_locales

</pre>
</div>
</div>
</li>
<li><a id="org6a31b56"></a>Use bash instead of dash<br />
<div class="outline-text-6" id="text-6-3-3-1-5">
<p>
<code>dash</code> is more limited than bash (albeit faster) - since vdr packages and addons ship with a lot of scripts, we use <code>bash</code> as the default shell.
</p>
<div class="org-src-container">
<pre class="src src-yaml">- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> use bash instead of dash</span>
  <span class="org-keyword">debconf</span>:
    <span class="org-variable-name">name</span>: dash
    <span class="org-variable-name">question</span>: dash/sh
    <span class="org-variable-name">value</span>: <span class="org-string">'false'</span>
    <span class="org-variable-name">vtype</span>: select
  <span class="org-builtin">notify</span>: reconfigure_dash

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> flush all handlers</span>
  <span class="org-variable-name">meta</span>: flush_handlers
</pre>
</div>
</div>
</li>

<li><a id="org31c5e38"></a>create user vdr<br /></li>
<li><a id="orgbb11eb1"></a>Disable release-upgrade notifications<br />
<ol class="org-ol">
<li><a id="org8a85ced"></a><span class="todo SOMEDAY">SOMEDAY</span> move from lineinfile to template<br />
<div class="outline-text-7" id="text-6-3-3-1-7-1">
<div class="org-src-container">
<pre class="src src-yaml">- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> disable release-upgrade notifications</span>
  <span class="org-keyword">lineinfile</span>:
    <span class="org-variable-name">path</span>: /etc/update-manager/release-upgrades
    <span class="org-variable-name">backrefs</span>: <span class="org-constant">yes</span>
    <span class="org-variable-name">state</span>: present
    <span class="org-variable-name">regexp</span>: <span class="org-string">'^(Prompt=).*$'</span>
    <span class="org-variable-name">line</span>: <span class="org-string">'Prompt=never'</span>
  <span class="org-variable-name">ignore_errors</span>: <span class="org-constant">yes</span>

</pre>
</div>
</div>
</li>
</ol>
</li>
<li><a id="org12a446f"></a>Install essential packages<br />
<div class="outline-text-6" id="text-6-3-3-1-8">
<div class="org-src-container">
<pre class="src src-yaml">- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> apt | install basic packages</span>
  <span class="org-keyword">apt</span>:
    <span class="org-variable-name">name</span>:
      - anacron
      - acl
      - at
      - bash-completion
      <span class="org-comment-delimiter">#</span><span class="org-comment">- biosdevname  # caution: may change device names after a minimal installation!</span>
      - debconf-utils
      - linux-firmware
      - pciutils
      - psmisc
      - python3-jmespath
      - python3-kmodpy
      - python3-requests
      - python3-ruamel.yaml
      - python3-usb
      - software-properties-common
      - ssh
      - toilet
      - wget
      - wpasupplicant
      - usbutils
      - xfsprogs
      - yavdr-i18n
    <span class="org-variable-name">state</span>: present
    <span class="org-variable-name">install_recommends</span>: <span class="org-constant">no</span>

</pre>
</div>
</div>
</li>
<li><a id="orgcdd90a5"></a>Install additional packages (user defined)<br />
<div class="outline-text-6" id="text-6-3-3-1-9">
<div class="org-src-container">
<pre class="src src-yaml">- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> apt | install extra packages</span>
  <span class="org-keyword">apt</span>:
    <span class="org-variable-name">name</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> extra_packages </span><span class="org-builtin">}}</span><span class="org-string">'</span>
    <span class="org-variable-name">state</span>: present
    <span class="org-variable-name">install_recommends</span>: <span class="org-constant">no</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> apt | install plymouth-theme-yavdr-logo on x86 architectures</span>
  <span class="org-keyword">apt</span>:
    <span class="org-variable-name">name</span>: plymouth-theme-yavdr-logo
  <span class="org-builtin">when</span>: ansible_architecture is match(<span class="org-string">"x86_.*"</span>)
</pre>
</div>
</div>
</li>
<li><a id="org65b7e54"></a>create directories<br /></li>
<li><a id="org4e0bb8f"></a>create sudoers drop-in for vdr<br /></li>
<li><a id="org6458204"></a>basic scripts for standby support<br />
<div class="outline-text-6" id="text-6-3-3-1-12">
<p>
Stop vdr before entering suspend and unload dvb modules, reverse this operation on resume
</p>
</div>
</li>
</ol>
</li>
</ol>
</div>
<div id="outline-container-org6c04271" class="outline-4">
<h4 id="org6c04271"><span class="section-number-4">6.3.4.</span> templates</h4>
<div class="outline-text-4" id="text-6-3-4">
</div>
<ol class="org-ol">
<li><a id="org650f293"></a>apt configuration<br />
<div class="outline-text-5" id="text-6-3-4-1">
<div class="org-src-container">
<pre class="src src-c">{{ ansible_managed | comment(<span class="org-string">'c'</span>) }}
<span class="org-comment-delimiter">// </span><span class="org-comment">Recommends are as of now still abused in many packages</span>
APT::Install-Recommends <span class="org-string">"0"</span>;
APT::Install-Suggests <span class="org-string">"0"</span>;
</pre>
</div>
</div>
</li>
<li><a id="orgf94b38e"></a>yavdr sudoers drop-in<br />
<div class="outline-text-5" id="text-6-3-4-2">
<p>
Allow the vdr user to restart <code>vdr.service</code> and reboot the system
</p>
<div class="org-src-container">
<pre class="src src-shell">{{ vdr.user }} <span class="org-variable-name">ALL</span>=NOPASSWD: /bin/systemctl --no-block restart vdr.service
{{ vdr.user }} <span class="org-variable-name">ALL</span>=NOPASSWD: /bin/systemctl --no-block reboot
</pre>
</div>
</div>
</li>
<li><a id="orgbe09288"></a>suspend hooks<br />
<div class="outline-text-5" id="text-6-3-4-3">
<div class="org-src-container">
<pre class="src src-jinja2">#!/usr/bin/bash
<span class="org-type">{{</span> <span class="org-variable-name">ansible_managed </span><span class="org-keyword">| </span><span class="org-warning">comment</span> <span class="org-type">}}</span>

case $1 <span class="org-builtin">in</span>
  pre)
    # disable <span class="org-string">"_nfs.tcp"</span> avahi announcements
    <span class="org-keyword">for</span> file <span class="org-builtin">in</span> /etc/avahi/services/*.service; <span class="org-builtin">do</span>
        <span class="org-keyword">if</span> grep -Fq <span class="org-string">"_nfs._tcp"</span> <span class="org-string">"$file"</span>; then
            echo <span class="org-string">"rename $file to ${file%%.*}.disabled"</span>
            mv <span class="org-string">"$file"</span> <span class="org-string">"${file%%.*}.disabled"</span>
        fi
    done

    /bin/systemctl stop vdr
    /usr/bin/frontend-dbus-send shutdown_successfull
    <span class="org-function-name">{%</span> <span class="org-keyword">if</span> standby_reload_dvb <span class="org-function-name">%}</span>
    echo <span class="org-string">"unload dvb drivers"</span>
    /usr/local/bin/module-helper -u dvb_core
    <span class="org-function-name">{%</span> <span class="org-keyword">endif</span> <span class="org-function-name">%}</span>
    ;;
  post)
    # start current frontend again
    <span class="org-keyword">if</span> [ -x /usr/bin/frontend-dbus-send ]
    then
        /usr/bin/frontend-dbus-send start ||:
    fi

    # reload rc-core keytables
    <span class="org-keyword">if</span> [ -x /usr/bin/ir-keytable ]
    then
        <span class="org-keyword">for</span> remote <span class="org-builtin">in</span> $(ir-keytable 2&gt;&amp;1 <span class="org-keyword">| </span><span class="org-warning">grep</span> rc/rc <span class="org-keyword">| </span><span class="org-warning">egrep</span> -o <span class="org-string">"rc[0-9]{1,}"</span>)
        <span class="org-builtin">do</span>
            /usr/bin/ir-keytable -a /etc/rc_maps.cfg --sysdev $remote
        done
    fi

    <span class="org-function-name">{%</span> <span class="org-keyword">if</span> standby_reload_dvb <span class="org-function-name">%}</span>
    echo <span class="org-string">"restore dvb drivers"</span>
    /usr/local/bin/module-helper -r
    <span class="org-function-name">{%</span> <span class="org-keyword">endif</span> <span class="org-function-name">%}</span>

    # wait up to 10 seconds <span class="org-keyword">for</span> the network
    timeout=0
    while [ -z <span class="org-string">"$(hostname --all-fqdns)"</span> ]
    <span class="org-builtin">do</span>
        echo <span class="org-string">"waiting for network..."</span>
        sleep .5
        [ $(( timeout++ )) -ge 20 ] &amp;&amp; <span class="org-builtin">break</span>
    done

    # restore <span class="org-string">"_nfs._tcp"</span> avahi announcements
    <span class="org-keyword">for</span> file <span class="org-builtin">in</span> /etc/avahi/services/*.disabled; <span class="org-builtin">do</span>
        <span class="org-keyword">if</span> grep -Fq <span class="org-string">"_nfs._tcp"</span> <span class="org-string">"$file"</span>; then
            echo <span class="org-string">"rename $file to ${file%%.*}.service"</span>
            mv <span class="org-string">"$file"</span> <span class="org-string">"${file%%.*}.service"</span>
        fi
    done

    /bin/systemctl start vdr
    ;;
esac

</pre>
</div>
</div>
</li>
<li><a id="org94ad3cb"></a>module-helper<br />
<div class="outline-text-5" id="text-6-3-4-4">
<div class="org-src-container">
<pre class="src src-python"><span class="org-comment-delimiter"># </span><span class="org-comment">{{ ansible_managed | comment }}</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">based on http://www.e-tobi.net/blog/files/module-helper</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">http://www.e-tobi.net/blog/2010/11/06/squeeze-vdr-teil-9-suspend-to-ram</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">ported to python3 by Alexander Grothe</span>
<span class="org-comment-delimiter">#</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">This script resolves linux kernel module dependencies automatically, so only</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">the base module has to be specified (e.g. dvb_core)</span>

<span class="org-keyword">import</span> argparse
<span class="org-keyword">import</span> subprocess
<span class="org-keyword">import</span> pickle

<span class="org-variable-name">dependency_map</span> = {}


<span class="org-keyword">def</span> <span class="org-function-name">find_dependencies</span>(module, dependencies=[]):
    dependencies.append(module)
    <span class="org-keyword">if</span> module <span class="org-keyword">in</span> dependency_map:
        <span class="org-keyword">for</span> dependency <span class="org-keyword">in</span> dependency_map[module]:
            find_dependencies(dependency, dependencies)
    <span class="org-keyword">return</span> dependencies


<span class="org-keyword">def</span> <span class="org-function-name">build_module_dependency_map</span>():
    <span class="org-keyword">with</span> subprocess.Popen([<span class="org-string">'lsmod'</span>],
                          stdout=subprocess.PIPE,
                          universal_newlines=<span class="org-constant">True</span>
                          ) <span class="org-keyword">as</span> p:
        <span class="org-keyword">for</span> line <span class="org-keyword">in</span> p.stdout:
            <span class="org-variable-name">values</span> = line.split()
            <span class="org-keyword">if</span> <span class="org-builtin">len</span>(values) &gt; 3:
                <span class="org-comment-delimiter">#</span><span class="org-comment">print("module {} depends on {}".format(values[0], values[3]))</span>
                dependency_map[values[0]] = values[3].split(<span class="org-string">','</span>)


<span class="org-keyword">def</span> <span class="org-function-name">run_command_on_module_list</span>(command, module_list):
    <span class="org-keyword">for</span> module <span class="org-keyword">in</span> module_list:
        <span class="org-variable-name">cmd</span> = [command, module]
        subprocess.call(cmd)


<span class="org-keyword">def</span> <span class="org-function-name">create_argparser</span>():
    <span class="org-variable-name">parser</span> = argparse.ArgumentParser(description=<span class="org-string">"load or unload modules"</span>)
    <span class="org-variable-name">group</span> = parser.add_mutually_exclusive_group()
    group.add_argument(<span class="org-string">'-u'</span>, <span class="org-string">'--unload'</span>, metavar=<span class="org-string">'MODULE'</span>, nargs=<span class="org-string">'+'</span>,
                       <span class="org-builtin">help</span>=<span class="org-string">'unload modules'</span>)
    group.add_argument(<span class="org-string">'-r'</span>, <span class="org-string">'--reload'</span>, action=<span class="org-string">'store_true'</span>,
                       <span class="org-builtin">help</span>=<span class="org-string">'reload modules'</span>)
    parser.add_argument(<span class="org-string">'-t'</span>, <span class="org-string">'--temp-file'</span>, nargs=<span class="org-string">'?'</span>,
                        default=<span class="org-string">'/tmp/modules.list'</span>,
                        <span class="org-builtin">help</span>=<span class="org-string">'''store names of unloaded modules in a file,</span>
<span class="org-string">                              default location is /tmp/modules.list'''</span>)
    <span class="org-keyword">return</span> parser

<span class="org-keyword">if</span> <span class="org-builtin">__name__</span> == <span class="org-string">'__main__'</span>:
    <span class="org-variable-name">parser</span> = create_argparser()
    <span class="org-variable-name">args</span> = parser.parse_args()
    <span class="org-keyword">if</span> args.unload:
        build_module_dependency_map()
        <span class="org-variable-name">all_modules</span> = []
        <span class="org-keyword">for</span> module <span class="org-keyword">in</span> args.unload:
            all_modules.extend(find_dependencies(module))
        all_modules.reverse()
        <span class="org-keyword">try</span>:
            <span class="org-keyword">with</span> <span class="org-builtin">open</span>(args.temp_file, <span class="org-string">'wb'</span>) <span class="org-keyword">as</span> f:
                pickle.dump(all_modules, f)
            run_command_on_module_list(<span class="org-string">'rmmod'</span>, all_modules)
        <span class="org-keyword">except</span> <span class="org-type">Exception</span> <span class="org-keyword">as</span> e:
            <span class="org-keyword">print</span>(e)
            <span class="org-keyword">pass</span>
    <span class="org-keyword">elif</span> args.<span class="org-builtin">reload</span>:
        <span class="org-keyword">with</span> <span class="org-builtin">open</span>(args.temp_file, <span class="org-string">'rb'</span>) <span class="org-keyword">as</span> f:
            <span class="org-variable-name">all_modules</span> = pickle.load(f)
        run_command_on_module_list(<span class="org-string">'modprobe'</span>, all_modules)
    <span class="org-keyword">else</span>:
        parser.print_help()
</pre>
</div>
</div>
</li>
</ol>
</div>
<div id="outline-container-orgc6efa29" class="outline-4">
<h4 id="orgc6efa29"><span class="section-number-4">6.3.5.</span> MOTD</h4>
<div class="outline-text-4" id="text-6-3-5">
</div>
<ol class="org-ol">
<li><a id="orgbefc40c"></a>Header<br />
<div class="outline-text-5" id="text-6-3-5-1">
<div class="org-src-container">
<pre class="src src-shell"><span class="org-comment-delimiter">#</span>
<span class="org-comment-delimiter">#    </span><span class="org-comment">00-header - create the header of the MOTD</span>
<span class="org-comment-delimiter">#    </span><span class="org-comment">Copyright (C) 2009-2010 Canonical Ltd.</span>
<span class="org-comment-delimiter">#                  </span><span class="org-comment">2019      Alexander Grothe</span>
<span class="org-comment-delimiter">#</span>
<span class="org-comment-delimiter">#    </span><span class="org-comment">Authors: Dustin Kirkland <a href="mailto:kirkland%40canonical.com">&lt;kirkland@canonical.com&gt;</a></span>
<span class="org-comment-delimiter">#             </span><span class="org-comment">Alexander Grothe <a href="mailto:seahawk1986%40gmx.de">&lt;seahawk1986@gmx.de&gt;</a></span>
<span class="org-comment-delimiter">#</span>
<span class="org-comment-delimiter">#    </span><span class="org-comment">This program is free software; you can redistribute it and/or modify</span>
<span class="org-comment-delimiter">#    </span><span class="org-comment">it under the terms of the GNU General Public License as published by</span>
<span class="org-comment-delimiter">#    </span><span class="org-comment">the Free Software Foundation; either version 2 of the License, or</span>
<span class="org-comment-delimiter">#    </span><span class="org-comment">(at your option) any later version.</span>
<span class="org-comment-delimiter">#</span>
<span class="org-comment-delimiter">#    </span><span class="org-comment">This program is distributed in the hope that it will be useful,</span>
<span class="org-comment-delimiter">#    </span><span class="org-comment">but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="org-comment-delimiter">#    </span><span class="org-comment">MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span class="org-comment-delimiter">#    </span><span class="org-comment">GNU General Public License for more details.</span>
<span class="org-comment-delimiter">#</span>
<span class="org-comment-delimiter">#    </span><span class="org-comment">You should have received a copy of the GNU General Public License along</span>
<span class="org-comment-delimiter">#    </span><span class="org-comment">with this program; if not, write to the Free Software Foundation, Inc.,</span>
<span class="org-comment-delimiter">#    </span><span class="org-comment">51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.</span>

toilet -S -f <span class="org-string">"smblock.tlf"</span> --metal -t <span class="org-string">"yaVDR-ansible"</span> 2&gt;/dev/null || <span class="org-builtin">echo</span> <span class="org-string">"yavdr-ansible"</span>

[ -r /etc/lsb-release ] &amp;&amp; <span class="org-builtin">.</span> /etc/lsb-release

<span class="org-keyword">if</span> [ -z <span class="org-string">"$DISTRIB_DESCRIPTION"</span> ] &amp;&amp; [ -x /usr/bin/lsb_release ]; <span class="org-keyword">then</span>
    <span class="org-comment-delimiter"># </span><span class="org-comment">Fall back to using the very slow lsb_release utility</span>
    <span class="org-variable-name">DISTRIB_DESCRIPTION</span>=$(<span class="org-sh-quoted-exec">lsb_release</span> -s -d)
<span class="org-keyword">fi</span>

<span class="org-builtin">printf</span> <span class="org-string">"%s (%s %s %s)\n"</span> <span class="org-string">"$DISTRIB_DESCRIPTION"</span> <span class="org-string">"$(</span><span class="org-sh-quoted-exec">uname</span><span class="org-string"> -o)"</span> <span class="org-string">"$(</span><span class="org-sh-quoted-exec">uname</span><span class="org-string"> -r)"</span> <span class="org-string">"$(</span><span class="org-sh-quoted-exec">uname</span><span class="org-string"> -m)"</span>
</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div id="outline-container-org8922c33" class="outline-3">
<h3 id="org8922c33"><span class="section-number-3">6.4.</span> vdr-addon-lifeguardng</h3>
<div class="outline-text-3" id="text-6-4">
</div>
<div id="outline-container-org1c13229" class="outline-4">
<h4 id="org1c13229"><span class="section-number-4">6.4.1.</span> variables</h4>
<div class="outline-text-4" id="text-6-4-1">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-variable-name">lifeguard_enable_nfs</span>: <span class="org-constant">True</span>
<span class="org-variable-name">lifeguard_enable_samba</span>: <span class="org-constant">True</span>
<span class="org-variable-name">lifeguard_enable_ssh</span>: <span class="org-constant">True</span>
<span class="org-variable-name">lifeguard_hosts</span>: []
<span class="org-variable-name">lifeguard_users</span>: []
<span class="org-variable-name">lifeguard_processes</span>: []
<span class="org-variable-name">lifeguard_tcp</span>:
  - vdr 3000
</pre>
</div>
</div>
</div>

<div id="outline-container-org3035d31" class="outline-4">
<h4 id="org3035d31"><span class="section-number-4">6.4.2.</span> tasks</h4>
<div class="outline-text-4" id="text-6-4-2">
<div class="org-src-container">
<pre class="src src-yaml">- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> apt | install vdr-addon-lifeguard-ng</span>
  <span class="org-keyword">apt</span>:
    <span class="org-variable-name">name</span>: vdr-addon-lifeguard-ng
    <span class="org-variable-name">state</span>: present

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> expand template for vdr-addon-lifeguard-ng configuration file</span>
  <span class="org-keyword">template</span>:
    <span class="org-variable-name">src</span>: templates/lifeguard.conf.j2
    <span class="org-variable-name">dest</span>: /etc/lifeguard.conf
  <span class="org-builtin">notify</span>: Restart vdr-addon-lifeguard-ng
</pre>
</div>
</div>
</div>
<div id="outline-container-org9393d13" class="outline-4">
<h4 id="org9393d13"><span class="section-number-4">6.4.3.</span> templates</h4>
<div class="outline-text-4" id="text-6-4-3">
<div class="org-src-container">
<pre class="src src-jinja2"><span class="org-type">{{</span> <span class="org-variable-name">ansible_managed </span><span class="org-keyword">| </span><span class="org-warning">comment</span> <span class="org-type">}}</span>

[Options]
EnableNFS = <span class="org-type">{{</span> <span class="org-variable-name">lifeguard_enable_nfs</span> <span class="org-type">}}</span>
EnableSamba = <span class="org-type">{{</span> <span class="org-variable-name">lifeguard_enable_samba</span> <span class="org-type">}}</span>
EnableSSH = <span class="org-type">{{</span> <span class="org-variable-name">lifeguard_enable_ssh</span> <span class="org-type">}}</span>
[Hosts]
# ping hostnames <span class="org-builtin">or</span> IP addresses (which are faster than hostnames)
# Caution: pinging hosts can be quite slow!
<span class="org-function-name">{%</span> <span class="org-keyword">for</span> host <span class="org-builtin">in</span> lifeguard_hosts <span class="org-function-name">%}</span>
<span class="org-type">{{</span> <span class="org-variable-name">host</span> <span class="org-type">}}</span>
<span class="org-function-name">{%</span> <span class="org-keyword">endfor</span> <span class="org-function-name">%}</span>
[Process]
# one process name per line
<span class="org-function-name">{%</span> <span class="org-keyword">for</span> process <span class="org-builtin">in</span> lifeguard_processes <span class="org-function-name">%}</span>
<span class="org-type">{{</span> <span class="org-variable-name">process</span> <span class="org-type">}}</span>
<span class="org-function-name">{%</span> <span class="org-keyword">endfor</span> <span class="org-function-name">%}</span>
[User]
# one user name per line
<span class="org-function-name">{%</span> <span class="org-keyword">for</span> user <span class="org-builtin">in</span> lifeguard_users <span class="org-function-name">%}</span>
<span class="org-type">{{</span> <span class="org-variable-name">user</span> <span class="org-type">}}</span>
<span class="org-function-name">{%</span> <span class="org-keyword">endfor</span> <span class="org-function-name">%}</span>
[TCP]
# process name [:] &lt;<span class="org-function-name">port</span>&gt; [&lt;<span class="org-function-name">another</span> port&gt;]
<span class="org-function-name">{%</span> <span class="org-keyword">for</span> connection <span class="org-builtin">in</span> lifeguard_tcp <span class="org-function-name">%}</span>
<span class="org-type">{{</span> <span class="org-variable-name">connection</span> <span class="org-type">}}</span>
<span class="org-function-name">{%</span> <span class="org-keyword">endfor</span> <span class="org-function-name">%}</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org49cd198" class="outline-3">
<h3 id="org49cd198"><span class="section-number-3">6.5.</span> collect facts about the system with custom modules</h3>
<div class="outline-text-3" id="text-6-5">
</div>
<div id="outline-container-org65edda9" class="outline-4">
<h4 id="org65edda9"><span class="section-number-4">6.5.1.</span> variables</h4>
<div class="outline-text-4" id="text-6-5-1">
<div class="org-src-container">
<pre class="src src-yaml">
</pre>
</div>
</div>
</div>
<div id="outline-container-org19313e0" class="outline-4">
<h4 id="org19313e0"><span class="section-number-4">6.5.2.</span> tasks</h4>
<div class="outline-text-4" id="text-6-5-2">
</div>
<ol class="org-ol">
<li><a id="orgcae0f6e"></a>main.yml<br />
<div class="outline-text-6" id="text-6-5-2-0-1">
<div class="org-src-container">
<pre class="src src-yaml">- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> get information about usb and pci hardware and loaded kernel modules</span>
  <span class="org-variable-name">hardware_facts</span>:
    <span class="org-variable-name">usb</span>: <span class="org-constant">True</span>
    <span class="org-variable-name">pci</span>: <span class="org-constant">True</span>
    <span class="org-variable-name">serial</span>: <span class="org-constant">True</span>
    <span class="org-variable-name">modules</span>: <span class="org-constant">True</span>
    <span class="org-variable-name">gpus</span>: <span class="org-constant">True</span>
    <span class="org-variable-name">acpi_power_modes</span>: <span class="org-constant">True</span>
  <span class="org-builtin">tags</span>:
    - always

- <span class="org-keyword">debug</span>:
    <span class="org-variable-name">var</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> item </span><span class="org-builtin">}}</span><span class="org-string">'</span>
    <span class="org-variable-name">verbosity</span>: 1
  <span class="org-variable-name">loop</span>:
    - usb
    - pci
    - serial
    - gpus
    - modules
    - acpi_power_modes
    - nvidia_detected
    - intel_detected
    - amd_detected
    - virtualbox_detected

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> get detailed PCI device information</span>
  <span class="org-variable-name">pci_facts</span>:
  <span class="org-builtin">tags</span>:
    - always

- <span class="org-keyword">debug</span>:
    <span class="org-variable-name">var</span>: pci_devices
    <span class="org-variable-name">verbosity</span>: 1

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> known vdr output plugins</span>
  <span class="org-keyword">set_fact</span>:
    <span class="org-variable-name">vdr_output_plugins</span>:
      - softhddevice
      - xineliboutput
      - xine
</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div id="outline-container-org937f471" class="outline-3">
<h3 id="org937f471"><span class="section-number-3">6.6.</span> vdr</h3>
<div class="outline-text-3" id="text-6-6">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-variable-name">streamdev_client_remote_ip</span>: <span class="org-string">''</span>

<span class="org-variable-name">known_output_plugins</span>:
  - vdr-plugin-rpihddevice
  - vdr-plugin-softhddevice
  - vdr-plugin-softhddevice-cuvid
  - vdr-plugin-softhddevice-openglosd
  - vdr-plugin-softhdcuvid
  - vdr-plugin-softhddrm
  - vdr-plugin-softhdvaapi
  - vdr-plugin-vaapidevice
  - vdr-plugin-xine
  - vdr-plugin-xineliboutput
</pre>
</div>
</div>
<div id="outline-container-org4d1882f" class="outline-4">
<h4 id="org4d1882f"><span class="section-number-4">6.6.1.</span> tasks</h4>
<div class="outline-text-4" id="text-6-6-1">
</div>
<ol class="org-ol">
<li><a id="org7493b21"></a>install the basic vdr packages<br />
<div class="outline-text-5" id="text-6-6-1-1">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment">---</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">file: roles/vdr/tasks/main.yml</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> apt | install basic vdr packages</span>
  <span class="org-keyword">apt</span>:
    <span class="org-variable-name">name</span>:
      - vdr
      - vdrctl
      - vdr-plugin-dbus2vdr
    <span class="org-variable-name">state</span>: present
    <span class="org-variable-name">install_recommends</span>: <span class="org-constant">no</span>
</pre>
</div>
</div>
</li>
<li><a id="org4243055"></a>Add svdrp/svdrp-disc to /etc/services<br />
<div class="outline-text-5" id="text-6-6-1-2">
<div class="org-src-container">
<pre class="src src-yaml">- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> add svdrp and svdrp-disc to /etc/services</span>
  <span class="org-keyword">lineinfile</span>:
    <span class="org-variable-name">dest</span>: /etc/services
    <span class="org-variable-name">state</span>: present
    <span class="org-variable-name">line</span>: <span class="org-string">"</span><span class="org-builtin">{{</span><span class="org-function-name"> item </span><span class="org-builtin">}}</span><span class="org-string">"</span>
  <span class="org-variable-name">loop</span>:
    - <span class="org-string">"svdrp            6419/tcp"</span>
    - <span class="org-string">"svdrp-disc       6419/udp"</span>
</pre>
</div>
</div>
</li>
<li><a id="org069fc18"></a>allow dbus2vdr to use the system bus<br />
<div class="outline-text-5" id="text-6-6-1-3">
<div class="org-src-container">
<pre class="src src-yaml">- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> configure dbus2vdr for vdr instance id "{{ vdr.instance_id | default(0) }}" and user "{{ vdr.user }}"</span>
  <span class="org-ansible-section">vars</span>:
    <span class="org-variable-name">vdr_instance_id</span>: <span class="org-string">"</span><span class="org-builtin">{{</span><span class="org-function-name"> '' if vdr.instance_id | default(0) | int == 0 else vdr.instance_id </span><span class="org-builtin">}}</span><span class="org-string">"</span>
  <span class="org-keyword">template</span>:
    <span class="org-variable-name">src</span>: dbus2vdr/de.tvdr.vdr.conf.j2
    <span class="org-variable-name">dest</span>: /etc/dbus-1/system.d/de.tvdr.vdr.conf
</pre>
</div>
</div>
</li>
<li><a id="org064521e"></a>Set up the recording directory for the vdr user<br />
<div class="outline-text-5" id="text-6-6-1-4">
<div class="org-src-container">
<pre class="src src-yaml">- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> create vdr recdir</span>
  <span class="org-keyword">file</span>:
    <span class="org-variable-name">state</span>: directory
    <span class="org-variable-name">owner</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.user </span><span class="org-builtin">}}</span><span class="org-string">'</span>
    <span class="org-keyword">group</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.group </span><span class="org-builtin">}}</span><span class="org-string">'</span>
    <span class="org-variable-name">mode</span>: 0775
    <span class="org-variable-name">dest</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.recdir </span><span class="org-builtin">}}</span><span class="org-string">'</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> set vdr charset override</span>
  <span class="org-keyword">template</span>:
    <span class="org-variable-name">src</span>: conf.d/02-vdr-charset-override.conf.j2
    <span class="org-variable-name">dest</span>: /etc/vdr/conf.d/02-vdr-charset-override.conf

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> set option to use hide-first-recording-level patch</span>
  <span class="org-keyword">template</span>:
    <span class="org-variable-name">src</span>: conf.d/04-vdr-hide-first-recordinglevel.conf.j2
    <span class="org-variable-name">dest</span>: /etc/vdr/conf.d/04-vdr-hide-first-recordinglevel.conf


- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> set instance id for vdr</span>
  <span class="org-keyword">template</span>:
    <span class="org-variable-name">src</span>: conf.d/05-vdr-instance.conf.j2
    <span class="org-variable-name">dest</span>: /etc/vdr/conf.d/05-vdr-instance.conf

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> set option to define recordings directory</span>
  <span class="org-keyword">template</span>:
    <span class="org-variable-name">src</span>: conf.d/06-vdr-recordings.conf.j2
    <span class="org-variable-name">dest</span>: /etc/vdr/conf.d/06-vdr-recordings.conf

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> create local dir in recdir</span>
  <span class="org-keyword">file</span>:
    <span class="org-variable-name">state</span>: directory
    <span class="org-variable-name">owner</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.user </span><span class="org-builtin">}}</span><span class="org-string">'</span>
    <span class="org-keyword">group</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.group </span><span class="org-builtin">}}</span><span class="org-string">'</span>
    <span class="org-variable-name">mode</span>: <span class="org-string">'0775'</span>
    <span class="org-variable-name">dest</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.recdir </span><span class="org-builtin">}}</span><span class="org-string">/local'</span>
  <span class="org-builtin">when</span>:
    vdr.hide_first_recording_level

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> set VDR_ID for shells in /etc/profile.d/</span>
  <span class="org-keyword">template</span>:
    <span class="org-variable-name">src</span>: vdr-dbus-send-vdr-id.sh
    <span class="org-variable-name">dest</span>: /etc/profile.d/vdr-dbus-send-vdr-id.sh
  <span class="org-builtin">notify</span>: [<span class="org-string">"reboot required"</span>]

<span class="org-comment-delimiter"># </span><span class="org-comment">TODO: set user etc. in /etc/vdr/conf.d/</span>

</pre>
</div>
</div>
</li>
<li><a id="org0c9566a"></a>Install additional vdr plugins<br />
<div class="outline-text-5" id="text-6-6-1-5">
<p>
The additional plugins to install can be set in the variable <code>{{vdr_plugins}}</code> in the group variables
</p>
<div class="org-src-container">
<pre class="src src-yaml">- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> apt | install additional vdr plugins</span>
  <span class="org-keyword">apt</span>:
    <span class="org-variable-name">name</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr_plugins | default([]) </span><span class="org-builtin">}}</span><span class="org-string">'</span>
    <span class="org-variable-name">state</span>: present
    <span class="org-variable-name">install_recommends</span>: <span class="org-constant">no</span>
  <span class="org-builtin">notify</span>: [ <span class="org-string">'Restart VDR'</span> ]
</pre>
</div>
</div>
</li>

<li><a id="orgf9b2a01"></a>create or copy vdr configuration files<br />
<div class="outline-text-5" id="text-6-6-1-6">
<p>
Because some files are changed by the vdr at runtime, we won&rsquo;t overwrite them if the task is marked with <code>force: no</code>.
</p>
<div class="org-src-container">
<pre class="src src-yaml">- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> ensure vdr is stopped</span>
  <span class="org-keyword">systemd</span>:
    <span class="org-variable-name">name</span>: vdr.service
    <span class="org-variable-name">state</span>: stopped
  <span class="org-builtin">notify</span>: [ <span class="org-string">'Start VDR'</span> ]

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> "vdr configuration | copy remote.conf if it doesn't exist yet"</span>
  <span class="org-keyword">copy</span>:
    <span class="org-variable-name">src</span>: files/remote.conf
    <span class="org-variable-name">dest</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.confdir </span><span class="org-builtin">}}</span><span class="org-string">/remote.conf'</span>
    <span class="org-variable-name">owner</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.user </span><span class="org-builtin">}}</span><span class="org-string">'</span>
    <span class="org-keyword">group</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.group </span><span class="org-builtin">}}</span><span class="org-string">'</span>
    <span class="org-variable-name">mode</span>: 0644
    <span class="org-variable-name">force</span>: <span class="org-constant">no</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> "vdr configuration | copy keymacros.conf"</span>
  <span class="org-keyword">copy</span>:
    <span class="org-variable-name">src</span>: files/keymacros.conf
    <span class="org-variable-name">dest</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.etc_confdir </span><span class="org-builtin">}}</span><span class="org-string">/keymacros.conf'</span>
    <span class="org-variable-name">owner</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.user </span><span class="org-builtin">}}</span><span class="org-string">'</span>
    <span class="org-keyword">group</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.group </span><span class="org-builtin">}}</span><span class="org-string">'</span>
    <span class="org-variable-name">mode</span>: 0644
    <span class="org-variable-name">force</span>: <span class="org-constant">yes</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> "vdr configuration | copy channels.conf if it doesn't exist yet"</span>
  <span class="org-keyword">copy</span>:
    <span class="org-variable-name">src</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr_channels_conf </span><span class="org-builtin">}}</span><span class="org-string">'</span>
    <span class="org-variable-name">dest</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.confdir </span><span class="org-builtin">}}</span><span class="org-string">/channels.conf'</span>
    <span class="org-variable-name">owner</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.user </span><span class="org-builtin">}}</span><span class="org-string">'</span>
    <span class="org-keyword">group</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.group </span><span class="org-builtin">}}</span><span class="org-string">'</span>
    <span class="org-variable-name">mode</span>: 0644
    <span class="org-variable-name">force</span>: <span class="org-constant">no</span>
  <span class="org-builtin">when</span>: vdr_channels_conf is defined

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> "vdr configuration | download channels.conf if it doesn't exist yet"</span>
  <span class="org-keyword">get_url</span>:
    <span class="org-variable-name">url</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr_channels_conf_url </span><span class="org-builtin">}}</span><span class="org-string">'</span>
    <span class="org-variable-name">dest</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.confdir </span><span class="org-builtin">}}</span><span class="org-string">/channels.conf'</span>
    <span class="org-variable-name">owner</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.user </span><span class="org-builtin">}}</span><span class="org-string">'</span>
    <span class="org-keyword">group</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.group </span><span class="org-builtin">}}</span><span class="org-string">'</span>
    <span class="org-variable-name">mode</span>: 0644
    <span class="org-variable-name">force</span>: <span class="org-constant">no</span>
  <span class="org-builtin">when</span>: vdr_channels_conf is not defined and vdr_channels_conf_url is defined

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> "vdr configuration | svdrphosts.conf"</span>
  <span class="org-keyword">template</span>:
    <span class="org-variable-name">src</span>: templates/svdrphosts.conf.j2
    <span class="org-variable-name">dest</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.etc_confdir </span><span class="org-builtin">}}</span><span class="org-string">/svdrphosts.conf'</span>
    <span class="org-variable-name">mode</span>: 0644
  <span class="org-ansible-section">vars</span>:
    <span class="org-variable-name">svdrphosts</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr_svdrphosts | default(vdr_allowed_hosts) </span><span class="org-builtin">}}</span><span class="org-string">'</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> "vdr configuration | /etc/default/vdr"</span>
  <span class="org-keyword">template</span>:
    <span class="org-variable-name">src</span>: templates/default_vdr.j2
    <span class="org-variable-name">dest</span>: /etc/default/vdr

</pre>
</div>
</div>
</li>
<li><a id="org6646397"></a>plugin preconfiguration<br />
<div class="outline-text-5" id="text-6-6-1-7">
<p>
Set up IP resp. IP range based access for VDR plugins
</p>
</div>
<ol class="org-ol">
<li><a id="org15d07ee"></a>xineliboutput<br />
<div class="outline-text-6" id="text-6-6-1-7-1">
<div class="org-src-container">
<pre class="src src-yaml">- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> ensure directory '/etc/vdr/xineliboutput' exists</span>
  <span class="org-keyword">file</span>:
    <span class="org-variable-name">state</span>: directory
    <span class="org-variable-name">mode</span>: 0775
    <span class="org-variable-name">dest</span>: <span class="org-string">'/etc/vdr/plugins/xineliboutput'</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> "vdr configuration | allowed_hosts.conf for xineliboutput"</span>
  <span class="org-keyword">template</span>:
    <span class="org-variable-name">src</span>: templates/generic_allowed_hosts.conf.j2
    <span class="org-variable-name">dest</span>: <span class="org-string">'/etc/vdr/plugins/</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr_service </span><span class="org-builtin">}}</span><span class="org-string">/allowed_hosts.conf'</span>
    <span class="org-variable-name">mode</span>: 0644
  <span class="org-ansible-section">vars</span>:
    <span class="org-variable-name">allowed_hosts</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> xineliboutput_allowed_hosts | default(vdr_allowed_hosts) </span><span class="org-builtin">}}</span><span class="org-string">'</span>
    <span class="org-variable-name">vdr_service</span>: xineliboutput

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> "vdr configuration | xineliboutput.conf host settings"</span>
  <span class="org-keyword">template</span>:
    <span class="org-variable-name">src</span>: templates/xineliboutput.conf.j2
    <span class="org-variable-name">dest</span>: /etc/vdr/conf.avail/xineliboutput.conf
    <span class="org-variable-name">mode</span>: 0644
  <span class="org-ansible-section">vars</span>:
    <span class="org-variable-name">allowed_hosts</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> xineliboutput_allowed_hosts | default(vdr_allowed_hosts) </span><span class="org-builtin">}}</span><span class="org-string">'</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> "disable/enable wait-for-dvb@.service for configured devices"</span>
  <span class="org-keyword">systemd</span>:
    <span class="org-variable-name">enabled</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> "yes" if item in wait_for_dvb_devices|default([]) else "no" </span><span class="org-builtin">}}</span><span class="org-string">'</span>
    <span class="org-variable-name">name</span>: <span class="org-string">'wait-for-dvb@</span><span class="org-builtin">{{</span><span class="org-function-name"> item </span><span class="org-builtin">}}</span><span class="org-string">.service'</span>
  <span class="org-variable-name">loop</span>: <span class="org-string">"</span><span class="org-builtin">{{</span><span class="org-function-name"> range(max_num_dvb_devices|default(16))|list </span><span class="org-builtin">}}</span><span class="org-string">"</span>
</pre>
</div>
</div>
</li>
<li><a id="org4417648"></a>vnsiserver<br />
<div class="outline-text-6" id="text-6-6-1-7-2">
<div class="org-src-container">
<pre class="src src-yaml">- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> ensure directory '/etc/vdr/plugins/vnsiserver' exists</span>
  <span class="org-keyword">file</span>:
    <span class="org-variable-name">state</span>: directory
    <span class="org-variable-name">mode</span>: 0775
    <span class="org-variable-name">dest</span>: <span class="org-string">'/etc/vdr/plugins/vnsiserver'</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> "vdr configuration | allowed_hosts.conf for vnsiserver"</span>
  <span class="org-keyword">template</span>:
    <span class="org-variable-name">src</span>: templates/generic_allowed_hosts.conf.j2
    <span class="org-variable-name">dest</span>: <span class="org-string">'/etc/vdr/plugins/</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr_service </span><span class="org-builtin">}}</span><span class="org-string">/allowed_hosts.conf'</span>
    <span class="org-variable-name">mode</span>: 0644
  <span class="org-ansible-section">vars</span>:
    <span class="org-variable-name">allowed_hosts</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vnsiserver_allowed_hosts | default(vdr_allowed_hosts) </span><span class="org-builtin">}}</span><span class="org-string">'</span>
    <span class="org-variable-name">vdr_service</span>: vnsiserver

</pre>
</div>
</div>
</li>
<li><a id="org1adbf4f"></a>streamdev-server<br />
<div class="outline-text-6" id="text-6-6-1-7-3">
<div class="org-src-container">
<pre class="src src-yaml">- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> ensure directory '/etc/vdr/plugins' exists</span>
  <span class="org-keyword">file</span>:
    <span class="org-variable-name">state</span>: directory
    <span class="org-variable-name">mode</span>: 0775
    <span class="org-variable-name">dest</span>: <span class="org-string">'/etc/vdr/plugins/'</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> "vdr configuration | streamdevhosts.conf for streamdev-server"</span>
  <span class="org-keyword">template</span>:
    <span class="org-variable-name">src</span>: templates/generic_allowed_hosts.conf.j2
    <span class="org-variable-name">dest</span>: <span class="org-string">'/etc/vdr/plugins/streamdevhosts.conf'</span>
    <span class="org-variable-name">mode</span>: 0644
  <span class="org-ansible-section">vars</span>:
    <span class="org-variable-name">allowed_hosts</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> streamdev_server_allowed_hosts | default(vdr_allowed_hosts) </span><span class="org-builtin">}}</span><span class="org-string">'</span>
    <span class="org-variable-name">vdr_service</span>: streamdev-server

</pre>
</div>
</div>
</li>
<li><a id="org6fba095"></a>streamdev-client<br />
<div class="outline-text-6" id="text-6-6-1-7-4">
<div class="org-src-container">
<pre class="src src-yaml">- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> install and configure streamdev-client</span>
  <span class="org-variable-name">block</span>:
    - <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> apt | install vdr-plugin-streamdev-client</span>
      <span class="org-keyword">apt</span>:
        <span class="org-variable-name">state</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> "present" if streamdev_client_remote_ip else "absent" </span><span class="org-builtin">}}</span><span class="org-string">'</span>
        <span class="org-variable-name">name</span>: <span class="org-string">"vdr-plugin-streamdev-client"</span>
    - <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> set streamdev-client.RemoteIp</span>
      <span class="org-keyword">lineinfile</span>:
        <span class="org-variable-name">state</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> "present" if streamdev_client_remote_ip else "absent" </span><span class="org-builtin">}}</span><span class="org-string">'</span>
        <span class="org-variable-name">owner</span>: <span class="org-string">"</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.user </span><span class="org-builtin">}}</span><span class="org-string">"</span>
        <span class="org-keyword">group</span>: <span class="org-string">"</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.group </span><span class="org-builtin">}}</span><span class="org-string">"</span>
        <span class="org-variable-name">create</span>: <span class="org-constant">yes</span>
        <span class="org-variable-name">path</span> : <span class="org-string">"</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.home </span><span class="org-builtin">}}</span><span class="org-string">/setup.conf"</span>
        <span class="org-variable-name">regexp</span>: <span class="org-string">"^streamdev-client.RemoteIp"</span>
        <span class="org-variable-name">line</span>: <span class="org-string">"streamdev-client.RemoteIp = </span><span class="org-builtin">{{</span><span class="org-function-name"> streamdev_client_remote_ip </span><span class="org-builtin">}}</span><span class="org-string">"</span>

    - <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> set streamdev-client.RemotePort</span>
      <span class="org-keyword">lineinfile</span>:
        <span class="org-variable-name">owner</span>: <span class="org-string">"</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.user </span><span class="org-builtin">}}</span><span class="org-string">"</span>
        <span class="org-keyword">group</span>: <span class="org-string">"</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.group </span><span class="org-builtin">}}</span><span class="org-string">"</span>
        <span class="org-variable-name">create</span>: <span class="org-constant">yes</span>
        <span class="org-variable-name">path</span> : <span class="org-string">"</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.home </span><span class="org-builtin">}}</span><span class="org-string">/setup.conf"</span>
        <span class="org-variable-name">regexp</span>: <span class="org-string">"^streamdev-client.RemotePort"</span>
        <span class="org-variable-name">line</span>: <span class="org-string">"streamdev-client.RemotePort = </span><span class="org-builtin">{{</span><span class="org-function-name"> streamdev_client_remote_port | default(2004) </span><span class="org-builtin">}}</span><span class="org-string">"</span>

    - <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> set streamdev-client.NumProvidedSystems</span>
      <span class="org-keyword">lineinfile</span>:
        <span class="org-variable-name">owner</span>: <span class="org-string">"</span><span class="org-builtin">{{</span><span class="org-function-name">  vdr.user  </span><span class="org-builtin">}}</span><span class="org-string">"</span>
        <span class="org-keyword">group</span>: <span class="org-string">"</span><span class="org-builtin">{{</span><span class="org-function-name">  vdr.group </span><span class="org-builtin">}}</span><span class="org-string">"</span>
        <span class="org-variable-name">create</span>: <span class="org-constant">yes</span>
        <span class="org-variable-name">path</span> : <span class="org-string">"</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.home </span><span class="org-builtin">}}</span><span class="org-string">/setup.conf"</span>
        <span class="org-variable-name">regexp</span>: <span class="org-string">"^streamdev-client.NumProvidedSystems"</span>
        <span class="org-variable-name">line</span>: <span class="org-string">"streamdev-client.NumProvidedSystems = </span><span class="org-builtin">{{</span><span class="org-function-name"> streamdev_client_num_provided_systems | default(1) </span><span class="org-builtin">}}</span><span class="org-string">"</span>

    - <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> set streamdev-client.StartClient</span>
      <span class="org-keyword">lineinfile</span>:
        <span class="org-variable-name">owner</span>: <span class="org-string">"</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.user </span><span class="org-builtin">}}</span><span class="org-string">"</span>
        <span class="org-keyword">group</span>: <span class="org-string">"</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.group </span><span class="org-builtin">}}</span><span class="org-string">"</span>
        <span class="org-variable-name">create</span>: <span class="org-constant">yes</span>
        <span class="org-variable-name">path</span> : <span class="org-string">"</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.home </span><span class="org-builtin">}}</span><span class="org-string">/setup.conf"</span>
        <span class="org-variable-name">regexp</span>: <span class="org-string">"^streamdev-client.StartClient"</span>
        <span class="org-variable-name">line</span>: <span class="org-string">"streamdev-client.StartClient = </span><span class="org-builtin">{{</span><span class="org-function-name"> '1' if streamdev_client_remote_ip else '0' </span><span class="org-builtin">}}</span><span class="org-string">"</span>
</pre>
</div>
</div>
</li>
</ol>
</li>
<li><a id="org257f7ee"></a>Drop-Ins for vdr.service<br />
<div class="outline-text-5" id="text-6-6-1-8">
<div class="org-src-container">
<pre class="src src-yaml">- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> create directory for vdr.service systemd drop-in files</span>
  <span class="org-keyword">file</span>:
    <span class="org-variable-name">dest</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> item </span><span class="org-builtin">}}</span><span class="org-string">'</span>
    <span class="org-variable-name">state</span>: directory
  <span class="org-variable-name">loop</span>:
    - <span class="org-string">"/etc/systemd/system/vdr.service.d/"</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> systemd-drop-in | start vdr.service after network-online.target</span>
  <span class="org-keyword">template</span>:
    <span class="org-variable-name">src</span>: templates/systemd/network-online.j2
    <span class="org-variable-name">dest</span>: /etc/systemd/system/vdr.service.d/network-online.conf
  <span class="org-builtin">notify</span>: [<span class="org-string">"Reload Units"</span>]

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> systemd-drop-in | load environment file for vdr.service</span>
  <span class="org-keyword">template</span>:
    <span class="org-variable-name">src</span>: templates/systemd/vdr.service.d/vdr-environ.j2
    <span class="org-variable-name">dest</span>: /etc/systemd/system/vdr.service.d/load-environ.conf
  <span class="org-builtin">notify</span>: [<span class="org-string">"Reload Units"</span>]

</pre>
</div>
</div>
</li>
<li><a id="org2336490"></a>create commands.conf entries<br />
<div class="outline-text-5" id="text-6-6-1-9">
<div class="org-src-container">
<pre class="src src-yaml">- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> create snippet with yavdr commands</span>
  <span class="org-keyword">template</span>:
    <span class="org-variable-name">src</span>: templates/command-hooks/commands.yavdr.conf.j2
    <span class="org-variable-name">dest</span>: /usr/share/vdr/command-hooks/commands.yavdr.conf
</pre>
</div>
</div>
</li>

<li><a id="orgf84db12"></a>create helper scripts<br />
<div class="outline-text-5" id="text-6-6-1-10">
<div class="org-src-container">
<pre class="src src-yaml">- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> create helper scripts for reccmds</span>
  <span class="org-keyword">copy</span>:
    <span class="org-variable-name">src</span>: files/reccmds/<span class="org-builtin">{{</span><span class="org-function-name"> item </span><span class="org-builtin">}}</span>.sh
    <span class="org-variable-name">dest</span>: /usr/local/bin/<span class="org-builtin">{{</span><span class="org-function-name"> item </span><span class="org-builtin">}}</span>
    <span class="org-variable-name">mode</span>: 0755
  <span class="org-variable-name">loop</span>:
    - removeindex
    - removemarks
    - removeresume
    - vdr-recrepeat
</pre>
</div>
</div>
</li>
<li><a id="org4c4614e"></a>create reccmds snippets<br />
<div class="outline-text-5" id="text-6-6-1-11">
<div class="org-src-container">
<pre class="src src-yaml">- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> create snippet for yavdr reccmds to handle marks-, resume- and index-files</span>
  <span class="org-keyword">template</span>:
    <span class="org-variable-name">src</span>: files/reccmds.removemarks.conf.j2
    <span class="org-variable-name">dest</span>: /usr/share/vdr/command-hooks/reccmds.removemarks.conf

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> create snippet for yavdr reccmds to search repeats using epgsearch</span>
  <span class="org-keyword">template</span>:
    <span class="org-variable-name">src</span>: files/reccmds.searchrepeats.conf.j2
    <span class="org-variable-name">dest</span>: /usr/share/vdr/command-hooks/reccmds.searchrepeats.conf
  <span class="org-builtin">when</span>: <span class="org-string">'"vdr-plugin-epgsearch" in vdr_plugins'</span>
</pre>
</div>
</div>
</li>
</ol>
</div>

<div id="outline-container-org2b3d05a" class="outline-4">
<h4 id="org2b3d05a"><span class="section-number-4">6.6.2.</span> templates</h4>
<div class="outline-text-4" id="text-6-6-2">
</div>
<ol class="org-ol">
<li><a id="orgd630a76"></a>vdr config snippets<br />
<div class="outline-text-5" id="text-6-6-2-1">
<div class="org-src-container">
<pre class="src src-jinja2"><span class="org-type">{{</span> <span class="org-variable-name">ansible_managed </span><span class="org-keyword">| </span><span class="org-warning">comment</span> <span class="org-type">}}</span>

<span class="org-function-name">{%</span> <span class="org-keyword">if</span> vdr.hide_first_recording_level <span class="org-keyword">| </span><span class="org-warning">bool</span> <span class="org-function-name">%}</span>
[vdr]
--hide-first-recording-level
<span class="org-function-name">{%</span> <span class="org-keyword">endif</span> <span class="org-function-name">%}</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-jinja2"><span class="org-type">{{</span> <span class="org-variable-name">ansible_managed </span><span class="org-keyword">| </span><span class="org-warning">comment</span> <span class="org-type">}}</span>
<span class="org-function-name">{%</span> <span class="org-keyword">if</span> vdr.override_vdr_charset <span class="org-keyword">| </span><span class="org-function-name">default</span>(<span class="org-string">""</span>) <span class="org-keyword">| </span><span class="org-function-name">length</span> &gt; 0 <span class="org-function-name">%}</span>
[vdr]
--chartab=<span class="org-type">{{</span> <span class="org-variable-name">vdr.override_vdr_charset</span> <span class="org-type">}}</span>
<span class="org-function-name">{%</span> <span class="org-keyword">endif</span> <span class="org-function-name">%}</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-jinja2"><span class="org-type">{{</span> <span class="org-variable-name">ansible_managed </span><span class="org-keyword">| </span><span class="org-warning">comment</span> <span class="org-type">}}</span>

[vdr]
--instance=<span class="org-type">{{</span> <span class="org-variable-name">vdr.instance_id </span><span class="org-keyword">| </span><span class="org-function-name">default</span>(0) <span class="org-type">}}</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-jinja2"><span class="org-type">{{</span> <span class="org-variable-name">ansible_managed </span><span class="org-keyword">| </span><span class="org-warning">comment</span> <span class="org-type">}}</span>

[vdr]
--video=<span class="org-type">{{</span> <span class="org-variable-name">vdr.recdir</span> <span class="org-type">}}</span>
</pre>
</div>
</div>
</li>
<li><a id="org416cda2"></a>Systemd Drop-in to start vdr.service after network-online.target and network.target<br />
<div class="outline-text-5" id="text-6-6-2-2">
<p>
<code>After=network-online.target</code> is neccessary to prevent problems with vdr-plugins which expect to connect to a server during startup.
<code>After=network.target</code> is necessary to prevent the network to be deconfigured during shutdown before the vdr process exits.
</p>
<div class="org-src-container">
<pre class="src src-conf">{{ansible_managed | comment }}
[<span class="org-type">Unit</span>]
<span class="org-variable-name">After</span>=network-online.target network.target
<span class="org-variable-name">Wants</span>=network.target network-online.target
</pre>
</div>
</div>
</li>
<li><a id="org3dbb46f"></a>Systemd Drop-in for setting vdr environment<br />
<div class="outline-text-5" id="text-6-6-2-3">
<p>
Set environment variables for system locale and user session on startup
</p>
<div class="org-src-container">
<pre class="src src-conf">[<span class="org-type">Service</span>]
<span class="org-variable-name">EnvironmentFile</span>=-/etc/default/locale
<span class="org-variable-name">Environment</span>=XDG_RUNTIME_DIR=/run/user/{{ vdr.uid }}/
<span class="org-variable-name">EnvironmentFile</span>=-/var/lib/vdr/.session-env
<span class="org-variable-name">Environment</span>=VDR_ID={{ vdr.instance_id | default(0)  }}
</pre>
</div>
</div>
</li>

<li><a id="org2e15e8c"></a>dbus2vdr dbus system bus configuration<br />
<div class="outline-text-5" id="text-6-6-2-4">
<div class="org-src-container">
<pre class="src src-jinja2"><span class="org-type">{{</span> <span class="org-variable-name">ansible_managed </span><span class="org-keyword">| </span><span class="org-warning">comment</span>(<span class="org-string">'xml'</span>) <span class="org-type">}}</span>
<span class="org-string">&lt;!DOCTYPE busconfig PUBLIC</span>
<span class="org-string"> "-//freedesktop//DTD D-BUS Bus Configuration 1.0//EN"</span>
<span class="org-string"> "http://www.freedesktop.org/standards/dbus/1.0/busconfig.dtd"&gt;</span>
&lt;<span class="org-function-name">busconfig</span>&gt;

  <span class="org-comment">&lt;!-- Only user </span><span class="org-type">{{</span><span class="org-comment"> </span><span class="org-variable-name">vdr.user</span><span class="org-comment"> </span><span class="org-type">}}</span><span class="org-comment"> can own the vdr-dbus-service --&gt;</span>
  &lt;<span class="org-function-name">policy</span> <span class="org-variable-name">user</span>=<span class="org-string">"</span><span class="org-type">{{</span><span class="org-string"> </span><span class="org-variable-name">vdr.user</span><span class="org-string"> </span><span class="org-type">}}</span><span class="org-string">"</span>&gt;
    &lt;<span class="org-function-name">allow</span> <span class="org-variable-name">own</span>=<span class="org-string">"de.tvdr.vdr</span><span class="org-type">{{</span><span class="org-string"> </span><span class="org-variable-name">vdr_instance_id</span><span class="org-string"> </span><span class="org-type">}}</span><span class="org-string">"</span>/&gt;
  &lt;/<span class="org-function-name">policy</span>&gt;

  <span class="org-comment">&lt;!-- allow everyone to call vdr's methods --&gt;</span>
  &lt;<span class="org-function-name">policy</span> <span class="org-variable-name">context</span>=<span class="org-string">"default"</span>&gt;
    &lt;<span class="org-function-name">allow</span> <span class="org-variable-name">send_destination</span>=<span class="org-string">"de.tvdr.vdr</span><span class="org-type">{{</span><span class="org-string"> </span><span class="org-variable-name">vdr_instance_id</span><span class="org-string"> </span><span class="org-type">}}</span><span class="org-string">"</span>/&gt;
    &lt;<span class="org-function-name">allow</span> <span class="org-variable-name">receive_sender</span>=<span class="org-string">"de.tvdr.vdr</span><span class="org-type">{{</span><span class="org-string"> </span><span class="org-variable-name">vdr_instance_id</span><span class="org-string"> </span><span class="org-type">}}</span><span class="org-string">"</span>/&gt;
    &lt;<span class="org-function-name">allow</span> <span class="org-variable-name">send_destination</span>=<span class="org-string">"de.tvdr.vdr</span><span class="org-type">{{</span><span class="org-string"> </span><span class="org-variable-name">vdr_instance_id</span><span class="org-string"> </span><span class="org-type">}}</span><span class="org-string">"</span>/&gt;
    &lt;<span class="org-function-name">allow</span> <span class="org-variable-name">receive_sender</span>=<span class="org-string">"de.tvdr.vdr</span><span class="org-type">{{</span><span class="org-string"> </span><span class="org-variable-name">vdr_instance_id</span><span class="org-string"> </span><span class="org-type">}}</span><span class="org-string">"</span>/&gt;
  &lt;/<span class="org-function-name">policy</span>&gt;

&lt;/<span class="org-function-name">busconfig</span>&gt;
</pre>
</div>
</div>
</li>
<li><a id="orga60bbab"></a>set VDR_ID in <i>etc/profile.d</i><br />
<div class="outline-text-5" id="text-6-6-2-5">
<div class="org-src-container">
<pre class="src src-jinja2"><span class="org-type">{{</span> <span class="org-variable-name">ansible_managed </span><span class="org-keyword">| </span><span class="org-warning">comment</span> <span class="org-type">}}</span>
export VDR_ID=<span class="org-type">{{</span> <span class="org-variable-name">vdr.instance_id </span><span class="org-keyword">| </span><span class="org-function-name">default</span>(0) <span class="org-type">}}</span>
</pre>
</div>
</div>
</li>
<li><a id="org217eb4c"></a>/etc/default/vdr<br />
<div class="outline-text-5" id="text-6-6-2-6">
<div class="org-src-container">
<pre class="src src-jinja2"><span class="org-type">{{</span> <span class="org-variable-name">ansible_managed </span><span class="org-keyword">| </span><span class="org-warning">comment</span> <span class="org-type">}}</span>
# /etc/default/vdr
#
# See also /usr/share/doc/vdr/README.Debian.gz
#

<span class="org-variable-name">SHUTDOWNCMD</span>=<span class="org-string">"</span><span class="org-type">{{</span><span class="org-string"> </span><span class="org-variable-name">vdr_shutdown_command</span><span class="org-string"> </span><span class="org-type">}}</span><span class="org-string">"</span>
</pre>
</div>
</div>
</li>

<li><a id="orgbcc1cdb"></a>svdrphosts.conf<br />
<div class="outline-text-5" id="text-6-6-2-7">
<div class="org-src-container">
<pre class="src src-jinja2"><span class="org-type">{{</span> <span class="org-variable-name">ansible_managed </span><span class="org-keyword">| </span><span class="org-warning">comment</span> <span class="org-type">}}</span>
#
# svdrphosts    This file describes a number of host addresses that
#               are allowed to connect to the SVDRP port of the Video
#               Disk Recorder (VDR) running on this system.
# Syntax:
#
# IP-Address[/Netmask]
#
# Examples:
# 192.168.100.0/24     # any host on the local net
# 204.152.189.113      # a specific host
# 0.0.0.0/0            # any host on any net (USE THIS <span class="org-keyword">WITH</span> CARE!)

127.0.0.1              # always accept localhost
<span class="org-function-name">{%</span> <span class="org-keyword">for</span> host_<span class="org-builtin">or</span>_subnet <span class="org-builtin">in</span> svdrphosts <span class="org-function-name">%}</span>
<span class="org-type">{{</span> <span class="org-variable-name">host_or_subnet</span> <span class="org-type">}}</span>
<span class="org-function-name">{%</span> <span class="org-keyword">endfor</span> <span class="org-function-name">%}</span>

</pre>
</div>
</div>
</li>
<li><a id="org7be5641"></a>allowed_hosts.conf style template<br />
<div class="outline-text-5" id="text-6-6-2-8">
<div class="org-src-container">
<pre class="src src-jinja2"><span class="org-type">{{</span> <span class="org-variable-name">ansible_managed </span><span class="org-keyword">| </span><span class="org-warning">comment</span> <span class="org-type">}}</span>
# This file describes a number of host addresses that
# are allowed to connect to the <span class="org-type">{{</span> <span class="org-variable-name">vdr_service</span> <span class="org-type">}}</span>
# running <span class="org-keyword">with</span> the Video Disk Recorder (VDR) on this system.
#
# Syntax:
#
# IP-Address[/Netmask]
#
# Examples:
#
# 192.168.100.0/24     # any host on the local net
# 204.152.189.113      # a specific host
<span class="org-function-name">{%</span> <span class="org-keyword">if</span> vdr_service == <span class="org-string">'streamdev-server'</span> <span class="org-function-name">%}</span>
# 239.255.0.0/16       # uncomment <span class="org-keyword">for</span> IGMP multicast streaming
<span class="org-function-name">{%</span> <span class="org-keyword">endif</span> <span class="org-function-name">%}</span>
# 0.0.0.0/0            # any host on any net (USE THIS <span class="org-keyword">WITH</span> CARE!)

127.0.0.1              # always accept localhost
<span class="org-function-name">{%</span> <span class="org-keyword">for</span> host_<span class="org-builtin">or</span>_subnet <span class="org-builtin">in</span> allowed_hosts <span class="org-function-name">%}</span>
<span class="org-type">{{</span> <span class="org-variable-name">host_or_subnet</span> <span class="org-type">}}</span>
<span class="org-function-name">{%</span> <span class="org-keyword">endfor</span> <span class="org-function-name">%}</span>
</pre>
</div>
</div>
</li>
<li><a id="orgfa509e4"></a>xineliboutput.conf template<br />
<div class="outline-text-5" id="text-6-6-2-9">
<div class="org-src-container">
<pre class="src src-jinja2">#
# Command line parameters <span class="org-keyword">for</span> vdr-plugin-xineliboutput
#
# <span class="org-keyword">For</span> more details see:
#   - /usr/share/doc/vdr-plugin-xineliboutput/README.Debian
#   - `vdr --help -Pxineliboutput`
#   - /usr/share/doc/vdr-plugin-xineliboutput/README
#
[xineliboutput]
--local=<span class="org-builtin">none</span>
--primary
--remote=<span class="org-type">{{</span> <span class="org-variable-name">"" if allowed_hosts else "127.0.0.1"</span> <span class="org-type">}}</span>:37890
--truecolor
</pre>
</div>
</div>
</li>
<li><a id="org353bc51"></a>command-hooks<br />
<div class="outline-text-5" id="text-6-6-2-10">
<div class="org-src-container">
<pre class="src src-jinja2"><span class="org-type">{{</span> <span class="org-variable-name">ansible_managed </span><span class="org-keyword">| </span><span class="org-warning">comment</span> <span class="org-type">}}</span>
<span class="org-type">{{</span> <span class="org-variable-name">"Update vdr recordings list" </span><span class="org-keyword">| </span><span class="org-warning">translate</span> <span class="org-type">}}</span> : echo <span class="org-string">"/usr/bin/svdrpsend updr"</span> <span class="org-keyword">| </span><span class="org-warning">at</span> <span class="org-builtin">now</span>
<span class="org-type">{{</span> <span class="org-variable-name">"Restart VDR" </span><span class="org-keyword">| </span><span class="org-warning">translate</span> <span class="org-type">}}</span> : sudo /bin/systemctl --no-<span class="org-keyword">block</span> restart vdr.service
<span class="org-type">{{</span> <span class="org-variable-name">"Reboot system" </span><span class="org-keyword">| </span><span class="org-warning">translate</span> <span class="org-type">}}</span> : sudo /bin/systemctl --no-<span class="org-keyword">block</span> reboot
<span class="org-type">{{</span> <span class="org-variable-name">"Shutdown system" </span><span class="org-keyword">| </span><span class="org-warning">translate</span> <span class="org-type">}}</span> : echo <span class="org-string">"/usr/bin/lircd2uinput-send KEY_POWER2"</span> <span class="org-keyword">| </span><span class="org-warning">at</span> <span class="org-builtin">now</span>
</pre>
</div>
</div>
</li>
<li><a id="orgbafbfb4"></a>reccmds.removemarks.conf<br />
<div class="outline-text-5" id="text-6-6-2-11">
<p>
This is a snippet for the reccmds.conf. It adds some actions to remove marks, resume and index files.
</p>
<div class="org-src-container">
<pre class="src src-jinja2"><span class="org-type">{{</span> <span class="org-variable-name">ansible_managed </span><span class="org-keyword">| </span><span class="org-warning">comment</span> <span class="org-type">}}</span>
<span class="org-type">{{</span> <span class="org-variable-name">"Remove marks" </span><span class="org-keyword">| </span><span class="org-warning">translate</span> <span class="org-type">}}</span> : /usr/local/bin/removemarks
<span class="org-type">{{</span> <span class="org-variable-name">"Remove Index-File" </span><span class="org-keyword">| </span><span class="org-warning">translate</span> <span class="org-type">}}</span> : /usr/local/bin/removeindex
<span class="org-type">{{</span> <span class="org-variable-name">"Remove resume file" </span><span class="org-keyword">| </span><span class="org-warning">translate</span> <span class="org-type">}}</span> : /usr/local/bin/removeresume
<span class="org-type">{{</span> <span class="org-variable-name">"Mark advertisements" </span><span class="org-keyword">| </span><span class="org-warning">translate</span> <span class="org-type">}}</span> : /usr/bin/markad -O <span class="org-string">"$1"</span> after
</pre>
</div>
</div>
</li>
<li><a id="orgd0801d1"></a>reccmds.searchrepeats.conf<br />
<div class="outline-text-5" id="text-6-6-2-12">
<p>
This is a snippet
</p>
<div class="org-src-container">
<pre class="src src-jinja2"><span class="org-type">{{</span> <span class="org-variable-name">"Search for repeat" </span><span class="org-keyword">| </span><span class="org-warning">translate</span> <span class="org-type">}}</span> : /usr/local/bin/vdr-recrepeat 0
<span class="org-type">{{</span> <span class="org-variable-name">"Search for repeat with subtitle (same episode)" </span><span class="org-keyword">| </span><span class="org-warning">translate</span> <span class="org-type">}}</span> : /usr/local/bin/vdr-recrepeat 1
</pre>
</div>
</div>
</li>
</ol>
</div>
<div id="outline-container-orgfbb523a" class="outline-4">
<h4 id="orgfbb523a"><span class="section-number-4">6.6.3.</span> files</h4>
<div class="outline-text-4" id="text-6-6-3">
</div>
<ol class="org-ol">
<li><a id="org69b336a"></a>remote.conf<br />
<div class="outline-text-5" id="text-6-6-3-1">
<div class="org-src-container">
<pre class="src src-conf">LIRC.Up KEY_UP
LIRC.Down KEY_DOWN
LIRC.Menu KEY_MENU
LIRC.Ok KEY_OK
LIRC.Back KEY_ESC
LIRC.Left KEY_LEFT
LIRC.Right KEY_RIGHT
LIRC.Red KEY_RED
LIRC.Green KEY_GREEN
LIRC.Yellow KEY_YELLOW
LIRC.Blue KEY_BLUE
LIRC.0 KEY_0
LIRC.1 KEY_1
LIRC.2 KEY_2
LIRC.3 KEY_3
LIRC.4 KEY_4
LIRC.5 KEY_5
LIRC.6 KEY_6
LIRC.7 KEY_7
LIRC.8 KEY_8
LIRC.9 KEY_9
LIRC.Info KEY_INFO
LIRC.Play KEY_PLAY
LIRC.Pause KEY_PAUSE
LIRC.Play/Pause KEY_PLAYPAUSE
LIRC.Stop KEY_STOP
LIRC.Record KEY_RECORD
LIRC.FastFwd KEY_FASTFORWARD
LIRC.FastRew KEY_REWIND
LIRC.Next KEY_NEXT
LIRC.Prev KEY_BACK
LIRC.Power KEY_POWER2
LIRC.Channel+ KEY_CHANNELUP
LIRC.Channel- KEY_CHANNELDOWN
LIRC.PrevChannel KEY_PREVIOUS
LIRC.Volume+ KEY_VOLUMEUP
LIRC.Volume- KEY_VOLUMEDOWN
LIRC.Mute KEY_MUTE
LIRC.Subtitles KEY_SUBTITLE
LIRC.Schedule KEY_EPG
LIRC.Channels KEY_CHANNEL
LIRC.Commands KEY_FAVORITES
LIRC.Audio KEY_MODE
LIRC.Timers KEY_TIME
LIRC.Recordings KEY_PVR
LIRC.Setup KEY_SETUP
LIRC.User0 KEY_TEXT
LIRC.User1 KEY_PROG1
LIRC.User2 KEY_PROG2
LIRC.User3 KEY_PROG3
LIRC.User4 KEY_PROG4
LIRC.User5 KEY_AUDIO
LIRC.User6 KEY_VIDEO
LIRC.User7 KEY_IMAGES
LIRC.User8 KEY_FN
LIRC.User9 KEY_SCREEN

XKeySym.Up         Up
XKeySym.Down       Down
XKeySym.Menu       Home
XKeySym.Menu       Tab
XKeySym.Menu       KP_Home
XKeySym.Ok         Return
XKeySym.Ok         KP_Enter
XKeySym.Back       BackSpace
XKeySym.Back       KP_Separator
XKeySym.Left       Left
XKeySym.Right      Right
XKeySym.Up         KP_Up
XKeySym.Down       KP_Down
XKeySym.Left       KP_Left
XKeySym.Right      KP_Right
XKeySym.Red        F1
XKeySym.Green      F2
XKeySym.Yellow     F3
XKeySym.Blue       F4
XKeySym.0          0
XKeySym.1          1
XKeySym.2          2
XKeySym.3          3
XKeySym.4          4
XKeySym.5          5
XKeySym.6          6
XKeySym.7          7
XKeySym.8          8
XKeySym.9          9
XKeySym.0          KP_0
XKeySym.1          KP_1
XKeySym.2          KP_2
XKeySym.3          KP_3
XKeySym.4          KP_4
XKeySym.5          KP_5
XKeySym.6          KP_6
XKeySym.7          KP_7
XKeySym.8          KP_8
XKeySym.9          KP_9
XKeySym.Info       End
XKeySym.Info       KP_End
XKeySym.Pause      F9
XKeySym.FastFwd    F6
XKeySym.FastRew    F5
XKeySym.Power      Pause
XKeySym.Volume+    F12
XKeySym.Volume-    F11
XKeySym.Volume+    KP_Add
XKeySym.Volume-    KP_Subtract
XKeySym.Mute       F10
XKeySym.User1      F5
XKeySym.User2      F6
XKeySym.User3      F7
XKeySym.User4      F8
XKeySym.User5      Print
XKeySym.User6      Scroll_Lock
XKeySym.User7      Insert
XKeySym.User8      KP_Divide
XKeySym.User9      KP_Multiply
XKeySym.Audio      Menu
XKeySym.Channel+   Prior
XKeySym.Channel-   Next
XKeySym.Channel+   KP_Prior
XKeySym.Channel-   KP_Next
XKeySym.Volume+    XF86AudioRaiseVolume
XKeySym.Volume-    XF86AudioLowerVolume
XKeySym.Mute       XF86AudioMute
XKeySym.Stop       XF86AudioStop
XKeySym.Play/Pause  XF86AudioPlay
XKeySym.Prev       XF86AudioPrev
XKeySym.Next       XF86AudioNext

KBD.Up         00000000001B5B41
KBD.Down       00000000001B5B42
KBD.Menu       000000001B5B317E
KBD.Ok         000000000000000D
KBD.Back       000000000000007F
KBD.Left       00000000001B5B44
KBD.Right      00000000001B5B43
KBD.Red        000000001B5B5B41
KBD.Green      000000001B5B5B42
KBD.Yellow     000000001B5B5B43
KBD.Blue       000000001B5B5B44
KBD.0          0000000000000030
KBD.1          0000000000000031
KBD.2          0000000000000032
KBD.3          0000000000000033
KBD.4          0000000000000034
KBD.5          0000000000000035
KBD.6          0000000000000036
KBD.7          0000000000000037
KBD.8          0000000000000038
KBD.9          0000000000000039
KBD.Info       000000001B5B347E
KBD.Play/Pause 0000001B5B32307E
KBD.Power      00000000001B5B50
KBD.Channel+   000000001B5B357E
KBD.Channel-   000000001B5B367E
KBD.Volume+    0000001B5B32347E
KBD.Volume-    0000001B5B32337E
KBD.Mute       0000001B5B32317E
KBD.User1      000000001B5B5B45
KBD.User2      0000001B5B31377E
KBD.User3      0000001B5B31387E
KBD.User4      0000001B5B31397E
KBD.User7      000000001B5B327E
KBD.User8      000000000000002F
KBD.User9      000000000000002A
</pre>
</div>
</div>
</li>
<li><a id="org2d2d5b4"></a>keymacros.conf<br />
<div class="outline-text-5" id="text-6-6-3-2">
<div class="org-src-container">
<pre class="src src-conf"><span class="org-comment-delimiter"># </span><span class="org-comment">Remote control key macros for VDR</span>
<span class="org-comment-delimiter">#</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">Format:</span>
<span class="org-comment-delimiter">#</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">macrokey  key1 key2 key3...</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">macrokey  @plugin key1 key2 key3...</span>
<span class="org-comment-delimiter">#</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">See man vdr(5)</span>

Red       Recordings
Green     Schedule
Yellow    Info
Blue      Timers
User0     @osdteletext

User9     @xineliboutput Red 4   <span class="org-comment-delimiter"># </span><span class="org-comment">toggle autocrop</span>
User9     @softhddevice Blue 2 5 <span class="org-comment-delimiter"># </span><span class="org-comment">toggle autocrop</span>


</pre>
</div>
</div>
</li>
<li><a id="org62f69d6"></a>VDR helper scripts<br />
<ol class="org-ol">
<li><a id="org8926af5"></a>removeresume<br />
<div class="outline-text-6" id="text-6-6-3-3-1">
<p>
This script deletes all <code>resume</code> and <code>resume.*</code> files of the given recording
</p>
<div class="org-src-container">
<pre class="src src-shell">find <span class="org-string">"$1"</span> -maxdepth 1 -type f <span class="org-string">\(</span> -name <span class="org-string">"resume"</span> -o -name <span class="org-string">"resume.*"</span> <span class="org-string">\)</span> -delete
</pre>
</div>
</div>
</li>
<li><a id="orgea4394f"></a>removeindex<br />
<div class="outline-text-6" id="text-6-6-3-3-2">
<p>
This script deletes all <code>index</code> and <code>index.vdr</code> files of the given recording
</p>
<div class="org-src-container">
<pre class="src src-shell">find <span class="org-string">"$1"</span> -maxdepth 1 <span class="org-string">\(</span> -name <span class="org-string">"index"</span> -o -name <span class="org-string">"index.vdr"</span> <span class="org-string">\)</span> -delete
</pre>
</div>
</div>
</li>
<li><a id="org3d0bdb2"></a>removemarks<br />
<div class="outline-text-6" id="text-6-6-3-3-3">
<p>
This script deletes all <code>marks</code> and <code>marks.vdr</code> files of the given recording
</p>
<div class="org-src-container">
<pre class="src src-shell">find <span class="org-string">"$1"</span> -maxdepth 1 <span class="org-string">\(</span> -name <span class="org-string">"marks"</span> -o -name <span class="org-string">"marks.vdr"</span> <span class="org-string">\)</span> -delete
</pre>
</div>
</div>
</li>
<li><a id="org0673832"></a>recrepeat<br />
<div class="outline-text-6" id="text-6-6-3-3-4">
<p>
This script allows to search for repeats of a recording using epgsearch
</p>
<div class="org-src-container">
<pre class="src src-shell"><span class="org-comment-delimiter">#</span><span class="org-comment">------------------------------------------------------------------------------</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">this script allows searching for a repeat of a recording using epgsearch</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">add the following lines to your reccmds.conf</span>
<span class="org-comment-delimiter">#</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">Search for repeat : /path_to_this_script/recrep.sh 0</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">Search for repeat with subtitle (same episode): /path_to_this_script/recrep.sh 1</span>
<span class="org-comment-delimiter">#</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">Author: Christian Wieninger (cwieninger@gmx.de)</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">Version: 1.1 - 2011-01-16</span>
<span class="org-comment-delimiter">#</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">changed for yavdr (steffenbpunkt@gmail.com)</span>
<span class="org-comment-delimiter">#</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">requirements: grep</span>
<span class="org-comment-delimiter">#</span><span class="org-comment">------------------------------------------------------------------------------</span>

<span class="org-comment-delimiter"># </span><span class="org-comment">adjust the following lines to your config</span>

<span class="org-comment-delimiter"># </span><span class="org-comment">your plugins config dir</span>
<span class="org-variable-name">PLUGINCONFDIR</span>=/var/lib/vdr/plugins/epgsearch

<span class="org-comment-delimiter"># </span><span class="org-comment">do not edit below this line</span>

cat &lt;&lt; EOM &gt;/tmp/cmd.sh
<span class="org-sh-heredoc">INFOFILE="$2/info";</span>

<span class="org-sh-heredoc">TITLE=\$(</span><span class="org-sh-quoted-exec">grep</span><span class="org-sh-heredoc"> '^T ' \$INFOFILE);</span>
<span class="org-sh-heredoc">#cut leading 'T '</span>
<span class="org-sh-heredoc">TITLE=\${TITLE#*\$T };</span>

<span class="org-sh-heredoc">EPISODE=\$(</span><span class="org-sh-quoted-exec">grep</span><span class="org-sh-heredoc"> '^S ' \$INFOFILE)</span>
<span class="org-sh-heredoc">#cut leading 'S '</span>
<span class="org-sh-heredoc">EPISODE=\${EPISODE#*\$S };</span>

<span class="org-sh-heredoc">SEARCHTERM=\$TITLE;</span>

<span class="org-sh-heredoc">if [ "$1" -eq "1" ]; then</span>
<span class="org-sh-heredoc">SEARCHTERM=\$TITLE~\$EPISODE;</span>
<span class="org-sh-heredoc">fi</span>

<span class="org-sh-heredoc">RCFILE=$PLUGINCONFDIR/.epgsearchrc</span>
<span class="org-sh-heredoc">echo Search=\$SEARCHTERM &gt; \$RCFILE</span>
<span class="org-sh-heredoc">#search for this term as phrase</span>
<span class="org-sh-heredoc">echo SearchMode=0 &gt;&gt; \$RCFILE</span>
<span class="org-sh-heredoc">if [ "$1" -eq "0" ]; then</span>
<span class="org-sh-heredoc">    echo UseSubtitle=0 &gt;&gt; \$RCFILE;</span>
<span class="org-sh-heredoc">fi</span>
<span class="org-sh-heredoc">echo UseDescr=0 &gt;&gt; \$RCFILE</span>
<span class="org-sh-heredoc">vdr-dbus-send /Remote remote.CallPlugin string:'epgsearch'</span>
<span class="org-sh-heredoc">EOM</span>

<span class="org-builtin">echo</span> <span class="org-string">". /tmp/cmd.sh; rm /tmp/cmd.sh"</span> | at now
</pre>
</div>
</div>
</li>
</ol>
</li>
</ol>
</div>
</div>
<div id="outline-container-org59c7b22" class="outline-3">
<h3 id="org59c7b22"><span class="section-number-3">6.7.</span> yavdr-network</h3>
<div class="outline-text-3" id="text-6-7">
</div>
<div id="outline-container-orgb934614" class="outline-4">
<h4 id="orgb934614"><span class="section-number-4">6.7.1.</span> default variables</h4>
<div class="outline-text-4" id="text-6-7-1">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-variable-name">install_avahi</span>: <span class="org-constant">true</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orge16a8f6" class="outline-4">
<h4 id="orge16a8f6"><span class="section-number-4">6.7.2.</span> tasks</h4>
<div class="outline-text-4" id="text-6-7-2">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment">---</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">this playbook sets up network services for a yaVDR installation</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> apt | install packages for network services</span>
  <span class="org-keyword">apt</span>:
      <span class="org-variable-name">name</span>:
          - avahi-daemon
          - avahi-utils
          <span class="org-comment-delimiter">#</span><span class="org-comment">- biosdevname # caution: this may change device names after a minimal installation!</span>
          - ethtool
          - nfs-common
          - vdr-addon-avahi-linker
          - wakeonlan
      <span class="org-variable-name">state</span>: present
      <span class="org-variable-name">install_recommends</span>: <span class="org-constant">no</span>

<span class="org-comment-delimiter"># </span><span class="org-comment">Does this really work? We need a way to check if an interface supports WOL - Python Skript?</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">- name: check WOL capabilities of network interfaces</span>
<span class="org-comment-delimiter">#   </span><span class="org-comment">shell: 'ethtool </span><span class="org-builtin">{{</span><span class="org-function-name"> item </span><span class="org-builtin">}}</span><span class="org-comment"> | grep -Po "(?&lt;=Supports\sWake-on:\s).*$"'</span>
<span class="org-comment-delimiter">#   </span><span class="org-comment">register: wol</span>
<span class="org-comment-delimiter">#   </span><span class="org-comment">with_items: '{% for interface in ansible_interfaces if interface != 'lo' and interface != 'bond0' %}'</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> restart autofs if running</span>
  <span class="org-keyword">systemd</span>:
    <span class="org-variable-name">name</span>: autofs
    <span class="org-variable-name">state</span>: restarted
    <span class="org-variable-name">enabled</span>: <span class="org-constant">yes</span>
    <span class="org-variable-name">masked</span>: <span class="org-constant">no</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> ensure autofs is running</span>
  <span class="org-keyword">systemd</span>:
    <span class="org-variable-name">name</span>: autofs
    <span class="org-variable-name">state</span>: started
    <span class="org-variable-name">enabled</span>: <span class="org-constant">yes</span>
    <span class="org-variable-name">masked</span>: <span class="org-constant">no</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> set video directory for avahi-linker</span>
  <span class="org-keyword">ini_file</span>:
    <span class="org-variable-name">path</span>: /etc/avahi-linker/default.cfg
    <span class="org-variable-name">section</span>: <span class="org-string">"targetdirs"</span>
    <span class="org-variable-name">option</span>: <span class="org-string">"vdr"</span>
    <span class="org-variable-name">value</span>: <span class="org-string">"</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.recdir </span><span class="org-builtin">}}</span><span class="org-string">"</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> set vdr instance id for avahi-linker</span>
  <span class="org-keyword">ini_file</span>:
    <span class="org-variable-name">path</span>: /etc/avahi-linker/default.cfg
    <span class="org-variable-name">section</span>: <span class="org-string">"options"</span>
    <span class="org-variable-name">option</span>: <span class="org-string">"vdr_instance_id"</span>
    <span class="org-variable-name">value</span>: <span class="org-string">"</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.instance_id | default(0) </span><span class="org-builtin">}}</span><span class="org-string">"</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> restart avahi-linker if running</span>
  <span class="org-keyword">systemd</span>:
    <span class="org-variable-name">name</span>: avahi-linker
    <span class="org-variable-name">state</span>: restarted
    <span class="org-variable-name">enabled</span>: <span class="org-constant">yes</span>
    <span class="org-variable-name">masked</span>: <span class="org-constant">no</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> ensure avahi-linker is started</span>
  <span class="org-keyword">systemd</span>:
    <span class="org-variable-name">name</span>: avahi-linker
    <span class="org-variable-name">state</span>: started
    <span class="org-variable-name">enabled</span>: <span class="org-constant">yes</span>
    <span class="org-variable-name">masked</span>: <span class="org-constant">no</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> ensure additional services for avahi-linker are active</span>
  <span class="org-keyword">systemd</span>:
    <span class="org-variable-name">name</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> item </span><span class="org-builtin">}}</span><span class="org-string">'</span>
    <span class="org-variable-name">state</span>: started
    <span class="org-variable-name">enabled</span>: <span class="org-constant">yes</span>
    <span class="org-variable-name">masked</span>: <span class="org-constant">no</span>
  <span class="org-variable-name">loop</span>:
    - vdr-net-monitor
    - vdr-update-monitor
    - prevent-umount-on-pause
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org6e3f3c9" class="outline-3">
<h3 id="org6e3f3c9"><span class="section-number-3">6.8.</span> vdr-plugin-menuorg</h3>
<div class="outline-text-3" id="text-6-8">
<p>
The menuorg plugin provides a more organized osd menu and allows to sort entries for plugins, vdr menu entries and custom commands using submenus. You can customize the <code>menuorg.xml</code> template to your liking. Please remember that the <code>translate</code> filter requires the localization data from the package <code>yavdr-i18n</code> on the device which executes the ansible playbook (this package is installed by default when running the <code>install-yavdr.sh</code> script).
</p>
</div>
<div id="outline-container-org489e79a" class="outline-4">
<h4 id="org489e79a"><span class="section-number-4">6.8.1.</span> tasks</h4>
<div class="outline-text-4" id="text-6-8-1">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment">---</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">file: roles/vdr-plugin-menuorg/tasks/main.yml</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> apt | install vdr-plugin-menuorg</span>
  <span class="org-keyword">apt</span>:
    <span class="org-variable-name">name</span>:
      - vdr-plugin-menuorg
    <span class="org-variable-name">state</span>: present
    <span class="org-variable-name">install_recommends</span>: <span class="org-constant">no</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> create /var/lib/vdr/plugins/menuorg.xml</span>
  <span class="org-keyword">template</span>:
    <span class="org-variable-name">src</span>: templates/menuorg.xml.j2
    <span class="org-variable-name">dest</span>: /var/lib/vdr/plugins/menuorg.xml
    <span class="org-variable-name">owner</span>: <span class="org-string">"</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.user </span><span class="org-builtin">}}</span><span class="org-string">"</span>
    <span class="org-keyword">group</span>: <span class="org-string">"</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.group </span><span class="org-builtin">}}</span><span class="org-string">"</span>
    <span class="org-variable-name">mode</span>: 0644
</pre>
</div>
</div>
</div>
<div id="outline-container-org6be60df" class="outline-4">
<h4 id="org6be60df"><span class="section-number-4">6.8.2.</span> templates</h4>
<div class="outline-text-4" id="text-6-8-2">
<div class="org-src-container">
<pre class="src src-jinja2"><span class="org-string">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="org-type">{{</span> <span class="org-variable-name">ansible_managed </span><span class="org-keyword">| </span><span class="org-warning">comment</span>(<span class="org-string">'xml'</span>) <span class="org-type">}}</span>
<span class="org-comment">&lt;!--</span>
<span class="org-comment">This is the config file for the Menuorg plug-in.</span>
<span class="org-comment">See /usr/share/doc/vdr-plugin-menurg for examples and a full</span>
<span class="org-comment">description of the config file format.</span>
<span class="org-comment">--&gt;</span>
&lt;<span class="org-function-name">menus</span>&gt;
    &lt;<span class="org-function-name">system</span> <span class="org-variable-name">name</span>=<span class="org-string">"Schedule"</span> /&gt;
    &lt;<span class="org-function-name">system</span> <span class="org-variable-name">name</span>=<span class="org-string">"Channels"</span> /&gt;
    &lt;<span class="org-function-name">menu</span> <span class="org-variable-name">name</span>=<span class="org-string">"</span><span class="org-type">{{</span><span class="org-string"> </span><span class="org-variable-name">"Timer" </span><span class="org-keyword">| </span><span class="org-warning">translate</span><span class="org-string"> </span><span class="org-type">}}</span><span class="org-string">"</span>&gt;
        &lt;<span class="org-function-name">system</span> <span class="org-variable-name">name</span>=<span class="org-string">"Timers"</span> /&gt;
        &lt;<span class="org-function-name">plugin</span> <span class="org-variable-name">name</span>=<span class="org-string">"epgsearchonly"</span> /&gt;
        &lt;<span class="org-function-name">plugin</span> <span class="org-variable-name">name</span>=<span class="org-string">"quickepgsearch"</span> /&gt;
        &lt;<span class="org-function-name">plugin</span> <span class="org-variable-name">name</span>=<span class="org-string">"conflictcheckonly"</span> /&gt;
    &lt;/<span class="org-function-name">menu</span>&gt;
    &lt;<span class="org-function-name">menu</span> <span class="org-variable-name">name</span>=<span class="org-string">"</span><span class="org-type">{{</span><span class="org-string"> </span><span class="org-variable-name">"Video"</span><span class="org-keyword">| </span><span class="org-warning">translate</span><span class="org-string"> </span><span class="org-type">}}</span><span class="org-string">"</span>&gt;
        &lt;<span class="org-function-name">system</span> <span class="org-variable-name">name</span>=<span class="org-string">"Recordings"</span> /&gt;
        &lt;<span class="org-function-name">plugin</span> <span class="org-variable-name">name</span>=<span class="org-string">"extrecmenu"</span> /&gt;
        &lt;<span class="org-function-name">plugin</span> <span class="org-variable-name">name</span>=<span class="org-string">"extrecmenung"</span> /&gt;
        &lt;<span class="org-function-name">plugin</span> <span class="org-variable-name">name</span>=<span class="org-string">"burn"</span> /&gt;
        &lt;<span class="org-function-name">plugin</span> <span class="org-variable-name">name</span>=<span class="org-string">"dvdswitch"</span> /&gt;
        &lt;<span class="org-function-name">plugin</span> <span class="org-variable-name">name</span>=<span class="org-string">"dvdselect"</span> /&gt;
        &lt;<span class="org-function-name">plugin</span> <span class="org-variable-name">name</span>=<span class="org-string">"dvd"</span> /&gt;
        &lt;<span class="org-function-name">plugin</span> <span class="org-variable-name">name</span>=<span class="org-string">"xineliboutput"</span> /&gt;
        &lt;<span class="org-function-name">plugin</span> <span class="org-variable-name">name</span>=<span class="org-string">"mplayer"</span> /&gt;
        &lt;<span class="org-function-name">plugin</span> <span class="org-variable-name">name</span>=<span class="org-string">"mpv"</span> /&gt;
        &lt;<span class="org-function-name">plugin</span> <span class="org-variable-name">name</span>=<span class="org-string">"markad"</span> /&gt;
        &lt;<span class="org-function-name">plugin</span> <span class="org-variable-name">name</span>=<span class="org-string">"recsearch"</span> /&gt;
        &lt;<span class="org-function-name">plugin</span> <span class="org-variable-name">name</span>=<span class="org-string">"recstatus"</span> /&gt;
        &lt;<span class="org-function-name">plugin</span> <span class="org-variable-name">name</span>=<span class="org-string">"webvideo"</span> /&gt;
        &lt;<span class="org-function-name">plugin</span> <span class="org-variable-name">name</span>=<span class="org-string">"vodcatcher"</span> /&gt;
        &lt;<span class="org-function-name">plugin</span> <span class="org-variable-name">name</span>=<span class="org-string">"vcd"</span> /&gt;
        &lt;<span class="org-function-name">plugin</span> <span class="org-variable-name">name</span>=<span class="org-string">"undelete"</span> /&gt;
    &lt;/<span class="org-function-name">menu</span>&gt;
    &lt;<span class="org-function-name">menu</span> <span class="org-variable-name">name</span>=<span class="org-string">"</span><span class="org-type">{{</span><span class="org-string"> </span><span class="org-variable-name">"Audio" </span><span class="org-keyword">| </span><span class="org-warning">translate</span><span class="org-string"> </span><span class="org-type">}}</span><span class="org-string">"</span> &gt;
        &lt;<span class="org-function-name">plugin</span> <span class="org-variable-name">name</span>=<span class="org-string">"mp3"</span> /&gt;
        &lt;<span class="org-function-name">plugin</span> <span class="org-variable-name">name</span>=<span class="org-string">"music"</span> /&gt;
        &lt;<span class="org-function-name">plugin</span> <span class="org-variable-name">name</span>=<span class="org-string">"lastfm"</span> /&gt;
        &lt;<span class="org-function-name">plugin</span> <span class="org-variable-name">name</span>=<span class="org-string">"radio"</span> /&gt;
        &lt;<span class="org-function-name">plugin</span> <span class="org-variable-name">name</span>=<span class="org-string">"radiolist"</span> /&gt;
        &lt;<span class="org-function-name">plugin</span> <span class="org-variable-name">name</span>=<span class="org-string">"cdda"</span> /&gt;
        &lt;<span class="org-function-name">plugin</span> <span class="org-variable-name">name</span>=<span class="org-string">"cdplayer"</span> /&gt;
        &lt;<span class="org-function-name">plugin</span> <span class="org-variable-name">name</span>=<span class="org-string">"podcatcher"</span> /&gt;
        &lt;<span class="org-function-name">plugin</span> <span class="org-variable-name">name</span>=<span class="org-string">"karaoke"</span> /&gt;
    &lt;/<span class="org-function-name">menu</span>&gt;
    &lt;<span class="org-function-name">plugin</span> <span class="org-variable-name">name</span>=<span class="org-string">"tvguide"</span> /&gt;
    &lt;<span class="org-function-name">plugin</span> <span class="org-variable-name">name</span>=<span class="org-string">"tvguideng"</span> /&gt;
    &lt;<span class="org-function-name">plugin</span> <span class="org-variable-name">name</span>=<span class="org-string">"desktop"</span> <span class="org-variable-name">title</span>=<span class="org-string">"</span><span class="org-type">{{</span><span class="org-string"> </span><span class="org-variable-name">'Applications' </span><span class="org-keyword">| </span><span class="org-warning">translate</span><span class="org-string"> </span><span class="org-type">}}</span><span class="org-string">"</span> /&gt;
    &lt;<span class="org-function-name">command</span> <span class="org-variable-name">name</span>=<span class="org-string">"Kodi"</span> <span class="org-variable-name">execute</span>=<span class="org-string">"frontend-dbus-send switchto kodi"</span> /&gt;
    &lt;<span class="org-function-name">menu</span> <span class="org-variable-name">name</span>=<span class="org-string">"</span><span class="org-type">{{</span><span class="org-string"> </span><span class="org-variable-name">'System' </span><span class="org-keyword">| </span><span class="org-warning">translate</span><span class="org-string"> </span><span class="org-type">}}</span><span class="org-string">"</span>&gt;
        &lt;<span class="org-function-name">system</span> <span class="org-variable-name">name</span>=<span class="org-string">"Commands"</span> /&gt;
        &lt;<span class="org-function-name">system</span> <span class="org-variable-name">name</span>=<span class="org-string">"Setup"</span> /&gt;
        &lt;<span class="org-function-name">plugin</span> <span class="org-variable-name">name</span>=<span class="org-string">"devstatus"</span> /&gt;
        &lt;<span class="org-function-name">plugin</span> <span class="org-variable-name">name</span>=<span class="org-string">"systeminfo"</span> /&gt;
        &lt;<span class="org-function-name">plugin</span> <span class="org-variable-name">name</span>=<span class="org-string">"femon"</span> /&gt;
        &lt;<span class="org-function-name">plugin</span> <span class="org-variable-name">name</span>=<span class="org-string">"filebrowser"</span> /&gt;
        &lt;<span class="org-function-name">plugin</span> <span class="org-variable-name">name</span>=<span class="org-string">"osd2web"</span> /&gt;
        &lt;<span class="org-function-name">plugin</span> <span class="org-variable-name">name</span>=<span class="org-string">"pin"</span> /&gt;
        &lt;<span class="org-function-name">plugin</span> <span class="org-variable-name">name</span>=<span class="org-string">"epg2vdr"</span> /&gt;
        &lt;<span class="org-function-name">plugin</span> <span class="org-variable-name">name</span>=<span class="org-string">"scraper2vdr"</span> /&gt;
        &lt;<span class="org-function-name">plugin</span> <span class="org-variable-name">name</span>=<span class="org-string">"sndctl"</span> /&gt;
        &lt;<span class="org-function-name">plugin</span> <span class="org-variable-name">name</span>=<span class="org-string">"pulsecontrol"</span> /&gt;
        &lt;<span class="org-function-name">plugin</span> <span class="org-variable-name">name</span>=<span class="org-string">"dynamite"</span> /&gt;
        &lt;<span class="org-function-name">plugin</span> <span class="org-variable-name">name</span>=<span class="org-string">"softhdcuvid"</span> /&gt;
        &lt;<span class="org-function-name">plugin</span> <span class="org-variable-name">name</span>=<span class="org-string">"softhddevice"</span> /&gt;
        &lt;<span class="org-function-name">plugin</span> <span class="org-variable-name">name</span>=<span class="org-string">"vaapidevice"</span> /&gt;
        &lt;<span class="org-function-name">plugin</span> <span class="org-variable-name">name</span>=<span class="org-string">"streamdev-client"</span> /&gt;
        &lt;<span class="org-function-name">plugin</span> <span class="org-variable-name">name</span>=<span class="org-string">"streamdev-server"</span> /&gt;
        &lt;<span class="org-function-name">plugin</span> <span class="org-variable-name">name</span>=<span class="org-string">"suspendoutput"</span> /&gt;
    &lt;/<span class="org-function-name">menu</span>&gt;
    &lt;<span class="org-function-name">plugin</span> <span class="org-variable-name">name</span>=<span class="org-string">"trayopenng"</span> /&gt;
    &lt;<span class="org-function-name">plugin</span> <span class="org-variable-name">name</span>=<span class="org-string">"undelete"</span> /&gt;
&lt;/<span class="org-function-name">menus</span>&gt;
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org2c57a5c" class="outline-3">
<h3 id="org2c57a5c"><span class="section-number-3">6.9.</span> nfs-server</h3>
<div class="outline-text-3" id="text-6-9">
</div>
<div id="outline-container-orge2de393" class="outline-4">
<h4 id="orge2de393"><span class="section-number-4">6.9.1.</span> tasks</h4>
<div class="outline-text-4" id="text-6-9-1">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment">---</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> install nfs server packages</span>
  <span class="org-keyword">apt</span>:
    <span class="org-variable-name">name</span>:
      - nfs-kernel-server
      - nfs-common
    <span class="org-variable-name">state</span>: present
    <span class="org-variable-name">install_recommends</span>: <span class="org-constant">no</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> create /etc/exports</span>
  <span class="org-keyword">template</span>:
    <span class="org-variable-name">src</span>: templates/nfs-exports.j2
    <span class="org-variable-name">dest</span>: /etc/exports
  <span class="org-builtin">notify</span>: [ <span class="org-string">'Restart NFS Kernel Server'</span> ]

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> populate /etc/avahi/services</span>
  <span class="org-keyword">template</span>:
    <span class="org-variable-name">src</span>: templates/avahi/service.j2
    <span class="org-variable-name">dest</span>: <span class="org-string">'/etc/avahi/services/yavdr-</span><span class="org-builtin">{{</span><span class="org-function-name"> item.key </span><span class="org-builtin">}}</span><span class="org-string">.service'</span>
  <span class="org-variable-name">loop</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> media_dirs|dict2items </span><span class="org-builtin">}}</span><span class="org-string">'</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org990605d" class="outline-4">
<h4 id="org990605d"><span class="section-number-4">6.9.2.</span> templates</h4>
<div class="outline-text-4" id="text-6-9-2">
</div>
<ol class="org-ol">
<li><a id="orgde5e309"></a>/etc/exports<br />
<div class="outline-text-5" id="text-6-9-2-1">
<div class="org-src-container">
<pre class="src src-conf">{{ ansible_managed | comment }}
<span class="org-variable-name">{% set global</span> = namespace(fsid=0) %}
<span class="org-variable-name">/srv *(rw,fsid</span>=0,sync,no_subtree_check,all_squash,anongid={{ vdr.gid }},anonuid={{ vdr.uid }})
{% for name, path in media_dirs.items() | list %}
<span class="org-variable-name">{{ path }} *(rw,fsid</span>={{ loop.index }},sync,no_subtree_check,all_squash,anongid={{ vdr.gid }},anonuid={{ vdr.uid }}{{ <span class="org-string">',insecure'</span> if nfs.insecure else <span class="org-string">''</span> }})
<span class="org-variable-name">{% set global.next_fsid</span> = (loop.index + 1) %}
{% endfor %}
{% if vdr.hide_first_recording_level %}
<span class="org-variable-name">{{ vdr.recdir }}/local  *(rw,fsid</span>={{ global.next_fsid }},sync,no_subtree_check,all_squash,anongid={{ vdr.gid }},anonuid={{ vdr.uid }}{{ <span class="org-string">',insecure'</span> if nfs.insecure else <span class="org-string">''</span> }})
{% endif %}
</pre>
</div>
</div>
</li>
<li><a id="org67a4fe1"></a>avahi services<br />
<div class="outline-text-5" id="text-6-9-2-2">
<div class="org-src-container">
<pre class="src src-xml"><span class="org-nxml-processing-instruction-delimiter">&lt;?</span><span class="org-nxml-processing-instruction-target">xml</span> <span class="org-nxml-processing-instruction-content">version="1.0" standalone='no'</span><span class="org-nxml-processing-instruction-delimiter">?&gt;</span>
&lt;!<span class="org-nxml-text">DOCTYPE service-group SYSTEM "avahi-service.dtd"&gt;</span>
<span class="org-nxml-text">{{ ansible_managed | comment('xml') }}</span>
<span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">service-group</span><span class="org-nxml-tag-delimiter">&gt;</span>
<span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">name</span> <span class="org-nxml-attribute-local-name">replace-wildcards</span>=<span class="org-string">"yes"</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">{{ item.key|capitalize }} on %h</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">name</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text"> ## Name</span>
<span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">service</span><span class="org-nxml-tag-delimiter">&gt;</span>
       <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">type</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">_nfs._tcp</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">type</span><span class="org-nxml-tag-delimiter">&gt;</span>
       <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">port</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">2049</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">port</span><span class="org-nxml-tag-delimiter">&gt;</span>
       <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">txt-record</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">path={{ item.value }}{{ "/local" if (item.key == "recordings" and vdr.hide_first_recording_level | bool) else "" }}</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">txt-record</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text"> ## path to shared Folder</span>
<span class="org-nxml-text">       </span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">txt-record</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">subtype={{ 'vdr' if item.key == 'recordings' else item.key }}</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">txt-record</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text"> ## subtype</span>
<span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">service</span><span class="org-nxml-tag-delimiter">&gt;</span>
<span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">service-group</span><span class="org-nxml-tag-delimiter">&gt;</span>
</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div id="outline-container-org3c84f2e" class="outline-3">
<h3 id="org3c84f2e"><span class="section-number-3">6.10.</span> yavdr-remote</h3>
<div class="outline-text-3" id="text-6-10">
<p>
The role <code>yavdr-remote</code> sets up the foundation for using eventlircd, lircd2uinput and the pre-configuration for remote receivers which can be detected by udev.
</p>
</div>
<div id="outline-container-org1571538" class="outline-4">
<h4 id="org1571538"><span class="section-number-4">6.10.1.</span> default variables</h4>
<div class="outline-text-4" id="text-6-10-1">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-variable-name">lircd0_socket</span>: /var/run/lirc/lircd0
</pre>
</div>
</div>
</div>
<div id="outline-container-org5626ecd" class="outline-4">
<h4 id="org5626ecd"><span class="section-number-4">6.10.2.</span> tasks</h4>
<div class="outline-text-4" id="text-6-10-2">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment">---</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">This role is used to set up the yaVDR remote control configuration.</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> apt | install packages for remote support</span>
  <span class="org-keyword">apt</span>:
    <span class="org-variable-name">name</span>:
      - yavdr-remote
      - lirc
    <span class="org-variable-name">state</span>: present
  <span class="org-builtin">tags</span>:
    - packages

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> add systemd drop-in for lircd to use lircd2uinput</span>
  <span class="org-variable-name">block</span>:
    - <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> create directory /etc/systemd/system/lircd.service.d/</span>
      <span class="org-keyword">file</span>:
        <span class="org-variable-name">path</span>: /etc/systemd/system/lircd.service.d/
        <span class="org-variable-name">state</span>: directory
    - <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> expand template for /etc/systemd/system/lircd.service.d/lircd2uinput.conf</span>
      <span class="org-keyword">template</span>:
        <span class="org-variable-name">src</span>: templates/lircd.service.d/lircd2uinput.conf.j2
        <span class="org-variable-name">dest</span>: /etc/systemd/system/lircd.service.d/lircd2uinput.conf
      <span class="org-builtin">notify</span>: [<span class="org-string">"Reload Units"</span>]
  <span class="org-builtin">tags</span>:
    - config

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> stop, mask and disable lircd.socket, lircd.service, lircmd.service and lircd-uinput.service # (the default lirc configuration conflicts with eventlircd)</span>
  <span class="org-keyword">systemd</span>:
    <span class="org-variable-name">name</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> item </span><span class="org-builtin">}}</span><span class="org-string">'</span>
    <span class="org-variable-name">enabled</span>: <span class="org-constant">no</span>
    <span class="org-variable-name">state</span>: stopped
    <span class="org-variable-name">masked</span>: <span class="org-constant">yes</span>
  <span class="org-variable-name">loop</span>:
    - lircd.service
    - lircd.socket
    - lircmd.service
    - lircd-uinput.service
  <span class="org-variable-name">ignore_errors</span>: <span class="org-constant">yes</span>
  <span class="org-builtin">tags</span>:
    - systemd

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> apt | install eventlircd and lircd2uinput</span>
  <span class="org-keyword">apt</span>:
    <span class="org-variable-name">name</span>:
      - eventlircd
      - lircd2uinput
    <span class="org-variable-name">state</span>: present
  <span class="org-builtin">tags</span>:
    - packages

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> configure vdr to read from a lircd-compatible socket</span>
  <span class="org-keyword">template</span>:
    <span class="org-variable-name">src</span>: templates/03-vdr-lirc.conf.j2
    <span class="org-variable-name">dest</span>: /etc/vdr/conf.d/03-vdr-lirc.conf
  <span class="org-builtin">notify</span>: [<span class="org-string">'Restart VDR'</span>]
  <span class="org-builtin">tags</span>:
    - config

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> expand template for /etc/rc_maps.cfg</span>
  <span class="org-keyword">template</span>:
    <span class="org-variable-name">src</span>: templates/rc_maps.cfg.j2
    <span class="org-variable-name">dest</span>: /etc/rc_maps.cfg
  <span class="org-builtin">notify</span>: [<span class="org-string">'Trigger Udev'</span>]
  <span class="org-builtin">tags</span>:
    - config


- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> install dependencies for rc-core-learn.py</span>
  <span class="org-keyword">apt</span>:
    <span class="org-variable-name">pkg</span>:
      - python3-evdev
    <span class="org-variable-name">state</span>: present

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> expand template for rc-core-learn.py</span>
  <span class="org-keyword">template</span>:
    <span class="org-variable-name">src</span>:  templates/rc-core-learn.py.j2
    <span class="org-variable-name">dest</span>: /usr/local/bin/rc-core-learn
    <span class="org-variable-name">mode</span>: 0755
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf8e8dc2" class="outline-4">
<h4 id="orgf8e8dc2"><span class="section-number-4">6.10.3.</span> templates</h4>
<div class="outline-text-4" id="text-6-10-3">
</div>
<ol class="org-ol">
<li><a id="org37ce5d5"></a>Systemd Drop-in to start vdr with lirc support<br />
<div class="outline-text-5" id="text-6-10-3-1">
<div class="org-src-container">
<pre class="src src-conf">{{ ansible_managed | comment }}
<span class="org-variable-name">{% if frontend !</span>= <span class="org-string">'kodi'</span> %}
[<span class="org-type">vdr</span>]
<span class="org-variable-name">--lirc</span>=/var/run/lirc/lircd
{% endif %}
</pre>
</div>
</div>
</li>
<li><a id="orga8494c8"></a>Systemd Drop-in to start lircd2uinput with lircd<br />
<div class="outline-text-5" id="text-6-10-3-2">
<div class="org-src-container">
<pre class="src src-conf">{{ ansible_managed | comment }}
[<span class="org-type">Service</span>]
<span class="org-variable-name">ExecStartPost</span>=/usr/bin/lircd2uinput-add /var/run/lirc/lircd0
<span class="org-variable-name">ExecStopPost</span>=/usr/bin/lircd2uinput-remove /var/run/lirc/lircd0
</pre>
</div>
</div>
</li>
<li><a id="org26c8ed9"></a>create /etc/rc_maps.cfg<br />
<div class="outline-text-5" id="text-6-10-3-3">
<div class="org-src-container">
<pre class="src src-conf">{{ ansible_managed | comment }}
<span class="org-comment-delimiter">#</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">Keymaps table</span>
<span class="org-comment-delimiter">#</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">This table creates an association between a keycode file and a kernel</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">driver. It can be used to automatically override a keycode definition.</span>
<span class="org-comment-delimiter">#</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">Although not yet tested, it is mented to be added at udev.</span>
<span class="org-comment-delimiter">#</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">To use, you just need to run:</span>
<span class="org-comment-delimiter">#   </span><span class="org-comment">./ir-keytable -a</span>
<span class="org-comment-delimiter">#</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">Or, if the remote is not the first device:</span>
<span class="org-comment-delimiter">#   </span><span class="org-comment">./ir-keytable -a -s rc1     # for RC at rc1</span>
<span class="org-comment-delimiter">#</span>

<span class="org-comment-delimiter"># </span><span class="org-comment">Format:</span>
<span class="org-comment-delimiter">#   </span><span class="org-comment">driver - name of the driver provided via uevent - use * for any driver</span>
<span class="org-comment-delimiter">#   </span><span class="org-comment">table -  RC keymap table, provided via uevent - use * for any table</span>
<span class="org-comment-delimiter">#   </span><span class="org-comment">file - file name. If directory is not specified, it will default to</span>
<span class="org-comment-delimiter">#       </span><span class="org-comment">/etc/rc_keymaps.</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">For example:</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">driver    table               file</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">cx8800    *               ./keycodes/rc5_hauppauge_new</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">*     rc-avermedia-m135a-rm-jx    ./keycodes/kworld_315u</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">saa7134   rc-avermedia-m135a-rm-jx    ./keycodes/keycodes/nec_terratec_cinergy_xs</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">em28xx    *               ./keycodes/kworld_315u</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">*     *               ./keycodes/rc5_hauppauge_new</span>

<span class="org-comment-delimiter"># </span><span class="org-comment">Table to automatically load the rc maps for the bundled IR's provided with the</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">devices supported by the linux kernel</span>

<span class="org-comment-delimiter">#</span><span class="org-comment">driver table                    file</span>
ite-cir     rc-rc6-mce          /lib/udev/rc_keymaps/rc-rc6-mce
nuvoton-cir rc-rc6-mce          /lib/udev/rc_keymaps/rc-rc6-mce
serial_ir   rc-rc6-mce          /lib/udev/rc_keymaps/rc-rc6-mce
mceusb      rc-rc6-mce          /lib/udev/rc_keymaps/HOPLOrc6
gpio_ir_recv rc-rc6-mce         /lib/udev/rc_keymaps/rc-rc6-mce

<span class="org-comment-delimiter"># </span><span class="org-comment">Hauppauge PVR 350</span>
ir-kbd-i2c  rc-hauppauge    /lib/udev/rc_keymaps/rc-hauppauge

<span class="org-comment-delimiter"># </span><span class="org-comment">imon-pad</span>
imon        rc-imon-mce         /lib/udev/rc_keymaps/rc-imon-mce
imon        rc-imon-pad         /lib/udev/rc_keymaps/rc-imon-pad

<span class="org-comment-delimiter"># </span><span class="org-comment">TT-1500/1501</span>
budget_ci   rc-tt-1500          /lib/udev/rc_keymaps/rc-tt-1501


<span class="org-comment-delimiter"># </span><span class="org-comment">Skystarhd2</span>
mantis_core * /lib/udev/rc_keymaps/skystarhd2

<span class="org-comment-delimiter"># </span><span class="org-comment">Medion X10</span>
ati_remote    rc-medion-x10              /lib/udev/rc_keymaps/rc-medion-x10
ati_remote    rc-medion-x10-or2x         /lib/udev/rc_keymaps/rc-medion-x10-or2x
ati_remote    rc-medion-x10-digitainer   /lib/udev/rc_keymaps/rc-medion-x10-digitainer

<span class="org-comment-delimiter"># </span><span class="org-comment">other devices (which still mostly need a customized keymap for yaVDR)</span>
*   rc-adstech-dvb-t-pci     adstech_dvb_t_pci
*   rc-alink-dtu-m           alink_dtu_m
*   rc-anysee                anysee
*   rc-apac-viewcomp         apac_viewcomp
*   rc-asus-pc39             asus_pc39
*   rc-asus-ps3-100          asus_ps3_100
*   rc-ati-tv-wonder-hd-600  ati_tv_wonder_hd_600
*   rc-ati-x10               ati_x10
*   rc-avermedia-a16d        avermedia_a16d
*   rc-avermedia-cardbus     avermedia_cardbus
*   rc-avermedia-dvbt        avermedia_dvbt
*   rc-avermedia-m135a       avermedia_m135a
*   rc-avermedia-m733a-rm-k6 avermedia_m733a_rm_k6
*   rc-avermedia-rm-ks       avermedia_rm_ks
*   rc-avermedia             avermedia
*   rc-avertv-303            avertv_303
*   rc-azurewave-ad-tu700    azurewave_ad_tu700
*   rc-behold-columbus       behold_columbus
*   rc-behold                behold
*   rc-budget-ci-old         budget_ci_old
*   rc-cec                   cec
*   rc-cinergy-1400          cinergy_1400
*   rc-cinergy               cinergy
*   rc-delock-61959          delock_61959
*   rc-dib0700-nec           dib0700_nec
*   rc-dib0700-rc5           dib0700_rc5
*   rc-digitalnow-tinytwin   digitalnow_tinytwin
*   rc-digittrade            digittrade
*   rc-dm1105-nec            dm1105_nec
*   rc-dntv-live-dvb-t       dntv_live_dvb_t
*   rc-dntv-live-dvbt-pro    dntv_live_dvbt_pro
*   rc-dtt200u               dtt200u
*   rc-dvbsky                dvbsky
*   rc-em-terratec           em_terratec
*   rc-encore-enltv-fm53     encore_enltv_fm53
*   rc-encore-enltv          encore_enltv
*   rc-encore-enltv2         encore_enltv2
*   rc-evga-indtube          evga_indtube
*   rc-eztv                  eztv
*   rc-flydvb                flydvb
*   rc-flyvideo              flyvideo
*   rc-fusionhdtv-mce        fusionhdtv_mce
*   rc-gadmei-rm008z         gadmei_rm008z
*   rc-genius-tvgo-a11mce    genius_tvgo_a11mce
*   rc-gotview7135           gotview7135
*       rc-hauppauge             /lib/udev/rc_keymaps/rc-hauppauge
*       rc-imon-mce              /lib/udev/rc_keymaps/rc-imon-mce
*       rc-imon-pad              /lib/udev/rc_keymaps/rc-imon-pad
*   rc-iodata-bctv7e         iodata_bctv7e
*   rc-it913x-v1             it913x_v1
*   rc-it913x-v2             it913x_v2
*   rc-kaiomy                kaiomy
*   rc-kworld-315u           kworld_315u
*   rc-kworld-pc150u         kworld_pc150u
*   rc-kworld-plus-tv-analog kworld_plus_tv_analog
*   rc-leadtek-y04g0051      leadtek_y04g0051
*   rc-lme2510               lme2510
*   rc-manli                 manli
<span class="org-comment-delimiter">#</span><span class="org-comment">*  rc-medion-x10-digitainer medion_x10_digitainer</span>
<span class="org-comment-delimiter">#</span><span class="org-comment">*  rc-medion-x10-or2x       medion_x10_or2x</span>
<span class="org-comment-delimiter">#</span><span class="org-comment">*  rc-medion-x10            medion_x10</span>
*   rc-msi-digivox-ii        msi_digivox_ii
*   rc-msi-digivox-iii       msi_digivox_iii
*   rc-msi-tvanywhere-plus   msi_tvanywhere_plus
*   rc-msi-tvanywhere        msi_tvanywhere
*   rc-nebula                nebula
*   rc-nec-terratec-cinergy-xs nec_terratec_cinergy_xs
*   rc-norwood               norwood
*   rc-npgtech               npgtech
*   rc-pctv-sedna            pctv_sedna
*   rc-pinnacle-color        pinnacle_color
*   rc-pinnacle-grey         pinnacle_grey
*   rc-pinnacle-pctv-hd      pinnacle_pctv_hd
*   rc-pixelview-002t        pixelview_002t
*   rc-pixelview-mk12        pixelview_mk12
*   rc-pixelview-new         pixelview_new
*   rc-pixelview             pixelview
*   rc-powercolor-real-angel powercolor_real_angel
*   rc-proteus-2309          proteus_2309
*   rc-purpletv              purpletv
*   rc-pv951                 pv951
*   rc-rc6-mce               /lib/udev/rc_keymaps/rc-rc6-mce
*   rc-real-audio-220-32-keys real_audio_220_32_keys
*   rc-reddo                 reddo
*   rc-snapstream-firefly    snapstream_firefly
*   rc-streamzap             streamzap
*   rc-su3000                su3000
*   rc-tbs-nec               tbs_nec
*   rc-technisat-ts35        technisat_ts35
*   rc-technisat-usb2        technisat_usb2
*   rc-terratec-cinergy-c-pci terratec_cinergy_c_pci
*   rc-terratec-cinergy-s2-hd terratec_cinergy_s2_hd
*   rc-terratec-cinergy-xs   terratec_cinergy_xs
*   rc-terratec-slim-2       terratec_slim_2
*   rc-terratec-slim         terratec_slim
*   rc-tevii-nec             tevii_nec
*   rc-tivo                  tivo
*   rc-total-media-in-hand-02 total_media_in_hand_02
*   rc-total-media-in-hand   total_media_in_hand
*   rc-trekstor              trekstor
*       rc-tt-1500          /lib/udev/rc_keymaps/rc-tt-1500
*   rc-twinhan-dtv-cab-ci    twinhan_dtv_cab_ci
*   rc-twinhan1027           twinhan_vp1027_dvbs
*   rc-videomate-k100        videomate_k100
*   rc-videomate-s350        videomate_s350
*   rc-videomate-tv-pvr      videomate_tv_pvr
*   rc-winfast-usbii-deluxe  winfast_usbii_deluxe
*   rc-winfast               winfast
<span class="org-comment-delimiter"># </span><span class="org-comment">* *            a800                 # found in a800.c</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">* *            af9005               # found in af9005-remote.c</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">* *            cinergyt2            # found in cinergyT2-core.c</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">* *            dvico_mce            # found in cxusb.c</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">* *            dvico_portable       # found in cxusb.c</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">* *            d680_dmb             # found in cxusb.c</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">* *            dibusb               # found in dibusb-common.c</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">* *            digitv               # found in digitv.c</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">* *            megasky              # found in m920x.c</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">* *            tvwalkerir-kbd-i2c   # found in m920x.c</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">* *            pinnacle310e         # found in m920x.c</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">* *            haupp                # found in nova-t-usb2.c</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">* *            opera1               # found in opera1.c</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">* *            vp702x               # found in vp702x.c</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">* *            vp7045               # found in vp7045.c</span>

</pre>
</div>
</div>
</li>
</ol>
</div>
<div id="outline-container-org3b26c98" class="outline-4">
<h4 id="org3b26c98"><span class="section-number-4">6.10.4.</span> Helper script to learn keys for rc-core receiver</h4>
<div class="outline-text-4" id="text-6-10-4">
<div class="org-src-container">
<pre class="src src-python">{{ ansible_managed | comment }}
<span class="org-keyword">import</span> functools
<span class="org-keyword">import</span> contextlib
<span class="org-keyword">import</span> signal
<span class="org-keyword">import</span> sys
<span class="org-keyword">import</span> time
<span class="org-keyword">from</span> argparse <span class="org-keyword">import</span> ArgumentParser
<span class="org-keyword">from</span> pathlib <span class="org-keyword">import</span> Path
<span class="org-keyword">from</span> evdev <span class="org-keyword">import</span> InputDevice, ecodes

<span class="org-variable-name">BUTTONS</span> = [
        <span class="org-string">"KEY_OK"</span>,
        <span class="org-string">"KEY_MENU"</span>,
        <span class="org-string">"KEY_ESC"</span>,
        <span class="org-string">"KEY_UP"</span>,
        <span class="org-string">"KEY_DOWN"</span>,
        <span class="org-string">"KEY_LEFT"</span>,
        <span class="org-string">"KEY_RIGHT"</span>,
        <span class="org-string">"KEY_RED"</span>,
        <span class="org-string">"KEY_GREEN"</span>,
        <span class="org-string">"KEY_YELLOW"</span>,
        <span class="org-string">"KEY_BLUE"</span>,
        <span class="org-string">"KEY_0"</span>,
        <span class="org-string">"KEY_1"</span>,
        <span class="org-string">"KEY_2"</span>,
        <span class="org-string">"KEY_3"</span>,
        <span class="org-string">"KEY_4"</span>,
        <span class="org-string">"KEY_5"</span>,
        <span class="org-string">"KEY_6"</span>,
        <span class="org-string">"KEY_7"</span>,
        <span class="org-string">"KEY_8"</span>,
        <span class="org-string">"KEY_9"</span>,
        <span class="org-string">"KEY_INFO"</span>,
        <span class="org-string">"KEY_PLAY"</span>,
        <span class="org-string">"KEY_PAUSE"</span>,
        <span class="org-string">"KEY_STOP"</span>,
        <span class="org-string">"KEY_RECORD"</span>,
        <span class="org-string">"KEY_FASTFORWARD"</span>,
        <span class="org-string">"KEY_REWIND"</span>,
        <span class="org-string">"KEY_NEXT"</span>,
        <span class="org-string">"KEY_BACK"</span>,
        <span class="org-string">"KEY_POWER2"</span>,
        <span class="org-string">"KEY_CHANNELUP"</span>,
        <span class="org-string">"KEY_CHANNELDOWN"</span>,
        <span class="org-string">"KEY_PREVIOUS"</span>,
        <span class="org-string">"KEY_VOLUMEUP"</span>,
        <span class="org-string">"KEY_VOLUMEDOWN"</span>,
        <span class="org-string">"KEY_MUTE"</span>,
        <span class="org-string">"KEY_SUBTITLE"</span>,
        <span class="org-string">"KEY_EPG"</span>,
        <span class="org-string">"KEY_CHANNEL"</span>,
        <span class="org-string">"KEY_FAVORITES"</span>,
        <span class="org-string">"KEY_MODE"</span>,
        <span class="org-string">"KEY_TIME"</span>,
        <span class="org-string">"KEY_PVR"</span>,
        <span class="org-string">"KEY_SETUP"</span>,
        <span class="org-string">"KEY_TEXT"</span>,
        <span class="org-string">"KEY_PROG1"</span>,
        <span class="org-string">"KEY_PROG2"</span>,
        <span class="org-string">"KEY_PROG3"</span>,
        <span class="org-string">"KEY_PROG4"</span>,
        <span class="org-string">"KEY_AUDIO"</span>,
        <span class="org-string">"KEY_VIDEO"</span>,
        <span class="org-string">"KEY_IMAGES"</span>,
        <span class="org-string">"KEY_FN"</span>,
        <span class="org-string">"KEY_SCREEN"</span>,
        ]

<span class="org-variable-name">RC_SYS_DEVICES</span> = Path(<span class="org-string">'/sys/class/rc/'</span>)
<span class="org-variable-name">DEVPATH</span> = Path(<span class="org-string">'/dev'</span>)
<span class="org-variable-name">debug</span> = functools.partial(<span class="org-keyword">print</span>, <span class="org-builtin">file</span>=sys.stderr)


<span class="org-keyword">def</span> <span class="org-function-name">print_keymap</span>(keytable, protocol, keys, output):
    <span class="org-keyword">print</span>(f<span class="org-string">"\n# table: {keytable}, type: {protocol}"</span>, <span class="org-builtin">file</span>=output)
    <span class="org-keyword">for</span> keyname, scancode <span class="org-keyword">in</span> keys.items():
        <span class="org-keyword">print</span>(f<span class="org-string">"{scancode:#06x} {keyname}"</span>, <span class="org-builtin">file</span>=output)


<span class="org-keyword">def</span> <span class="org-function-name">read_from_device</span>(dev):
    <span class="org-keyword">def</span> <span class="org-function-name">btn_generator</span>():
        <span class="org-keyword">for</span> btn <span class="org-keyword">in</span> BUTTONS:
            <span class="org-keyword">yield</span> btn
        <span class="org-keyword">while</span> <span class="org-constant">True</span>:
            <span class="org-keyword">yield</span> <span class="org-constant">None</span>

    <span class="org-variable-name">btn_gen</span> = btn_generator()

    <span class="org-variable-name">keymap</span> = {}
    <span class="org-variable-name">last_scancode</span> = <span class="org-constant">None</span>
    <span class="org-variable-name">last_ts</span> = <span class="org-builtin">float</span>(<span class="org-string">'inf'</span>)

    <span class="org-variable-name">button</span> = <span class="org-builtin">next</span>(btn_gen)
    <span class="org-variable-name">first_btn</span> = button
    <span class="org-keyword">with</span> contextlib.closing(InputDevice(dev)) <span class="org-keyword">as</span> dev:
        debug(f<span class="org-string">"Please press a button for {button}"</span>)

        <span class="org-keyword">for</span> ev <span class="org-keyword">in</span> dev.read_loop():
            <span class="org-variable-name">advance_button</span> = <span class="org-constant">False</span>
            <span class="org-keyword">if</span> ev.<span class="org-builtin">type</span> == ecodes.EV_MSC:
                <span class="org-variable-name">ts</span> = ev.timestamp()
                <span class="org-keyword">if</span> (
                    ev.value == keymap.get(first_btn)
                    <span class="org-keyword">and</span> last_scancode == keymap.get(first_btn)
                    <span class="org-keyword">and</span> ts - last_ts &gt; .5
                ):

                    <span class="org-comment-delimiter"># </span><span class="org-comment">skip button because user pressed KEY_OK</span>
                    <span class="org-comment-delimiter"># </span><span class="org-comment">and it's not an unwanted repeat</span>
                    <span class="org-variable-name">advance_button</span> = <span class="org-constant">True</span>
                    debug(f<span class="org-string">"skipped learning button {button}"</span>)
                <span class="org-keyword">elif</span> last_scancode == ev.value:
                    <span class="org-comment-delimiter"># </span><span class="org-comment">repeated key</span>
                    <span class="org-keyword">pass</span>
                <span class="org-keyword">elif</span> ev.value != keymap.get(first_btn):
                    <span class="org-keyword">if</span> ev.value &lt; 0:
                        <span class="org-variable-name">ev.value</span> &amp;= 0xffffffff
                    debug(f<span class="org-string">"Got scancode {ev.value:#06x} for {button}."</span>)
                    <span class="org-variable-name">advance_button</span> = <span class="org-constant">True</span>
                    <span class="org-variable-name">keymap</span>[button] = ev.value
                    <span class="org-variable-name">last_scancode</span> = ev.value

                <span class="org-variable-name">last_ts</span> = ts
                <span class="org-variable-name">last_scancode</span> = ev.value

            <span class="org-keyword">if</span> advance_button:
                <span class="org-variable-name">button</span> = <span class="org-builtin">next</span>(btn_gen)
                <span class="org-keyword">if</span> button:
                    debug(f<span class="org-string">"Please press a button for {button} (press KEY_OK to skip)"</span>)
                <span class="org-keyword">else</span>:
                    <span class="org-keyword">break</span>
        <span class="org-keyword">return</span> keymap


<span class="org-keyword">def</span> <span class="org-function-name">list_devices</span>():
    <span class="org-variable-name">devices</span> = []
    <span class="org-keyword">for</span> rc_device <span class="org-keyword">in</span> RC_SYS_DEVICES.glob(<span class="org-string">'rc*'</span>):
        <span class="org-variable-name">device</span> = {}
        <span class="org-variable-name">device</span>[<span class="org-string">"path"</span>] = rc_device
        <span class="org-variable-name">device</span>[<span class="org-string">"sys"</span>] = rc_device.name

        <span class="org-keyword">with</span> <span class="org-builtin">open</span>(<span class="org-builtin">next</span>(rc_device.glob(<span class="org-string">'input*/event*/uevent'</span>))) <span class="org-keyword">as</span> f:
            <span class="org-comment-delimiter"># </span><span class="org-comment">read DEVNAME attribute (and others)</span>
            <span class="org-keyword">for</span> line <span class="org-keyword">in</span> f:
                <span class="org-variable-name">key</span>, <span class="org-variable-name">value</span> = line.rstrip().split(<span class="org-string">'='</span>)
                <span class="org-variable-name">device</span>[key] = value

        <span class="org-keyword">with</span> <span class="org-builtin">open</span>(rc_device.joinpath(<span class="org-string">'uevent'</span>)) <span class="org-keyword">as</span> f:
            <span class="org-keyword">for</span> line <span class="org-keyword">in</span> f:
                <span class="org-variable-name">key</span>, <span class="org-variable-name">value</span> = line.rstrip().split(<span class="org-string">'='</span>)
                <span class="org-variable-name">device</span>[key] = value

        <span class="org-keyword">with</span> <span class="org-builtin">open</span>(rc_device.joinpath(<span class="org-string">'protocols'</span>)) <span class="org-keyword">as</span> f:
            <span class="org-variable-name">protocols</span> = f.read().rstrip().split()
            <span class="org-variable-name">active_protocols</span> = [p[1:-1] <span class="org-keyword">for</span> p <span class="org-keyword">in</span> protocols <span class="org-keyword">if</span> (
                p.startswith(<span class="org-string">'['</span>) <span class="org-keyword">and</span> p != <span class="org-string">"[lirc]"</span>)]
            <span class="org-variable-name">inactive_protocols</span> = [p <span class="org-keyword">for</span> p <span class="org-keyword">in</span> protocols <span class="org-keyword">if</span> <span class="org-keyword">not</span> p.startswith(<span class="org-string">'['</span>)]
            <span class="org-variable-name">device</span>[<span class="org-string">"protocols"</span>] = protocols
            <span class="org-variable-name">device</span>[<span class="org-string">"inactive_protocols"</span>] = inactive_protocols
            <span class="org-variable-name">device</span>[<span class="org-string">"active_protocols"</span>] = active_protocols
            devices.append(device)
    <span class="org-keyword">return</span> devices


<span class="org-keyword">if</span> <span class="org-builtin">__name__</span> == <span class="org-string">'__main__'</span>:
    <span class="org-variable-name">parser</span> = ArgumentParser(description=<span class="org-string">"create keymaps for rc-core devices"</span>)
    parser.add_argument(<span class="org-string">'-p'</span>, <span class="org-string">'--protocol'</span>, metavar=<span class="org-string">'PROTOCOL'</span>,
                        <span class="org-builtin">help</span>=<span class="org-string">'set ir-protocol'</span>)
    parser.add_argument(<span class="org-string">'-d'</span>, <span class="org-string">'--device'</span>, metavar=<span class="org-string">'DEVICE'</span>, default=<span class="org-constant">None</span>,
                        <span class="org-builtin">help</span>=<span class="org-string">'ir device (e.g. rc0)'</span>)
    parser.add_argument(<span class="org-string">'-o'</span>, <span class="org-string">'--output'</span>, metavar=<span class="org-string">'KEYMAP'</span>, default=<span class="org-constant">None</span>,
                        <span class="org-builtin">help</span>=<span class="org-string">'write the keymap to this file instead of printing to stdout'</span>)
    <span class="org-variable-name">args</span> = parser.parse_args()

    <span class="org-variable-name">devices</span> = list_devices()
    <span class="org-keyword">if</span> <span class="org-keyword">not</span> devices:
        sys.<span class="org-constant">exit</span>(<span class="org-string">"No rc-core devices found. Exiting."</span>)
    <span class="org-keyword">elif</span> <span class="org-builtin">len</span>(devices) == 1:
        <span class="org-keyword">print</span>(f<span class="org-string">"Using device {devices[0]['NAME']}"</span>, <span class="org-builtin">file</span>=sys.stderr)
        <span class="org-variable-name">dev</span> = devices[0][<span class="org-string">'path'</span>]
        <span class="org-variable-name">input_dev</span> = devices[0][<span class="org-string">'DEVNAME'</span>]
        <span class="org-variable-name">keytable</span> = devices[0][<span class="org-string">'NAME'</span>]
        <span class="org-variable-name">protocol</span> = <span class="org-string">","</span>.join(devices[0][<span class="org-string">'active_protocols'</span>])
    <span class="org-keyword">else</span>:
        <span class="org-keyword">if</span> args.device:
            <span class="org-keyword">for</span> d <span class="org-keyword">in</span> devices:
                <span class="org-keyword">if</span> (d[<span class="org-string">'sys'</span>] == args.device
                        <span class="org-keyword">or</span> d[<span class="org-string">'path'</span>] == RC_SYS_DEVICES.joinpath(args.device)):
                    <span class="org-variable-name">dev</span> = RC_SYS_DEVICES.joinpath(args.device)
                    <span class="org-variable-name">input_dev</span> = d[<span class="org-string">'DEVNAME'</span>]
                    <span class="org-variable-name">keytable</span> = d[<span class="org-string">'NAME'</span>]
                    <span class="org-variable-name">protocol</span> = <span class="org-string">","</span>.join(d[<span class="org-string">'active_protocols'</span>])
        <span class="org-keyword">else</span>:
            <span class="org-keyword">for</span> i, d <span class="org-keyword">in</span> <span class="org-builtin">enumerate</span>(devices, start=1):
                <span class="org-keyword">if</span> <span class="org-keyword">not</span> args.protocol:
                    <span class="org-keyword">print</span>(f<span class="org-string">"{i}) {d['DEV_NAME']} ({','.join(d.get('active_protocols'))})"</span>)
                <span class="org-keyword">else</span>:
                    <span class="org-keyword">print</span>(f<span class="org-string">"{i}) {d['DEV_NAME']}"</span>)
            <span class="org-keyword">try</span>:
                <span class="org-variable-name">dev_num</span> = <span class="org-builtin">int</span>(<span class="org-builtin">input</span>(<span class="org-string">"\tUse device numer: "</span>))
                <span class="org-keyword">if</span> dev_num &lt; 0 <span class="org-keyword">or</span> dev_num &gt; <span class="org-builtin">len</span>(devices):
                    <span class="org-keyword">raise</span> <span class="org-type">ValueError</span>
                <span class="org-variable-name">d</span> = devices[dev_num - 1]
            <span class="org-keyword">except</span> (<span class="org-type">ValueError</span>, <span class="org-type">IndexError</span>):
                sys.<span class="org-constant">exit</span>(<span class="org-string">"invalid device number"</span>)
            <span class="org-variable-name">input_dev</span> = d[<span class="org-string">'DEVNAME'</span>]
            <span class="org-variable-name">keytable</span> = d[<span class="org-string">'NAME'</span>]
            <span class="org-variable-name">protocol</span> = <span class="org-string">","</span>.join(d[<span class="org-string">'active_protocols'</span>])
            <span class="org-variable-name">dev</span> = d[<span class="org-string">'path'</span>]

    <span class="org-comment-delimiter"># </span><span class="org-comment">set ir-protocol(s)</span>
    <span class="org-keyword">if</span> args.protocol:
        <span class="org-keyword">try</span>:
            <span class="org-keyword">with</span> <span class="org-builtin">open</span>(dev.joinpath(<span class="org-string">'protocols'</span>), <span class="org-string">'w'</span>) <span class="org-keyword">as</span> f:
                f.write(args.protocol)
        <span class="org-keyword">except</span> <span class="org-type">PermissionError</span> <span class="org-keyword">as</span> e:
            sys.<span class="org-constant">exit</span>(f<span class="org-string">"Error: insifficient permissions to change protocol - are you root?"</span>)
        <span class="org-keyword">except</span> <span class="org-type">IOError</span> <span class="org-keyword">as</span> e:
            sys.<span class="org-constant">exit</span>(f<span class="org-string">"Error: could not set protocol(s) to {args.protocol}: {e}"</span>)
        <span class="org-variable-name">protocol</span> = args.protocol

    <span class="org-variable-name">input_dev</span> = DEVPATH.joinpath(input_dev)
    debug(<span class="org-string">"using device: "</span>, input_dev)

    <span class="org-keyword">def</span> <span class="org-function-name">signal_handler</span>(signum, frame):
        sys.<span class="org-constant">exit</span>()

    <span class="org-keyword">for</span> signame <span class="org-keyword">in</span> {<span class="org-string">'SIGINT'</span>, <span class="org-string">'SIGTERM'</span>}:
        signal.signal(
            <span class="org-builtin">getattr</span>(signal, signame),
            signal_handler)
    <span class="org-keyword">try</span>:
        <span class="org-variable-name">keymap</span> = read_from_device(input_dev)
    <span class="org-keyword">except</span> <span class="org-type">PermissionError</span> <span class="org-keyword">as</span> e:
        sys.<span class="org-constant">exit</span>(f<span class="org-string">"Error: can't open {input_dev} - are you root?"</span>)
    <span class="org-keyword">else</span>:
        <span class="org-keyword">if</span> args.output:
            <span class="org-keyword">with</span> <span class="org-builtin">open</span>(args.output, <span class="org-string">'w'</span>) <span class="org-keyword">as</span> output:
                print_keymap(keytable, protocol, keymap, output)
        <span class="org-keyword">else</span>:
            print_keymap(keytable, protocol, keymap, <span class="org-constant">None</span>)

</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-pulseaudio" class="outline-3">
<h3 id="pulseaudio"><span class="section-number-3">6.11.</span> pulseaudio</h3>
<div class="outline-text-3" id="text-pulseaudio">
</div>
<div id="outline-container-orgc2e7912" class="outline-4">
<h4 id="orgc2e7912"><span class="section-number-4">6.11.1.</span> tasks</h4>
<div class="outline-text-4" id="text-6-11-1">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment">---</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> apt | install pulseaudio, pavucontrol and vdr-plugin-pulsecontrol</span>
  <span class="org-keyword">apt</span>:
    <span class="org-variable-name">name</span>:
      - pulseaudio
      - pavucontrol
      - vdr-plugin-pulsecontrol
    <span class="org-variable-name">state</span>: present
    <span class="org-variable-name">install_recommends</span>: <span class="org-constant">no</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> create /etc/asound.conf with pulseaudio as default device</span>
  <span class="org-keyword">template</span>:
    <span class="org-variable-name">src</span>: templates/alsa/asound.conf.j2
    <span class="org-variable-name">dest</span>: /etc/asound.conf
</pre>
</div>
</div>
</div>
<div id="outline-container-orgc8ce015" class="outline-4">
<h4 id="orgc8ce015"><span class="section-number-4">6.11.2.</span> templates</h4>
<div class="outline-text-4" id="text-6-11-2">
<div class="org-src-container">
<pre class="src src-conf">{{ ansible_managed | comment }}
<span class="org-comment-delimiter"># </span><span class="org-comment">Use PulseAudio by default</span>
<span class="org-type">pcm.!default</span> {
  type pulse
  fallback <span class="org-string">"sysdefault"</span>
  <span class="org-type">hint</span> {
    show on
    description <span class="org-string">"Default ALSA Output (currently PulseAudio Sound Server)"</span>
  }
}

<span class="org-type">ctl.!default</span> {
  type pulse
  fallback <span class="org-string">"sysdefault"</span>
}
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgd019806" class="outline-3">
<h3 id="orgd019806"><span class="section-number-3">6.12.</span> session-common</h3>
<div class="outline-text-3" id="text-6-12">
<p>
This role prepares a basic systemd user session
</p>
</div>
<div id="outline-container-orgd806cea" class="outline-4">
<h4 id="orgd806cea"><span class="section-number-4">6.12.1.</span> tasks</h4>
<div class="outline-text-4" id="text-6-12-1">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment">---</span>
- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> install required packages</span>
  <span class="org-keyword">apt</span>:
    <span class="org-variable-name">name</span>:
      - tmux

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> create ~/.config/systemd/user</span>
  <span class="org-keyword">file</span>:
    <span class="org-variable-name">path</span>: <span class="org-string">"</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.home </span><span class="org-builtin">}}</span><span class="org-string">/.config/systemd/user"</span>
    <span class="org-variable-name">state</span>: directory
    <span class="org-variable-name">owner</span>: <span class="org-string">"</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.user </span><span class="org-builtin">}}</span><span class="org-string">"</span>
    <span class="org-keyword">group</span>: <span class="org-string">"</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.user </span><span class="org-builtin">}}</span><span class="org-string">"</span>
    <span class="org-variable-name">mode</span>: 0755

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> create tmux.service for the session</span>
  <span class="org-keyword">template</span>:
    <span class="org-variable-name">src</span>: <span class="org-string">'templates/systemd/user/tmux.service.j2'</span>
    <span class="org-variable-name">dest</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.home </span><span class="org-builtin">}}</span><span class="org-string">/.config/systemd/user/tmux.service'</span>
    <span class="org-variable-name">mode</span>: 0644
    <span class="org-variable-name">owner</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.user </span><span class="org-builtin">}}</span><span class="org-string">'</span>
    <span class="org-keyword">group</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.group </span><span class="org-builtin">}}</span><span class="org-string">'</span>

</pre>
</div>
</div>
</div>
<div id="outline-container-org2f8edd3" class="outline-4">
<h4 id="org2f8edd3"><span class="section-number-4">6.12.2.</span> templates</h4>
<div class="outline-text-4" id="text-6-12-2">
</div>
<ol class="org-ol">
<li><a id="org45a5226"></a>tmux.service<br />
<div class="outline-text-5" id="text-6-12-2-1">
<div class="org-src-container">
<pre class="src src-systemd"><span class="org-type">[Unit]</span>
<span class="org-keyword">Description</span>=Start tmux in detached session

<span class="org-type">[Service]</span>
<span class="org-keyword">EnvironmentFile</span>=<span class="org-negation-char">-</span><span class="org-constant">%h</span>/.session-env
<span class="org-keyword">Type</span>=<span class="org-builtin">forking</span>
<span class="org-keyword">WorkingDirectory</span>=<span class="org-constant">%h</span>
<span class="org-keyword">ExecStart</span>=/usr/bin/tmux new-session -s <span class="org-constant">%u</span> -d
<span class="org-keyword">ExecStop</span>=/usr/bin/tmux kill-session -t <span class="org-constant">%u</span>
<span class="org-keyword">Restart</span>=<span class="org-builtin">always</span>

<span class="org-type">[Install]</span>
<span class="org-keyword">WantedBy</span>=default.target
</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div id="outline-container-org34686f2" class="outline-3">
<h3 id="org34686f2"><span class="section-number-3">6.13.</span> headless-session</h3>
<div class="outline-text-3" id="text-6-13">
</div>
<div id="outline-container-org07af98b" class="outline-4">
<h4 id="org07af98b"><span class="section-number-4">6.13.1.</span> About the headless session</h4>
<div class="outline-text-4" id="text-6-13-1">
<p>
This configures a headless login session for the VDR user, so we can run services like udiskie in the context of a systemd user session.
</p>
</div>
</div>
<div id="outline-container-org267b87f" class="outline-4">
<h4 id="org267b87f"><span class="section-number-4">6.13.2.</span> default variables</h4>
<div class="outline-text-4" id="text-6-13-2">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-variable-name">enable_headless_session</span>: <span class="org-constant">true</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-headless-meta" class="outline-4">
<h4 id="headless-meta"><span class="section-number-4">6.13.3.</span> dependencies</h4>
<div class="outline-text-4" id="text-headless-meta">
<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 1: </span>roles/headless-session/meta/main.yml</label><pre class="src src-yaml"><span class="org-comment">---</span>
<span class="org-variable-name">dependencies</span>:
    - <span class="org-ansible-section">role</span>: session-common
    - <span class="org-ansible-section">role</span>: udiskie
</pre>
</div>
</div>
</div>
<div id="outline-container-orgae1abc9" class="outline-4">
<h4 id="orgae1abc9"><span class="section-number-4">6.13.4.</span> Tasks</h4>
<div class="outline-text-4" id="text-6-13-4">
</div>
<ol class="org-ol">
<li><a id="orgc2d9e1e"></a>main.yml<br />
<div class="outline-text-5" id="text-6-13-4-1">
<div class="org-src-container">
<pre class="src src-yaml">- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> create ~/.config</span>
  <span class="org-keyword">file</span>:
    <span class="org-variable-name">path</span>: <span class="org-string">"</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.home </span><span class="org-builtin">}}</span><span class="org-string">/.config"</span>
    <span class="org-variable-name">state</span>: directory
    <span class="org-variable-name">owner</span>: <span class="org-string">"</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.user </span><span class="org-builtin">}}</span><span class="org-string">"</span>
    <span class="org-keyword">group</span>: <span class="org-string">"</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.user </span><span class="org-builtin">}}</span><span class="org-string">"</span>
    <span class="org-variable-name">mode</span>: 0755

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> expand template for ~/.config/headless-session</span>
  <span class="org-keyword">template</span>:
    <span class="org-variable-name">src</span>: templates/config/headless-session.j2
    <span class="org-variable-name">dest</span>: <span class="org-string">"</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.home </span><span class="org-builtin">}}</span><span class="org-string">/.config/headless-session"</span>
    <span class="org-variable-name">owner</span>: <span class="org-string">"</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.user </span><span class="org-builtin">}}</span><span class="org-string">"</span>
    <span class="org-keyword">group</span>: <span class="org-string">"</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.group </span><span class="org-builtin">}}</span><span class="org-string">"</span>
    <span class="org-variable-name">mode</span>: 0755

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> expand template for headless-session@.service</span>
  <span class="org-keyword">template</span>:
    <span class="org-variable-name">src</span>: templates/systemd/headless-session@.service.j2
    <span class="org-variable-name">dest</span>: /etc/systemd/system/headless-session@.service

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> start headless-session@.service for vdr user</span>
  <span class="org-keyword">systemd</span>:
    <span class="org-variable-name">name</span>: <span class="org-string">"headless-session@</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.user </span><span class="org-builtin">}}</span><span class="org-string">.service"</span>
    <span class="org-variable-name">state</span>: started
    <span class="org-variable-name">enabled</span>: <span class="org-constant">true</span>
    <span class="org-variable-name">masked</span>: <span class="org-constant">no</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> enable services for the user session</span>
  <span class="org-keyword">systemd</span>:
    <span class="org-variable-name">name</span>: <span class="org-string">"</span><span class="org-builtin">{{</span><span class="org-function-name"> item </span><span class="org-builtin">}}</span><span class="org-string">"</span>
    <span class="org-variable-name">state</span>: started
    <span class="org-variable-name">masked</span>: <span class="org-constant">no</span>
    <span class="org-variable-name">enabled</span>: <span class="org-constant">yes</span>
    <span class="org-variable-name">scope</span>: user
  <span class="org-builtin">become</span>: <span class="org-constant">yes</span>
  <span class="org-builtin">become_user</span>: vdr
  <span class="org-variable-name">loop</span>:
    - tmux.service
    - udiskie.service

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> disable services for the user session</span>
  <span class="org-keyword">systemd</span>:
    <span class="org-variable-name">name</span>: <span class="org-string">"</span><span class="org-builtin">{{</span><span class="org-function-name"> item </span><span class="org-builtin">}}</span><span class="org-string">"</span>
    <span class="org-variable-name">state</span>: stopped
    <span class="org-variable-name">masked</span>: <span class="org-constant">yes</span>
    <span class="org-variable-name">enabled</span>: <span class="org-constant">no</span>
    <span class="org-variable-name">scope</span>: user
  <span class="org-builtin">become</span>: <span class="org-constant">yes</span>
  <span class="org-builtin">become_user</span>: vdr
  <span class="org-variable-name">loop</span>:
    - detect-second-display.service
    - openbox-second.service
    - osd2web.service
    - pulseaudio.socket
    - pulseaudio.service
    - yavdr-frontend.service
    - wm-exit.service
  <span class="org-variable-name">ignore_errors</span>: <span class="org-constant">yes</span>
</pre>
</div>
</div>
</li>
</ol>
</div>
<div id="outline-container-org270a1e3" class="outline-4">
<h4 id="org270a1e3"><span class="section-number-4">6.13.5.</span> templates</h4>
<div class="outline-text-4" id="text-6-13-5">
</div>
<ol class="org-ol">
<li><a id="org2573c86"></a>Systemd Service<br />
<div class="outline-text-5" id="text-6-13-5-1">
<div class="org-src-container">
<pre class="src src-systemd"><span class="org-type">[Unit]</span>
<span class="org-keyword">Description</span>=headless login for user <span class="org-constant">%i</span>
<span class="org-keyword">After</span>=systemd-user-sessions.service
<span class="org-keyword">Conflicts</span>=getty@tty7.service

<span class="org-type">[Service]</span>
<span class="org-keyword">User</span>=<span class="org-constant">%i</span>
<span class="org-keyword">WorkingDirectory</span>=~
<span class="org-keyword">TTYPath</span>=/dev/tty7
<span class="org-keyword">PAMName</span>=login
<span class="org-keyword">ExecStart</span>=/bin/bash -l .config/headless-session

<span class="org-type">[Install]</span>
<span class="org-keyword">WantedBy</span>=graphical.target
</pre>
</div>
</div>
</li>
<li><a id="org1ffa665"></a>Configuration file<br />
<div class="outline-text-5" id="text-6-13-5-2">
<div class="org-src-container">
<pre class="src src-shell"><span class="org-keyword">while</span> :
<span class="org-keyword">do</span>
    sleep infinity
<span class="org-keyword">done</span>
</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div id="outline-container-orge308274" class="outline-3">
<h3 id="orge308274"><span class="section-number-3">6.14.</span> udiskie</h3>
<div class="outline-text-3" id="text-6-14">
<p>
This role installs and preconfigures udiskie
</p>
</div>
<div id="outline-container-orgaea9447" class="outline-4">
<h4 id="orgaea9447"><span class="section-number-4">6.14.1.</span> tasks</h4>
<div class="outline-text-4" id="text-6-14-1">
<div class="org-src-container">
<pre class="src src-yaml">- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> install udiskie</span>
  <span class="org-keyword">apt</span>:
    <span class="org-variable-name">name</span>:
      - policykit-1
      - udiskie
    <span class="org-variable-name">state</span>: present

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> create ~/.config/udiskie</span>
  <span class="org-keyword">file</span>:
    <span class="org-variable-name">name</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.home </span><span class="org-builtin">}}</span><span class="org-string">/.config/udiskie'</span>
    <span class="org-variable-name">state</span>: directory
    <span class="org-variable-name">owner</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.user </span><span class="org-builtin">}}</span><span class="org-string">'</span>
    <span class="org-keyword">group</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.group </span><span class="org-builtin">}}</span><span class="org-string">'</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> expand template for udiskie's config.yml</span>
  <span class="org-keyword">template</span>:
    <span class="org-variable-name">src</span>: templates/config.yml.j2
    <span class="org-variable-name">dest</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.home </span><span class="org-builtin">}}</span><span class="org-string">/.config/udiskie/config.yml'</span>


- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> create ~/.config/systemd/user</span>
  <span class="org-keyword">file</span>:
    <span class="org-variable-name">name</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.home </span><span class="org-builtin">}}</span><span class="org-string">/.config/systemd/user'</span>
    <span class="org-variable-name">state</span>: directory
    <span class="org-variable-name">owner</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.user </span><span class="org-builtin">}}</span><span class="org-string">'</span>
    <span class="org-keyword">group</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.group </span><span class="org-builtin">}}</span><span class="org-string">'</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> expand template for udiskie's systemd unit</span>
  <span class="org-keyword">template</span>:
    <span class="org-variable-name">src</span>: templates/udiskie.service.j2
    <span class="org-variable-name">dest</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.home </span><span class="org-builtin">}}</span><span class="org-string">/.config/systemd/user/udiskie.service'</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> create ~/bin</span>
  <span class="org-keyword">file</span>:
    <span class="org-variable-name">name</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.home </span><span class="org-builtin">}}</span><span class="org-string">/bin'</span>
    <span class="org-variable-name">state</span>: directory
    <span class="org-variable-name">owner</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.user </span><span class="org-builtin">}}</span><span class="org-string">'</span>
    <span class="org-keyword">group</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.group </span><span class="org-builtin">}}</span><span class="org-string">'</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> expand template for mount helper script</span>
  <span class="org-keyword">template</span>:
    <span class="org-variable-name">src</span>: templates/udiskie_vdr_mount_helper.j2
    <span class="org-variable-name">dest</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.home </span><span class="org-builtin">}}</span><span class="org-string">/bin/udiskie_vdr_mount_helper'</span>
    <span class="org-variable-name">mode</span>: 0755
    <span class="org-variable-name">owner</span>: vdr
    <span class="org-keyword">group</span>: vdr

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> expand template for udiskie vdr commands</span>
  <span class="org-keyword">template</span>:
    <span class="org-variable-name">src</span>: templates/umount_all.j2
    <span class="org-variable-name">dest</span>: /usr/share/vdr/command-hooks/commands.udiskie.conf
</pre>
</div>
</div>
</div>
<div id="outline-container-orgd90da4b" class="outline-4">
<h4 id="orgd90da4b"><span class="section-number-4">6.14.2.</span> templates</h4>
<div class="outline-text-4" id="text-6-14-2">
</div>
<ol class="org-ol">
<li><a id="orgd075eac"></a>config.yml<br />
<div class="outline-text-5" id="text-6-14-2-1">
<div class="org-src-container">
<pre class="src src-shell">{{ ansible_managed | comment }}

program_options:
  tray:             false    <span class="org-comment-delimiter"># </span><span class="org-comment">[bool] Enable the tray icon. "auto"</span>
  menu:             flat    <span class="org-comment-delimiter"># </span><span class="org-comment">["flat" | "nested"] Set the</span>
  automount:        true   <span class="org-comment-delimiter"># </span><span class="org-comment">[bool] Enable automatic mounting.</span>
  notify:           true    <span class="org-comment-delimiter"># </span><span class="org-comment">[bool] Enable notifications.</span>
  password_cache:   false      <span class="org-comment-delimiter"># </span><span class="org-comment">[int] Password cache in minutes. Caching is</span>

  file_manager:     <span class="org-string">""</span>
  notify_command: <span class="org-string">"{{ vdr.home }}/bin/udiskie_vdr_mount_helper '{event}' '{device_presentation}' '{mount_path}'"</span>

device_config:
  - is_loop: true
    ignore: true

  - is_external: false
    ignore: true

notifications:
  device_mounted:   5       <span class="org-comment-delimiter"># </span><span class="org-comment">mount notification</span>
  device_unmounted: true   <span class="org-comment-delimiter"># </span><span class="org-comment">unmount notification</span>
  device_added:     true   <span class="org-comment-delimiter"># </span><span class="org-comment">device has appeared</span>
  device_removed:   true   <span class="org-comment-delimiter"># </span><span class="org-comment">device has disappeared</span>
</pre>
</div>
</div>
</li>
<li><a id="org5e9e192"></a>mount helper script<br />
<div class="outline-text-5" id="text-6-14-2-2">
<div class="org-src-container">
<pre class="src src-shell">{{ ansible_managed | comment }}

<span class="org-variable-name">videodir</span>=<span class="org-string">"{{ vdr.recdir }}"</span>
<span class="org-variable-name">event</span>=<span class="org-string">"$1"</span>
<span class="org-variable-name">device_node</span>=<span class="org-string">"$2"</span>
<span class="org-variable-name">mount_path</span>=<span class="org-string">"$3"</span>


logger -t <span class="org-string">"mount-notification"</span> <span class="org-string">"event: $event, device: $device_node, mount_path: $mount_path"</span>
<span class="org-keyword">case</span> <span class="org-string">"$event"</span><span class="org-keyword"> in</span>
    <span class="org-string">'device_mounted'</span>)
        [[ <span class="org-string">"$mount_path"</span> =~ ^/media/{{ vdr.user }}/ ]] || {
            logger -t <span class="org-string">"skip mount event"</span> <span class="org-string">"ignoring mounts outside /media/{{ vdr.user }}/"</span>
            <span class="org-keyword">exit</span> 0
        }
        <span class="org-variable-name">target</span>=<span class="org-string">"${videodir}/$(</span><span class="org-sh-quoted-exec">basename</span><span class="org-string"> "${mount_path}")"</span>
        ln -s -T <span class="org-string">"$mount_path"</span> <span class="org-string">"$target"</span> || {
            logger -t <span class="org-string">"vdr recordings found"</span> <span class="org-string">"mountpoint already exists, aborting"</span>
            <span class="org-keyword">exit</span>
        }
        <span class="org-comment-delimiter"># </span><span class="org-comment">check if we got a vdr recording on the mountpoint</span>
        <span class="org-keyword">if</span> [ -n $(<span class="org-sh-quoted-exec">find</span> <span class="org-string">"$mount_path"</span> -name <span class="org-string">"*.rec"</span> -print -quit 2&gt;/dev/null) ]
        <span class="org-keyword">then</span>
            vdr-dbus-send /Skin skin.QueueMessage string:<span class="org-string">"$mount_path mounted (with recordings)"</span>
            svdrpsend updr
        <span class="org-keyword">else</span>
            vdr-dbus-send /Skin skin.QueueMessage string:<span class="org-string">"$mount_path' mounted"</span>
        <span class="org-keyword">fi</span>
        ;;
    <span class="org-string">'device_unmounted'</span>)
        <span class="org-variable-name">removed_symlinks</span>=($(<span class="org-sh-quoted-exec">find</span> <span class="org-string">"$videodir"</span> -xtype l -delete -print))
        logger -t <span class="org-string">"device umounted"</span> <span class="org-string">"remove unneeded symlinks: $(</span><span class="org-sh-quoted-exec">paste</span><span class="org-string"> -d " " &lt;&lt;&lt; "${removed_symlinks[@]}")"</span>
        vdr-dbus-send /Skin skin.QueueMessage string:<span class="org-string">"$device_node umounted"</span>
        svdrpsend updr
        ;;
    <span class="org-string">'device_removed'</span>)
        <span class="org-variable-name">removed_symlinks</span>=($(<span class="org-sh-quoted-exec">find</span> <span class="org-string">"$videodir"</span> -xtype l -delete -print))
        [ -z <span class="org-string">"$device_node"</span> ] &amp;&amp; <span class="org-keyword">exit</span>
        logger -t <span class="org-string">"device removed"</span> <span class="org-string">"remove unneeded symlinks: $(</span><span class="org-sh-quoted-exec">paste</span><span class="org-string"> -d " " &lt;&lt;&lt; "${removed_symlinks[@]}")"</span>
        vdr-dbus-send /Skin skin.QueueMessage string:<span class="org-string">"$device_node removed"</span>
        svdrpsend updr
        ;;
    <span class="org-string">'job_failed'</span>)
        <span class="org-keyword">if</span> [ -n <span class="org-string">"$mount_path"</span> ]
        <span class="org-keyword">then</span>
            logger -t <span class="org-string">"umount failed"</span> <span class="org-string">"could not unmount $mount_path"</span>
        <span class="org-keyword">else</span>
            logger -t <span class="org-string">"operation failed"</span> <span class="org-string">'could not mount(?) '"$device_node"</span>
        <span class="org-keyword">fi</span>
        ;;
<span class="org-keyword">esac</span>
</pre>
</div>
</div>
</li>
<li><a id="orga92db10"></a>udiskie snippet for commands.conf<br />
<div class="outline-text-5" id="text-6-14-2-3">
<div class="org-src-container">
<pre class="src src-shell">{{ ansible_managed | comment }}

{{ <span class="org-string">"Safely remove usb mass storage"</span> | translate }} : echo <span class="org-string">'svdrpsend mesg "$(</span><span class="org-sh-quoted-exec">udiskie-umount</span><span class="org-string"> -a 2&gt;&amp;1 | grep -o "Error unmounting.*")"'</span> | at now
</pre>
</div>
</div>
</li>
<li><a id="orga6633c2"></a>udiskie.service<br />
<div class="outline-text-5" id="text-6-14-2-4">
<div class="org-src-container">
<pre class="src src-shell">[Unit]
<span class="org-variable-name">Description</span>=dynamic mounts for the user session

[Service]
<span class="org-variable-name">ExecStart</span>=/usr/bin/udiskie

[Install]
<span class="org-variable-name">WantedBy</span>=default.target
</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div id="outline-container-yavdr-xorg" class="outline-3">
<h3 id="yavdr-xorg"><span class="section-number-3">6.15.</span> yavdr-xorg</h3>
<div class="outline-text-3" id="text-yavdr-xorg">
</div>
<div id="outline-container-yavdr-xorg-about" class="outline-4">
<h4 id="yavdr-xorg-about"><span class="section-number-4">6.15.1.</span> About the GUI session</h4>
<div class="outline-text-4" id="text-yavdr-xorg-about">
<p>
The X-Server is started by using the two systemd units <code>xlogin@.service</code> and <code>x@.service</code> provided by the package <b>xlogin</b>. The former is enabled (and started) for the vdr user - which results (using the default settings for the user <b>vdr</b> with the uid <b>666</b>) in the activation of <code>xlogin@vdr.service</code> when reaching the graphical.target. To simplify starting and stopping the X-server and the desktop session a <code>yavdr-xorg.service</code> is provided by the package <code>yavdr-xorg</code>, which depends on the two units mentioned before.
</p>

<p>
<code>x@vt7.service</code> is started automatically as a dependency of <code>xlogin@vdr.service</code> and starts the X-server.  <code>xlogin@vdr.service</code> also starts a systemd user session using <code>user@666.service</code>.
In order to use the keyboard layout configured during installation for the X-Server we are using a script <code>write-x11-keyboard-config,</code> which reads the keyboard configuration from <code>/etc/default/keyboard</code> when starting <code>x@.service</code> and writes the file <code>/etc/X11/xorg.conf.d/00-keyboard.conf</code> (because systemd for Ubuntu (and Debian) has been patched not to automatically create the configuration file <code>/etc/X11/xorg.conf.d/00-keyboard.conf</code> according to the <code>localectl</code> settings).
</p>

<p>
To prevent stopping the X-server when vdr is running, additional dependencies are set up - see the drop-in rules created in <code>/etc/systemd/system/vdr.service.d/</code>.
</p>

<p>
Basic Services like the session DBus, pulseaudio etc. are started for the <code>default.target</code> of the session.
The openbox autostart script is used to update the systemd session with the needed session variables.  It creates a file <code>~/.session-env</code> which is used as an environment file by <code>vdr.service</code> (so the vdr knows the <b>DISPLAY</b> and can access pulseaudio).
</p>

<p>
The autostart script then enables all services to be pulled in by yavdr-desktop.target.  As the last step <code>yavdr-desktop.target</code> is startet, which results in staring <code>yavdr-frontend.service</code> and additional Units for a second display (openbox and a browser for osd2eb, if available).
</p>

<p>
In order to achive a clean shutdown of the session, <code>x@t7.service</code> is set as a dependency of the systemd unit instance <code>user@666.service</code> and all processes within the session must be shutdown properly when stopping <code>xlogin@vdr.service</code>.  If systemd units are used within the user session, they must stop their process(es) successfully (you should set them up to accept expected exit codes appropriately).  The window manager <i>openbox</i> is started using the <code>~/.xinitrc</code> and stopped using the systemd unit <code>exit-wm.service</code> (which runs on stopping the jobs pulled in by the <code>default.target</code> of the session).
</p>
</div>
</div>
<div id="outline-container-yavdr-xorg-meta" class="outline-4">
<h4 id="yavdr-xorg-meta"><span class="section-number-4">6.15.2.</span> dependencies</h4>
<div class="outline-text-4" id="text-yavdr-xorg-meta">
<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 2: </span>roles/yavdr-xorg/meta/main.yml</label><pre class="src src-yaml"><span class="org-comment">---</span>
<span class="org-variable-name">dependencies</span>:
    - <span class="org-ansible-section">role</span>: collect-facts
</pre>
</div>
</div>
</div>


<div id="outline-container-yavdr-xorg-defaults" class="outline-4">
<h4 id="yavdr-xorg-defaults"><span class="section-number-4">6.15.3.</span> default variables</h4>
<div class="outline-text-4" id="text-yavdr-xorg-defaults">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-variable-name">preferred_outputs</span>:
  - HDMI
  - DP
  - DVI
  - VGA
  - TV
<span class="org-variable-name">preferred_resolutions</span>:
  - 7680x4320
  - 3840x2160
  - 1920x1080
  - 1280x720
  - 720x576
<span class="org-variable-name">preferred_refreshrates</span>:
  - 50
  - 60

<span class="org-variable-name">intel_boot_options</span>: <span class="org-string">""</span>
<span class="org-variable-name">intel_set_boot_edid</span>: <span class="org-constant">false</span>
<span class="org-variable-name">nvidia_force_dpi</span>: 0

<span class="org-variable-name">yavdr_frontend</span>:
    <span class="org-variable-name">attach_on_startup</span>: auto  <span class="org-comment-delimiter"># </span><span class="org-comment">choose one of auto, always or never</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-yavdr-xorg-tasks" class="outline-4">
<h4 id="yavdr-xorg-tasks"><span class="section-number-4">6.15.4.</span> tasks</h4>
<div class="outline-text-4" id="text-yavdr-xorg-tasks">
</div>
<ol class="org-ol">
<li><a id="orga289815"></a>main.yml<br />
<div class="outline-text-5" id="text-6-15-4-1">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment">---</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">file: roles/yavdr-xorg/tasks/main.yml</span>
- <span class="org-ansible-section">import_tasks</span>: setup-xorg.yml
  <span class="org-builtin">tags</span>: [install,update]
- <span class="org-ansible-section">import_tasks</span>: detect-xorg.yml
  <span class="org-builtin">tags</span>: [xorg.detect,install]
</pre>
</div>
</div>
</li>
<li><a id="orgbc01314"></a>setup-xorg.yml<br />
<div class="outline-text-5" id="text-6-15-4-2">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment">---</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">file: roles/yavdr-xorg/tasks/setup-xorg.yml</span>
- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> create directories for systemd drop-in files</span>
  <span class="org-keyword">file</span>:
    <span class="org-variable-name">dest</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> item </span><span class="org-builtin">}}</span><span class="org-string">'</span>
    <span class="org-variable-name">state</span>: directory
  <span class="org-variable-name">loop</span>:
    - <span class="org-string">"/etc/systemd/system/x@.service.d/"</span>
    - <span class="org-string">"/etc/systemd/system/vdr.service.d/"</span>
    - <span class="org-string">"/etc/systemd/system/user@</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.uid </span><span class="org-builtin">}}</span><span class="org-string">.service.d/"</span>
    - <span class="org-string">"/etc/X11/xorg.conf.d/"</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> systemd-drop-in | add dependency to X-server for vdr.service</span>
  <span class="org-keyword">template</span>:
    <span class="org-variable-name">src</span>: templates/vdr-xorg.conf
    <span class="org-variable-name">dest</span>: /etc/systemd/system/vdr.service.d/vdr-xorg.conf
  <span class="org-builtin">notify</span>: [<span class="org-string">"Reload Units"</span>]

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> systemd-drop-in | start x@.service after plymouth.service</span>
  <span class="org-keyword">template</span>:
    <span class="org-variable-name">src</span>: templates/x@service.d/plymouth.conf.j2
    <span class="org-variable-name">dest</span>: /etc/systemd/system/x@.service.d/plymouth.conf
  <span class="org-builtin">notify</span>: [<span class="org-string">"Reload Units"</span>]

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> systemd-drop-in | start x@.service before xlogin@.service</span>
  <span class="org-keyword">template</span>:
    <span class="org-variable-name">src</span>: templates/x@service.d/xlogin.conf.j2
    <span class="org-variable-name">dest</span>: /etc/systemd/system/x@.service.d/xlogin.conf
  <span class="org-builtin">notify</span>: [<span class="org-string">"Reload Units"</span>]

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> systemd-drop-in | user@{{ vdr.uid }}.service depends on x@vt7.service</span>
  <span class="org-keyword">template</span>:
    <span class="org-variable-name">src</span>: templates/user@666.service.d/x-dependency.conf.j2
    <span class="org-variable-name">dest</span>: <span class="org-string">'/etc/systemd/system/user@</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.uid </span><span class="org-builtin">}}</span><span class="org-string">.service.d/x-dependency.conf'</span>
  <span class="org-builtin">notify</span>: [<span class="org-string">"Reload Units"</span>]

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> vdr-config | create softhddevice.conf if it doesn't exist yet</span>
  <span class="org-keyword">lineinfile</span>:
    <span class="org-variable-name">path</span>: /etc/vdr/conf.avail/softhddevice.conf
    <span class="org-variable-name">create</span>: <span class="org-constant">yes</span>
    <span class="org-variable-name">state</span>: present
    <span class="org-variable-name">line</span>: <span class="org-string">'[softhddevice]'</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> vdr-config | start softhddevice detached and set audio to pulseaudio</span>
  <span class="org-keyword">lineinfile</span>:
    <span class="org-variable-name">path</span>: /etc/vdr/conf.avail/softhddevice.conf
    <span class="org-variable-name">line</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> item </span><span class="org-builtin">}}</span><span class="org-string">'</span>
  <span class="org-variable-name">loop</span>:
      - <span class="org-string">'-D'</span>
      - <span class="org-string">'-w alsa-driver-broken'</span>
      - <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> "-v va-api" if (intel_detected and not nvidia_detected) else "" </span><span class="org-builtin">}}</span><span class="org-string">'</span>
      <span class="org-comment-delimiter"># </span><span class="org-comment">- '-a pulse' # do we need this with our existing asound.conf?</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> add a login shell for the user vdr</span>
  <span class="org-keyword">user</span>:
      <span class="org-variable-name">name</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.user </span><span class="org-builtin">}}</span><span class="org-string">'</span>
      <span class="org-keyword">shell</span>: <span class="org-string">'/bin/bash'</span>
      <span class="org-variable-name">state</span>: present
      <span class="org-variable-name">uid</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.uid </span><span class="org-builtin">}}</span><span class="org-string">'</span>
      <span class="org-variable-name">groups</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.group </span><span class="org-builtin">}}</span><span class="org-string">'</span>
      <span class="org-variable-name">append</span>: <span class="org-constant">yes</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> apt | install packages for xorg</span>
  <span class="org-keyword">apt</span>:
    <span class="org-variable-name">name</span>:
      - yavdr-xorg
      - edid-decode
      - python3-dbus2vdr
      - python3-yavdrfrontend
      - tmux
      - vdr-plugin-desktop
      - feh
    <span class="org-variable-name">state</span>: present

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> set the vdr instance id for yavdr-frontend</span>
  <span class="org-variable-name">yaml_edit</span>:
    <span class="org-variable-name">path</span>: /etc/yavdr-frontend/config.yml
    <span class="org-variable-name">key</span>: vdr.id
    <span class="org-variable-name">int_value</span>: <span class="org-string">"</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.instance_id | default(0) </span><span class="org-builtin">}}</span><span class="org-string">"</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> yavdr-frontend | set attach on startup to "{{ yavdr_frontend.attach_on_startup }}"</span>
  <span class="org-variable-name">yaml_edit</span>:
    <span class="org-variable-name">path</span>: /etc/yavdr-frontend/config.yml
    <span class="org-variable-name">key</span>: vdr.attach_on_startup
    <span class="org-variable-name">str_value</span>: <span class="org-string">"</span><span class="org-builtin">{{</span><span class="org-function-name"> yavdr_frontend.attach_on_startup </span><span class="org-builtin">}}</span><span class="org-string">"</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> apt | install packages for Intel IGP</span>
  <span class="org-keyword">apt</span>:
    <span class="org-variable-name">name</span>:
      - i965-va-driver-shaders
      - intel-media-va-driver-non-free
    <span class="org-variable-name">state</span>: present
  <span class="org-builtin">when</span>: intel_detected | bool and not nvidia_detected | bool

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> add ppa:oibaf/graphics-drivers for up to date mesa drivers</span>
  <span class="org-keyword">apt_repository</span>:
    <span class="org-variable-name">repo</span>: ppa:oibaf/graphics-drivers
  <span class="org-builtin">when</span>: amd_detected | bool and not nvidia_detected | bool
  <span class="org-builtin">register</span>: oibaf_ppa

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> update package lists and all packages after adding ppa:oibaf/graphics-drivers</span>
  <span class="org-keyword">apt</span>:
    <span class="org-variable-name">upgrade</span>: dist
    <span class="org-variable-name">update_cache</span>: <span class="org-constant">yes</span>
  <span class="org-builtin">when</span>: oibaf_ppa.changed

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> apt | install packages for AMD GPUs</span>
  <span class="org-keyword">apt</span>:
    <span class="org-variable-name">name</span>:
      - mesa-vdpau-drivers
      - mesa-va-drivers
    <span class="org-variable-name">state</span>: present
  <span class="org-builtin">when</span>: amd_detected | bool and not nvidia_detected | bool

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> Install yaVDR Media (e.g. Backgrounds)</span>
  <span class="org-keyword">apt</span>:
    <span class="org-variable-name">name</span>: yavdr-media

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> command | write keyboard configuration to /etc/X11/xorg.conf.d/00-keyboard.conf</span>
  <span class="org-keyword">command</span>: write-x11-keyboard-config
  <span class="org-builtin">args</span>:
    <span class="org-variable-name">creates</span>: /etc/X11/xorg.conf.d/00-keyboard.conf
  <span class="org-comment-delimiter"># </span><span class="org-comment">NOTE: write-x11-keyboard-config is in the xlogin package</span>
  <span class="org-comment-delimiter"># </span><span class="org-comment">Ubuntu's systemd is patched, so it does not create the file automatically</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> add snippet to ignore eventlircd devices in xorg</span>
  <span class="org-keyword">template</span>:
    <span class="org-variable-name">src</span>: templates/xorg-ignore-eventlircd.conf.j2
    <span class="org-variable-name">dest</span>: /etc/X11/xorg.conf.d/40-ignore-eventlircd.conf

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> apt | install desktop programs</span>
  <span class="org-keyword">apt</span>:
    <span class="org-variable-name">name</span>:
      - xterm
      - firefox
      - kiosk-browser
    <span class="org-variable-name">state</span>: present
</pre>
</div>
</div>
</li>
<li><a id="org5bf9364"></a>detect-xorg.yml<br />
<div class="outline-text-5" id="text-6-15-4-3">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment">---</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">file: roles/yavdr-xorg/tasks/detect-xorg.yml</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> "expand template for x-verbose@.service"</span>
  <span class="org-keyword">template</span>:
    <span class="org-variable-name">src</span>: <span class="org-string">"templates/systemd/system/x-verbose@.service.j2"</span>
    <span class="org-variable-name">dest</span>: <span class="org-string">"/etc/systemd/system/x-verbose@.service"</span>
  <span class="org-builtin">notify</span>: [<span class="org-string">"Reload Units"</span>]

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> "expand template for xorg-verbose.conf"</span>
  <span class="org-keyword">template</span>:
    <span class="org-variable-name">src</span>: <span class="org-string">"templates/xorg-verbose.conf.j2"</span>
    <span class="org-variable-name">dest</span>: <span class="org-string">"/etc/X11/xorg-verbose.conf"</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> "remove intel snippet"</span>
  <span class="org-keyword">file</span>:
    <span class="org-variable-name">path</span>: /etc/X11/xorg.conf.d/20-intel.conf
    <span class="org-variable-name">state</span>: absent

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> remove amd snippet</span>
  <span class="org-keyword">file</span>:
    <span class="org-variable-name">path</span>: /etc/X11/xorg.conf.d/20-amd.conf
    <span class="org-variable-name">state</span>: absent

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> Stop VDR</span>
  <span class="org-keyword">systemd</span>:
    <span class="org-variable-name">name</span>: vdr.service
    <span class="org-variable-name">state</span>: stopped
    <span class="org-variable-name">enabled</span>: <span class="org-constant">yes</span>
  <span class="org-builtin">notify</span>: [<span class="org-string">'Start VDR'</span>]

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> Stop yavdr-xorg</span>
  <span class="org-keyword">systemd</span>:
    <span class="org-variable-name">name</span>: <span class="org-string">'yavdr-xorg'</span>
    <span class="org-variable-name">state</span>: stopped
    <span class="org-variable-name">enabled</span>: <span class="org-constant">yes</span>
  <span class="org-builtin">notify</span>: [<span class="org-string">'Start yavdr-xorg'</span>]

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> Stop xlogin</span>
  <span class="org-keyword">systemd</span>:
    <span class="org-variable-name">name</span>: <span class="org-string">'xlogin@</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.user </span><span class="org-builtin">}}</span><span class="org-string">.service'</span>
    <span class="org-variable-name">state</span>: stopped
  <span class="org-builtin">notify</span>: [<span class="org-string">'Start xlogin'</span>]

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> Stop x</span>
  <span class="org-keyword">systemd</span>:
    <span class="org-variable-name">name</span>: x@vt7.service
    <span class="org-variable-name">state</span>: stopped

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> check /etc/yavdr/autoinstalled if a nvidia driver has been installed</span>
  <span class="org-keyword">lineinfile</span>:
    <span class="org-variable-name">name</span>: /etc/yavdr/autoinstalled
    <span class="org-variable-name">regexp</span>: <span class="org-string">'.*nvidia.*'</span>
    <span class="org-variable-name">state</span>: absent
  <span class="org-variable-name">check_mode</span>: <span class="org-constant">yes</span>
  <span class="org-builtin">register</span>: nvidia_driver_detected

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> set_fact | nvidia_driver_installed</span>
  <span class="org-keyword">set_fact</span>:
    <span class="org-variable-name">nvidia_driver_installed</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> nvidia_driver_detected.changed | bool </span><span class="org-builtin">}}</span><span class="org-string">'</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> unload nouveau driver, replace with nvidia</span>
  <span class="org-variable-name">block</span>:
    - <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> unbind vconsole</span>
      <span class="org-keyword">shell</span>: echo 0 &gt; /sys/class/vtconsole/vtcon1/bind

    - <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> "wait a little, so noveau isn't used anymore"</span>
      <span class="org-keyword">wait_for</span>:
        <span class="org-variable-name">timeout</span>: 1

    <span class="org-comment-delimiter"># </span><span class="org-comment">unloading the drivers using the modprobe module does not work for some strange reason...</span>
    - <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> unload kms drivers</span>
      <span class="org-variable-name">rmmod</span>:
        <span class="org-variable-name">name</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> item </span><span class="org-builtin">}}</span><span class="org-string">'</span>
      <span class="org-variable-name">loop</span>:
        - nouveau
        - ttm
        - drm_kms_helper
        - drm

    - <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> load nvidia driver</span>
      <span class="org-keyword">modprobe</span>:
        <span class="org-variable-name">name</span>: <span class="org-string">"nvidia"</span>
        <span class="org-variable-name">state</span>: present

    - <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> "wait a little before starting nvidia-persistenced"</span>
      <span class="org-keyword">wait_for</span>:
        <span class="org-variable-name">timeout</span>: 1

    - <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> start nvidia-persistenced</span>
      <span class="org-keyword">systemd</span>:
        <span class="org-variable-name">name</span>: <span class="org-string">"nvidia-persistenced"</span>
        <span class="org-variable-name">state</span>: started
        <span class="org-variable-name">enabled</span>: <span class="org-constant">true</span>
        <span class="org-variable-name">masked</span>: <span class="org-constant">false</span>
        <span class="org-variable-name">daemon_reload</span>: <span class="org-constant">true</span>
      <span class="org-variable-name">ignore_errors</span>: <span class="org-constant">yes</span>
  <span class="org-builtin">when</span>:
    - nvidia_detected | bool
    - nvidia_driver_installed | bool
    - <span class="org-string">'"nouveau" in modules'</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> "start x-verbose@.service"</span>
  <span class="org-keyword">systemd</span>:
    <span class="org-variable-name">name</span>: <span class="org-string">"x-verbose@vt7.service"</span>
    <span class="org-variable-name">state</span>: started
    <span class="org-variable-name">enabled</span>: <span class="org-constant">false</span>
    <span class="org-variable-name">masked</span>: <span class="org-constant">false</span>
    <span class="org-variable-name">daemon_reload</span>: <span class="org-constant">true</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> "wait a little, so X has some time to start up"</span>
  <span class="org-keyword">wait_for</span>:
    <span class="org-variable-name">timeout</span>: 3

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> "detect xorg configuration"</span>
  <span class="org-variable-name">xrandr_facts</span>:
    <span class="org-variable-name">preferred_refreshrates</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> preferred_refreshrates </span><span class="org-builtin">}}</span><span class="org-string">'</span>
    <span class="org-variable-name">preferred_resolutions</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> preferred_resolutions </span><span class="org-builtin">}}</span><span class="org-string">'</span>
    <span class="org-variable-name">preferred_outputs</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> preferred_outputs </span><span class="org-builtin">}}</span><span class="org-string">'</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> show parsed xrandr data</span>
  <span class="org-keyword">debug</span>:
    <span class="org-variable-name">var</span>: xrandr

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> show primary display configuration</span>
  <span class="org-keyword">debug</span>:
    <span class="org-variable-name">var</span>: xorg.primary

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> show secondary display configuration</span>
  <span class="org-keyword">debug</span>:
    <span class="org-variable-name">var</span>: xorg.secondary
  <span class="org-builtin">when</span>: xorg.secondary is defined

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> show drm data (emtpy for nvidia)</span>
  <span class="org-keyword">debug</span>:
    <span class="org-variable-name">var</span>: drm
  <span class="org-builtin">when</span>: drm is defined

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> "stop x-verbose@vt7.service"</span>
  <span class="org-keyword">systemd</span>:
    <span class="org-variable-name">name</span>: <span class="org-string">"x-verbose@vt7.service"</span>
    <span class="org-variable-name">state</span>: stopped
    <span class="org-variable-name">enabled</span>: <span class="org-constant">false</span>
    <span class="org-variable-name">masked</span>: <span class="org-constant">true</span>

<span class="org-comment-delimiter">#</span><span class="org-comment">- name: "wait a little bit, so X has some time to shut down (needed?)"</span>
<span class="org-comment-delimiter">#  </span><span class="org-comment">wait_for:</span>
<span class="org-comment-delimiter">#    </span><span class="org-comment">timeout: 3</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> save results</span>
  <span class="org-variable-name">block</span>:
    - <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> ensure facts.d directory exists</span>
      <span class="org-keyword">file</span>:
        <span class="org-variable-name">state</span>: directory
        <span class="org-variable-name">path</span>: /etc/ansible/facts.d

    - <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> write xorg variable as local fact</span>
      <span class="org-keyword">copy</span>:
        <span class="org-variable-name">content</span>: <span class="org-string">'{{ {"xorg": xorg} | to_nice_json }}'</span>
        <span class="org-variable-name">dest</span>: /etc/ansible/facts.d/xorg.fact

    - <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> write xrandr variable as local fact</span>
      <span class="org-keyword">copy</span>:
        <span class="org-variable-name">content</span>: <span class="org-string">'{{ {"xrandr": xrandr} | to_nice_json }}'</span>
        <span class="org-variable-name">dest</span>: /etc/ansible/facts.d/xrandr.fact

    - <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> write drm variable as local fact</span>
      <span class="org-keyword">copy</span>:
        <span class="org-variable-name">content</span>: <span class="org-string">'{{ {"drm": drm} | to_nice_json }}'</span>
        <span class="org-variable-name">dest</span>: /etc/ansible/facts.d/drm.fact
  <span class="org-builtin">when</span>:
    - xrandr is defined
    - xorg is defined
    - drm is defined

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> update xorg, xrandr and drm variables with values from local facts if needed</span>
  <span class="org-keyword">set_fact</span>:
    <span class="org-variable-name">xorg</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> ansible_local.xorg.xorg </span><span class="org-builtin">}}</span><span class="org-string">'</span>
    <span class="org-variable-name">xrandr</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> ansible_local.xrandr.xrandr </span><span class="org-builtin">}}</span><span class="org-string">'</span>
    <span class="org-variable-name">drm</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> ansible_local.drm.drm </span><span class="org-builtin">}}</span><span class="org-string">'</span>
  <span class="org-builtin">when</span>:
    - xrandr is undefined
    - xorg is undefined
    - drm is undefined

<span class="org-comment-delimiter"># </span><span class="org-comment">TODO: expand template for xorg.conf (or snippets)</span>
<span class="org-comment-delimiter">#       </span><span class="org-comment">with respect for the available graphics card driver</span>
<span class="org-comment-delimiter">#       </span><span class="org-comment">nvidia, noveau, intel, radeon</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> nvidia related config</span>
  <span class="org-variable-name">block</span>:
  - <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> create xorg.conf (for nvidia driver)</span>
    <span class="org-keyword">template</span>:
        <span class="org-variable-name">src</span>: templates/xorg.conf.j2
        <span class="org-variable-name">dest</span>: /etc/X11/xorg.conf
        <span class="org-variable-name">backup</span>: <span class="org-constant">yes</span>
  <span class="org-builtin">when</span>:
    - nvidia_detected | bool

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> intel xorg config snippet</span>
  <span class="org-keyword">template</span>:
    <span class="org-variable-name">src</span>: templates/20-intel.conf.j2
    <span class="org-variable-name">dest</span>: /etc/X11/xorg.conf.d/20-intel.conf
  <span class="org-builtin">when</span>:
    - intel_detected | bool and not nvidia_detected | bool

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> amd xorg config snippet</span>
  <span class="org-keyword">template</span>:
    <span class="org-variable-name">src</span>: templates/20-amd.conf.j2
    <span class="org-variable-name">dest</span>: /etc/X11/xorg.conf.d/20-amd.conf
  <span class="org-builtin">when</span>:
    - amd_detected | bool and not nvidia_detected | bool

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> server flags config snippet to disable screen blanking</span>
  <span class="org-keyword">template</span>:
    <span class="org-variable-name">src</span>: templates/10-serverflags.conf.j2
    <span class="org-variable-name">dest</span>: /etc/X11/xorg.conf.d/10-serverflags.conf

</pre>
</div>
</div>
</li>
<li><a id="org17334b0"></a>intel.yml<br />
<div class="outline-text-5" id="text-6-15-4-4">
<p>
KMS drivers (like for intel (i915) and amd (radeon)) require additional configuration besides a customized <code>xorg.conf</code> - for a &ldquo;static&rdquo; output configuration (which works if the TV or AV receiver is not turned on) we need to force loading the display(s) EDID early during the boot process.
</p>

<p>
This task therefore performs the following actions after the xrandr detection has been executed:
</p>
<ul class="org-ul">
<li>create an initramfs-hook to copy the EDID(s) into the initramfs</li>
<li>get the connector names and match them to the ones determined by xrandr (this is done by xrandr_facts.py)</li>
<li>add kernel boot arguments to set EDID and mode (refreshrate and resolution) for all outputs</li>
<li>recreate and update initramfs and grub config</li>
</ul>

<p>
Please note that rescanning the connected displays works only after removing the forced loading of EDID(s) during boot (call <code>clean-edids</code>) and a reboot.
</p>

<p>
TODO: create <code>clean-edids</code> script/role/Playbook to undo kernel boot options for edid loading
</p>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 3: </span>roles/yavdr-xorg/tasks/intel.yml</label><pre class="src src-yaml">- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> "create initramfs hook to copy EDID files"</span>
  <span class="org-keyword">template</span>:
    <span class="org-variable-name">src</span>: templates/include-edid-data.sh.j2
    <span class="org-variable-name">dest</span>: <span class="org-string">'/etc/initramfs-tools/hooks/include-edid-data'</span>
    <span class="org-variable-name">mode</span>: 0755
    <span class="org-variable-name">force</span>: <span class="org-constant">yes</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> "create /lib/firmware/edid"</span>
  <span class="org-keyword">file</span>:
    <span class="org-variable-name">state</span>: directory
    <span class="org-variable-name">dest</span>: /lib/firmware/edid

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> "set intel_boot_options variable"</span>
  <span class="org-keyword">set_fact</span>:
    <span class="org-variable-name">intel_boot_options</span>: <span class="org-string">"video=</span><span class="org-builtin">{{</span><span class="org-function-name"> drm.primary.drm_connector </span><span class="org-builtin">}}</span><span class="org-string">:D drm.edid_firmware=</span><span class="org-builtin">{{</span><span class="org-function-name"> drm.primary.drm_connector </span><span class="org-builtin">}}</span><span class="org-string">:edid/</span><span class="org-builtin">{{</span><span class="org-function-name"> drm.primary.edid </span><span class="org-builtin">}}</span><span class="org-string">"</span> <span class="org-comment-delimiter"># </span><span class="org-comment">{% for ignored_c in drm.ignored_outputs %}video=</span><span class="org-builtin">{{</span><span class="org-function-name"> ignored_c </span><span class="org-builtin">}}</span><span class="org-comment">:d{% endfor %}"</span>
  <span class="org-builtin">when</span>: intel_set_boot_edid | bool
  <span class="org-builtin">notify</span>: [<span class="org-string">'Update Initramfs'</span>, <span class="org-string">'Update GRUB'</span>]

</pre>
</div>
</div>
</li>
</ol>
</div>
<div id="outline-container-yavdr-xorg-templates" class="outline-4">
<h4 id="yavdr-xorg-templates"><span class="section-number-4">6.15.5.</span> templates</h4>
<div class="outline-text-4" id="text-yavdr-xorg-templates">
</div>
<ol class="org-ol">
<li><a id="xorg-templates"></a>xorg<br />
<div class="outline-text-5" id="text-xorg-templates">
</div>
<ol class="org-ol">
<li><a id="x-verbose-service"></a>x-verbose@.service<br />
<div class="outline-text-6" id="text-x-verbose-service">
<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 4: </span>roles/yavdr-xorg/templates/systemd/system/x-verbose@.service.j2</label><pre class="src src-jinja2"><span class="org-type">{{</span> <span class="org-variable-name">ansible_managed </span><span class="org-keyword">| </span><span class="org-warning">comment</span> <span class="org-type">}}</span>
[Unit]
Description=X <span class="org-keyword">with</span> verbose logging on <span class="org-variable-name">%I</span>
Wants=graphical.target
Before=graphical.target

[Service]
Type=forking
ExecStartPre=/usr/bin/bash -c "printf <span class="org-string">'\0'</span> &gt; /sys/module/drm/parameters/edid_firmware"
ExecStartPre-=/usr/bin/bash -c 'shopt -s nullglob; <span class="org-keyword">for</span> e <span class="org-builtin">in</span> /sys/kernel/<span class="org-builtin">debug</span>/dri/0/*/edid_override; <span class="org-builtin">do</span> echo -n reset &gt; <span class="org-string">"$$e"</span>; done<span class="org-string">'</span>
<span class="org-string">ExecStartPre=/usr/bin/bash -c '</span>shopt -s nullglob; <span class="org-keyword">for</span> e <span class="org-builtin">in</span> /sys/class/drm/card0*/status; <span class="org-builtin">do</span> echo -n detect &gt; <span class="org-string">"$$e"</span>; done'
ExecStart=/usr/bin/x-daemon -logverbose 6 -noreset <span class="org-variable-name">%I</span> -config /etc/X11/xorg-verbose.conf
</pre>
</div>
</div>
</li>
<li><a id="xorg-drop-in-snippets"></a>Drop-in snippet for x@.service<br />
<div class="outline-text-6" id="text-xorg-drop-in-snippets">
<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 5: </span>roles/yavdr-xorg/templates/x@service.d/plymouth.conf.j2</label><pre class="src src-jinja2"><span class="org-type">{{</span> <span class="org-variable-name">ansible_managed </span><span class="org-keyword">| </span><span class="org-warning">comment</span> <span class="org-type">}}</span>
[Unit]
After=plymouth.service
</pre>
</div>
<div class="org-src-container">
<pre class="src src-conf">[<span class="org-type">Unit</span>]
<span class="org-variable-name">Before</span>=xlogin@{{ vdr.user }}.service
</pre>
</div>

<div class="org-src-container">
<pre class="src src-jinja2"><span class="org-type">{{</span> <span class="org-variable-name">ansible_managed </span><span class="org-keyword">| </span><span class="org-warning">comment</span> <span class="org-type">}}</span>
[Unit]
Wants=x@vt7.service
After=x@vt7.service

[Service]
TimeoutStopSec=20
KillMode=mixed
</pre>
</div>
</div>
</li>

<li><a id="org0e878c7"></a>Drop-in snippet for vdr.service<br />
<div class="outline-text-6" id="text-6-15-5-1-3">
<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 6: </span>roles/yavdr-xorg/templates/vdr-xorg.conf</label><pre class="src src-jinja2"><span class="org-type">{{</span> <span class="org-variable-name">ansible_managed </span><span class="org-keyword">| </span><span class="org-warning">comment</span> <span class="org-type">}}</span>
[Unit]
After=x@vt7.service xlogin@<span class="org-type">{{</span> <span class="org-variable-name">vdr.user</span> <span class="org-type">}}</span>.service yavdr-xorg.service
Wants=x@vt7.service xlogin@<span class="org-type">{{</span> <span class="org-variable-name">vdr.user</span> <span class="org-type">}}</span>.service yavdr-xorg.service
#BindsTo=x@vt7.service
</pre>
</div>
</div>
</li>
<li><a id="org752d492"></a>xorg.conf snippets<br />
<div class="outline-text-6" id="text-6-15-5-1-4">
<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 7: </span>roles/yavdr-xorg/templates/vdr-ignore-eventlircd.conf.j2</label><pre class="src src-jinja2"><span class="org-type">{{</span> <span class="org-variable-name">ansible_managed </span><span class="org-keyword">| </span><span class="org-warning">comment</span> <span class="org-type">}}</span>

Section <span class="org-string">"InputClass"</span>
    Identifier <span class="org-string">"exclude eventlircd devices"</span>
    MatchTag   <span class="org-string">"eventlircd"</span>
    Option     <span class="org-string">"Ignore"</span>    <span class="org-string">"True"</span>
EndSection
</pre>
</div>
</div>
</li>

<li><a id="org2589ddc"></a>intel graphics xorg.conf snippet<br />
<div class="outline-text-6" id="text-6-15-5-1-5">
<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 8: </span>roles/yavdr-xorg/templates/20-intel.conf.j2</label><pre class="src src-jinja2"><span class="org-type">{{</span> <span class="org-variable-name">ansible_managed </span><span class="org-keyword">| </span><span class="org-warning">comment</span> <span class="org-type">}}</span>
<span class="org-function-name">{%</span> <span class="org-builtin">set</span> primary_output = xorg.primary.connector<span class="org-keyword">|</span><span class="org-function-name">replace</span>(<span class="org-string">"-"</span>, <span class="org-string">""</span>) <span class="org-function-name">%}</span>
<span class="org-function-name">{%</span> <span class="org-keyword">if</span> xorg.secondary <span class="org-builtin">is</span> defined <span class="org-function-name">%}</span>
  <span class="org-function-name">{%</span> <span class="org-builtin">set</span> secondary_output = xorg.secondary.connector<span class="org-keyword">|</span><span class="org-function-name">replace</span>(<span class="org-string">"-"</span>, <span class="org-string">""</span>) <span class="org-function-name">%}</span>
<span class="org-function-name">{%</span> <span class="org-keyword">endif</span> <span class="org-function-name">%}</span>

Section <span class="org-string">"Device"</span>
  Identifier  <span class="org-string">"Device0"</span>
  Driver      <span class="org-string">"intel"</span>
  Option      <span class="org-string">"TearFree"</span> <span class="org-string">"true"</span>
<span class="org-function-name">{%</span><span class="org-variable-name">if</span> selected_frontend <span class="org-builtin">is</span> defined <span class="org-builtin">and</span> selected_frontend  == <span class="org-string">"softhdvaapi"</span> <span class="org-function-name">%}</span>
  Option      <span class="org-string">"DRI"</span> <span class="org-string">"3"</span>
<span class="org-function-name">{%</span> <span class="org-keyword">endif</span> <span class="org-function-name">%}</span>
<span class="org-function-name">{%</span> <span class="org-keyword">if</span> xorg.secondary <span class="org-builtin">is</span> defined <span class="org-function-name">%}</span>
  Option      <span class="org-string">"ZaphodHeads"</span> <span class="org-string">"</span><span class="org-type">{{</span><span class="org-string"> </span><span class="org-variable-name">primary_output</span><span class="org-string"> </span><span class="org-type">}}</span><span class="org-string">"</span>
  Screen      0  
<span class="org-function-name">{%</span> <span class="org-keyword">endif</span> <span class="org-function-name">%}</span>
EndSection

<span class="org-function-name">{%</span> <span class="org-keyword">if</span> xorg.secondary <span class="org-builtin">is</span> defined <span class="org-function-name">%}</span>
Section <span class="org-string">"Device"</span>
  Identifier  <span class="org-string">"Device1"</span>
  Driver      <span class="org-string">"intel"</span>
  Option      <span class="org-string">"TearFree"</span> <span class="org-string">"true"</span>
<span class="org-function-name">{%</span><span class="org-variable-name">if</span> selected_frontend <span class="org-builtin">is</span> defined <span class="org-builtin">and</span> selected_frontend  == <span class="org-string">"softhdvaapi"</span> <span class="org-function-name">%}</span>
  Option      <span class="org-string">"DRI"</span> <span class="org-string">"3"</span>
<span class="org-function-name">{%</span> <span class="org-keyword">endif</span> <span class="org-function-name">%}</span>
  Option      <span class="org-string">"ZaphodHeads"</span> <span class="org-string">"</span><span class="org-type">{{</span><span class="org-string"> </span><span class="org-variable-name">secondary_output</span><span class="org-string"> </span><span class="org-type">}}</span><span class="org-string">"</span>
  Screen      1  
EndSection

Section <span class="org-string">"ServerLayout"</span>
    Identifier     <span class="org-string">"Layout0"</span>
    Screen      0  <span class="org-string">"Screen0"</span> 0 0
    Screen      1  <span class="org-string">"Screen1"</span> RightOf <span class="org-string">"Screen0"</span>
EndSection
<span class="org-function-name">{%</span> <span class="org-keyword">endif</span> <span class="org-function-name">%}</span>

Section <span class="org-string">"Screen"</span>
  Identifier  <span class="org-string">"Screen0"</span>
  Device      <span class="org-string">"Device0"</span>
  Monitor     <span class="org-string">"</span><span class="org-type">{{</span><span class="org-string"> </span><span class="org-variable-name">primary_output</span><span class="org-string"> </span><span class="org-type">}}</span><span class="org-string">"</span>
  DefaultDepth  24
  SubSection <span class="org-string">"Display"</span>
    Depth       24
<span class="org-function-name">{%</span> <span class="org-keyword">if</span> xorg.primary.mode <span class="org-function-name">%}</span>
    Modes     <span class="org-string">"</span><span class="org-type">{{</span><span class="org-string"> </span><span class="org-variable-name">xorg.primary.mode</span><span class="org-string"> </span><span class="org-type">}}</span><span class="org-string">"</span>
<span class="org-function-name">{%</span> <span class="org-keyword">else</span> <span class="org-function-name">%}</span>
    Modes     <span class="org-string">"1920x1080_50"</span> <span class="org-string">"1920x1080_60"</span> <span class="org-string">"1920x1080_24"</span>
<span class="org-function-name">{%</span> <span class="org-keyword">endif</span> <span class="org-function-name">%}</span>
  EndSubSection
EndSection

<span class="org-function-name">{%</span> <span class="org-keyword">if</span> xorg.secondary <span class="org-builtin">is</span> defined <span class="org-function-name">%}</span>
Section <span class="org-string">"Screen"</span>
  Identifier  <span class="org-string">"Screen1"</span>
  Device      <span class="org-string">"Device1"</span>
  Monitor     <span class="org-string">"</span><span class="org-type">{{</span><span class="org-string"> </span><span class="org-variable-name">secondary_output</span><span class="org-string"> </span><span class="org-type">}}</span><span class="org-string">"</span>
  DefaultDepth  24
  SubSection <span class="org-string">"Display"</span>
    Depth       24
<span class="org-function-name">{%</span> <span class="org-keyword">if</span> xorg.secondary.mode <span class="org-function-name">%}</span>
    Modes     <span class="org-string">"</span><span class="org-type">{{</span><span class="org-string"> </span><span class="org-variable-name">xorg.secondary.mode</span><span class="org-string"> </span><span class="org-type">}}</span><span class="org-string">"</span>
<span class="org-function-name">{%</span> <span class="org-keyword">else</span> <span class="org-function-name">%}</span>
    Modes     <span class="org-string">"1920x1080_50"</span> <span class="org-string">"1920x1080_60"</span> <span class="org-string">"1920x1080_24"</span>
<span class="org-function-name">{%</span> <span class="org-keyword">endif</span> <span class="org-function-name">%}</span>
  EndSubSection
EndSection

<span class="org-function-name">{%</span> <span class="org-keyword">endif</span> <span class="org-function-name">%}</span>
Section <span class="org-string">"Monitor"</span>
  Identifier  <span class="org-string">"</span><span class="org-type">{{</span><span class="org-string"> </span><span class="org-variable-name">primary_output</span><span class="org-string"> </span><span class="org-type">}}</span><span class="org-string">"</span>
<span class="org-function-name">{%</span> <span class="org-keyword">if</span> xrandr[<span class="org-string">"Screen 0:"</span>][xorg.primary.connector].modelines <span class="org-function-name">%}</span>
  <span class="org-type">{{</span> <span class="org-variable-name">xrandr["Screen 0:"][xorg.primary.connector].modelines[xorg.primary.mode]</span><span class="org-keyword">|</span><span class="org-function-name">default</span>(<span class="org-string">""</span>) <span class="org-type">}}</span>
<span class="org-function-name">{%</span> <span class="org-keyword">elif</span> xorg.primary.modelines <span class="org-function-name">%}</span>
<span class="org-function-name">{%</span> <span class="org-keyword">for</span> modeline <span class="org-builtin">in</span> xorg.primary.modelines <span class="org-function-name">%}</span>
  <span class="org-type">{{</span> <span class="org-variable-name">modeline</span> <span class="org-type">}}</span>
<span class="org-function-name">{%</span> <span class="org-keyword">endfor</span> <span class="org-function-name">%}</span>
<span class="org-function-name">{%</span> <span class="org-keyword">else</span> <span class="org-function-name">%}</span>
  Modeline    <span class="org-string">"1920x1080_24"</span>     74.230 1920 2560 2604 2752 1080 1084 1089 1125 +hsync +vsync
  Modeline    <span class="org-string">"1920x1080_50"</span>    148.500 1920 2448 2492 2640 1080 1084 1089 1125 +hsync +vsync
  Modeline    <span class="org-string">"1920x1080_60"</span>    148.500 1920 2008 2056 2200 1080 1084 1089 1125 +hsync +vsync
<span class="org-function-name">{%</span> <span class="org-keyword">endif</span> <span class="org-function-name">%}</span>
EndSection

<span class="org-function-name">{%</span> <span class="org-keyword">if</span> xorg.secondary <span class="org-builtin">is</span> defined <span class="org-function-name">%}</span>
Section <span class="org-string">"Monitor"</span>
  Identifier  <span class="org-string">"</span><span class="org-type">{{</span><span class="org-string"> </span><span class="org-variable-name">secondary_output</span><span class="org-string"> </span><span class="org-type">}}</span><span class="org-string">"</span>
<span class="org-function-name">{%</span> <span class="org-keyword">if</span> xorg.secondary.modelines <span class="org-function-name">%}</span>
<span class="org-function-name">{%</span> <span class="org-keyword">for</span> modeline <span class="org-builtin">in</span> xorg.secondary.modelines <span class="org-function-name">%}</span>
  <span class="org-type">{{</span> <span class="org-variable-name">modeline</span> <span class="org-type">}}</span>
<span class="org-function-name">{%</span> <span class="org-keyword">endfor</span> <span class="org-function-name">%}</span>
<span class="org-function-name">{%</span> <span class="org-keyword">else</span> <span class="org-function-name">%}</span>
  Modeline    <span class="org-string">"1920x1080_24"</span>     74.230 1920 2560 2604 2752 1080 1084 1089 1125 +hsync +vsync
  Modeline    <span class="org-string">"1920x1080_50"</span>    148.500 1920 2448 2492 2640 1080 1084 1089 1125 +hsync +vsync
  Modeline    <span class="org-string">"1920x1080_60"</span>    148.500 1920 2008 2056 2200 1080 1084 1089 1125 +hsync +vsync
<span class="org-function-name">{%</span> <span class="org-keyword">endif</span> <span class="org-function-name">%}</span>
EndSection

<span class="org-function-name">{%</span> <span class="org-keyword">endif</span> <span class="org-function-name">%}</span>
<span class="org-function-name">{%</span> <span class="org-keyword">for</span> connector, data <span class="org-builtin">in</span> xrandr[<span class="org-string">"Screen 0:"</span>].items() <span class="org-keyword">| </span><span class="org-function-name">list</span> <span class="org-keyword">if</span> <span class="org-builtin">not</span> (
    data.<span class="org-builtin">is</span>_connected<span class="org-keyword">|</span><span class="org-warning">bool</span> <span class="org-builtin">or</span>
    connector == xorg.primary.connector <span class="org-builtin">or</span>
    (xorg.secondary <span class="org-builtin">is</span> defined <span class="org-builtin">and</span> connector == xorg.secondary.connector))
 <span class="org-function-name">%}</span>
Section <span class="org-string">"Monitor"</span>
  Identifier <span class="org-string">"</span><span class="org-type">{{</span><span class="org-string"> </span><span class="org-variable-name">connector</span><span class="org-keyword">|</span><span class="org-function-name">replace</span><span class="org-string">("</span>-<span class="org-string">","") </span><span class="org-type">}}</span><span class="org-string">"</span>
  Option <span class="org-string">"Ignore"</span> <span class="org-string">"true"</span>
EndSection

<span class="org-function-name">{%</span> <span class="org-keyword">endfor</span> <span class="org-function-name">%}</span>
</pre>
</div>
</div>
</li>



<li><a id="org68d3130"></a><span class="todo TODO">TODO</span> AMD graphics xorg.conf snippet<br />
<div class="outline-text-6" id="text-6-15-5-1-6">
<p>
This seems pretty straight forward - but I need someone with an AMD GPU to test this&#x2026;
</p>
<div class="org-src-container">
<pre class="src src-jinja2"><span class="org-type">{{</span> <span class="org-variable-name">ansible_managed </span><span class="org-keyword">| </span><span class="org-warning">comment</span> <span class="org-type">}}</span>
<span class="org-function-name">{%</span> <span class="org-builtin">set</span> primary_output = xorg.primary.connector<span class="org-keyword">|</span><span class="org-function-name">replace</span>(<span class="org-string">"-"</span>, <span class="org-string">""</span>) <span class="org-function-name">%}</span>
<span class="org-function-name">{%</span> <span class="org-keyword">if</span> xorg.secondary <span class="org-builtin">is</span> defined <span class="org-function-name">%}</span>
  <span class="org-function-name">{%</span> <span class="org-builtin">set</span> secondary_output = xorg.secondary.connector<span class="org-keyword">|</span><span class="org-function-name">replace</span>(<span class="org-string">"-"</span>, <span class="org-string">""</span>) <span class="org-function-name">%}</span>
<span class="org-function-name">{%</span> <span class="org-keyword">endif</span> <span class="org-function-name">%}</span>

Section <span class="org-string">"Device"</span>
  Identifier  <span class="org-string">"Device0"</span>
  Driver      <span class="org-string">"amdgpu"</span>
  Option      <span class="org-string">"TearFree"</span> <span class="org-string">"true"</span>
  Option      <span class="org-string">"VariableRefresh"</span> <span class="org-string">"true"</span>
<span class="org-function-name">{%</span> <span class="org-keyword">if</span> xorg.secondary <span class="org-builtin">is</span> defined <span class="org-function-name">%}</span>
  Option      <span class="org-string">"ZaphodHeads"</span> <span class="org-string">"</span><span class="org-type">{{</span><span class="org-string"> </span><span class="org-variable-name">primary_output</span><span class="org-string"> </span><span class="org-type">}}</span><span class="org-string">"</span>
  Screen      0  
<span class="org-function-name">{%</span> <span class="org-keyword">endif</span> <span class="org-function-name">%}</span>
EndSection

<span class="org-function-name">{%</span> <span class="org-keyword">if</span> xorg.secondary <span class="org-builtin">is</span> defined <span class="org-function-name">%}</span>
Section <span class="org-string">"Device"</span>
  Identifier  <span class="org-string">"Device1"</span>
  Driver      <span class="org-string">"amdgpu"</span>
  Option      <span class="org-string">"TearFree"</span> <span class="org-string">"true"</span>
  Option      <span class="org-string">"VariableRefresh"</span> <span class="org-string">"true"</span>
  Option      <span class="org-string">"ZaphodHeads"</span> <span class="org-string">"</span><span class="org-type">{{</span><span class="org-string"> </span><span class="org-variable-name">secondary_output</span><span class="org-string"> </span><span class="org-type">}}</span><span class="org-string">"</span>
  Screen      1  
EndSection

Section <span class="org-string">"ServerLayout"</span>
    Identifier     <span class="org-string">"Layout0"</span>
    Screen      0  <span class="org-string">"Screen0"</span> 0 0
    Screen      1  <span class="org-string">"Screen1"</span> RightOf <span class="org-string">"Screen0"</span>
EndSection
<span class="org-function-name">{%</span> <span class="org-keyword">endif</span> <span class="org-function-name">%}</span>

Section <span class="org-string">"Screen"</span>
  Identifier  <span class="org-string">"Screen0"</span>
  Device      <span class="org-string">"Device0"</span>
  Monitor     <span class="org-string">"</span><span class="org-type">{{</span><span class="org-string"> </span><span class="org-variable-name">primary_output</span><span class="org-string"> </span><span class="org-type">}}</span><span class="org-string">"</span>
  DefaultDepth  24
  SubSection <span class="org-string">"Display"</span>
    Depth       24
<span class="org-function-name">{%</span> <span class="org-keyword">if</span> xorg.primary.mode <span class="org-function-name">%}</span>
    Modes     <span class="org-string">"</span><span class="org-type">{{</span><span class="org-string"> </span><span class="org-variable-name">xorg.primary.mode</span><span class="org-string"> </span><span class="org-type">}}</span><span class="org-string">"</span>
<span class="org-function-name">{%</span> <span class="org-keyword">else</span> <span class="org-function-name">%}</span>
    Modes     <span class="org-string">"1920x1080_50"</span> <span class="org-string">"1920x1080_60"</span> <span class="org-string">"1920x1080_24"</span>
<span class="org-function-name">{%</span> <span class="org-keyword">endif</span> <span class="org-function-name">%}</span>
  EndSubSection
EndSection

<span class="org-function-name">{%</span> <span class="org-keyword">if</span> xorg.secondary <span class="org-builtin">is</span> defined <span class="org-function-name">%}</span>
Section <span class="org-string">"Screen"</span>
  Identifier  <span class="org-string">"Screen1"</span>
  Device      <span class="org-string">"Device1"</span>
  Monitor     <span class="org-string">"</span><span class="org-type">{{</span><span class="org-string"> </span><span class="org-variable-name">secondary_output</span><span class="org-string"> </span><span class="org-type">}}</span><span class="org-string">"</span>
  DefaultDepth  24
  SubSection <span class="org-string">"Display"</span>
    Depth       24
<span class="org-function-name">{%</span> <span class="org-keyword">if</span> xorg.secondary.mode <span class="org-function-name">%}</span>
    Modes     <span class="org-string">"</span><span class="org-type">{{</span><span class="org-string"> </span><span class="org-variable-name">xorg.secondary.mode</span><span class="org-string"> </span><span class="org-type">}}</span><span class="org-string">"</span>
<span class="org-function-name">{%</span> <span class="org-keyword">else</span> <span class="org-function-name">%}</span>
    Modes     <span class="org-string">"1920x1080_50"</span> <span class="org-string">"1920x1080_60"</span> <span class="org-string">"1920x1080_24"</span>
<span class="org-function-name">{%</span> <span class="org-keyword">endif</span> <span class="org-function-name">%}</span>
  EndSubSection
EndSection

<span class="org-function-name">{%</span> <span class="org-keyword">endif</span> <span class="org-function-name">%}</span>
Section <span class="org-string">"Monitor"</span>
  Identifier  <span class="org-string">"</span><span class="org-type">{{</span><span class="org-string"> </span><span class="org-variable-name">primary_output</span><span class="org-string"> </span><span class="org-type">}}</span><span class="org-string">"</span>
<span class="org-function-name">{%</span> <span class="org-keyword">if</span> xrandr[<span class="org-string">"Screen 0:"</span>][xorg.primary.connector].modelines <span class="org-function-name">%}</span>
  <span class="org-type">{{</span> <span class="org-variable-name">xrandr["Screen 0:"][xorg.primary.connector].modelines[xorg.primary.mode]</span><span class="org-keyword">|</span><span class="org-function-name">default</span>(<span class="org-string">""</span>) <span class="org-type">}}</span>
<span class="org-function-name">{%</span> <span class="org-keyword">elif</span> xorg.primary.modelines <span class="org-function-name">%}</span>
<span class="org-function-name">{%</span> <span class="org-keyword">for</span> modeline <span class="org-builtin">in</span> xorg.primary.modelines <span class="org-function-name">%}</span>
  <span class="org-type">{{</span> <span class="org-variable-name">modeline</span> <span class="org-type">}}</span>
<span class="org-function-name">{%</span> <span class="org-keyword">endfor</span> <span class="org-function-name">%}</span>
<span class="org-function-name">{%</span> <span class="org-keyword">else</span> <span class="org-function-name">%}</span>
  Modeline    <span class="org-string">"1920x1080_24"</span>     74.230 1920 2560 2604 2752 1080 1084 1089 1125 +hsync +vsync
  Modeline    <span class="org-string">"1920x1080_50"</span>    148.500 1920 2448 2492 2640 1080 1084 1089 1125 +hsync +vsync
  Modeline    <span class="org-string">"1920x1080_60"</span>    148.500 1920 2008 2056 2200 1080 1084 1089 1125 +hsync +vsync
<span class="org-function-name">{%</span> <span class="org-keyword">endif</span> <span class="org-function-name">%}</span>
EndSection

<span class="org-function-name">{%</span> <span class="org-keyword">if</span> xorg.secondary <span class="org-builtin">is</span> defined <span class="org-function-name">%}</span>
Section <span class="org-string">"Monitor"</span>
  Identifier  <span class="org-string">"</span><span class="org-type">{{</span><span class="org-string"> </span><span class="org-variable-name">secondary_output</span><span class="org-string"> </span><span class="org-type">}}</span><span class="org-string">"</span>
<span class="org-function-name">{%</span> <span class="org-keyword">if</span> xorg.secondary.modelines <span class="org-function-name">%}</span>
<span class="org-function-name">{%</span> <span class="org-keyword">for</span> modeline <span class="org-builtin">in</span> xorg.secondary.modelines <span class="org-function-name">%}</span>
  <span class="org-type">{{</span> <span class="org-variable-name">modeline</span> <span class="org-type">}}</span>
<span class="org-function-name">{%</span> <span class="org-keyword">endfor</span> <span class="org-function-name">%}</span>
<span class="org-function-name">{%</span> <span class="org-keyword">else</span> <span class="org-function-name">%}</span>
  Modeline    <span class="org-string">"1920x1080_24"</span>     74.230 1920 2560 2604 2752 1080 1084 1089 1125 +hsync +vsync
  Modeline    <span class="org-string">"1920x1080_50"</span>    148.500 1920 2448 2492 2640 1080 1084 1089 1125 +hsync +vsync
  Modeline    <span class="org-string">"1920x1080_60"</span>    148.500 1920 2008 2056 2200 1080 1084 1089 1125 +hsync +vsync
<span class="org-function-name">{%</span> <span class="org-keyword">endif</span> <span class="org-function-name">%}</span>
EndSection

<span class="org-function-name">{%</span> <span class="org-keyword">endif</span> <span class="org-function-name">%}</span>
<span class="org-function-name">{%</span> <span class="org-keyword">for</span> connector, data <span class="org-builtin">in</span> xrandr[<span class="org-string">"Screen 0:"</span>].items() <span class="org-keyword">| </span><span class="org-function-name">list</span> <span class="org-keyword">if</span> <span class="org-builtin">not</span> (
    data.<span class="org-builtin">is</span>_connected<span class="org-keyword">|</span><span class="org-warning">bool</span> <span class="org-builtin">or</span>
    connector == xorg.primary.connector <span class="org-builtin">or</span>
    (xorg.secondary <span class="org-builtin">is</span> defined <span class="org-builtin">and</span> connector == xorg.secondary.connector))
 <span class="org-function-name">%}</span>
Section <span class="org-string">"Monitor"</span>
  Identifier <span class="org-string">"</span><span class="org-type">{{</span><span class="org-string"> </span><span class="org-variable-name">connector</span><span class="org-keyword">|</span><span class="org-function-name">replace</span><span class="org-string">("</span>-<span class="org-string">","") </span><span class="org-type">}}</span><span class="org-string">"</span>
  Option <span class="org-string">"Ignore"</span> <span class="org-string">"true"</span>
EndSection

<span class="org-function-name">{%</span> <span class="org-keyword">endfor</span> <span class="org-function-name">%}</span>
</pre>
</div>
</div>
</li>
<li><a id="orge41b17f"></a>xorg.conf<br />
<div class="outline-text-6" id="text-6-15-5-1-7">
<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 9: </span>roles/yavdr-xorg/templates/xorg-verbose.conf.j2</label><pre class="src src-conf">{{ ansible_managed | comment }}

Section <span class="org-string">"Device"</span>
        Identifier <span class="org-string">"nvidia"</span>
        Driver  <span class="org-string">"nvidia"</span>
        Option  <span class="org-string">"DynamicTwinView"</span>     <span class="org-string">"true"</span>
        Option  <span class="org-string">"NoFlip"</span>              <span class="org-string">"false"</span>
EndSection

Section <span class="org-string">"Screen"</span>
        Identifier      <span class="org-string">"screen"</span>
        Device          <span class="org-string">"nvidia"</span>
EndSection
</pre>
</div>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 10: </span>roles/yavdr-xorg/templates/xorg.conf.j2</label><pre class="src src-conf">{{ ansible_managed | comment }}

Section <span class="org-string">"ServerLayout"</span>
    Identifier     <span class="org-string">"Layout0"</span>
    Screen         0  <span class="org-string">"Screen0"</span> 0 0
{% if xorg.secondary is defined %}
    Screen         1  <span class="org-string">"Screen1"</span> RightOf <span class="org-string">"Screen0"</span>
{% endif %}
    <span class="org-comment-delimiter">#</span><span class="org-comment">InputDevice    "Keyboard0" "CoreKeyboard"</span>
    <span class="org-comment-delimiter">#</span><span class="org-comment">InputDevice    "Mouse0" "CorePointer"</span>
    Option         <span class="org-string">"Xinerama"</span> <span class="org-string">"0"</span>
EndSection

Section <span class="org-string">"InputClass"</span>
    Identifier <span class="org-string">"exclude eventlircd devices"</span>
    MatchTag   <span class="org-string">"eventlircd"</span>
    Option     <span class="org-string">"Ignore"</span>    <span class="org-string">"True"</span>
EndSection

Section <span class="org-string">"Monitor"</span>
    Identifier     <span class="org-string">"Monitor0"</span>
    VendorName     <span class="org-string">"{{ xorg.primary.vendor }}"</span>
    ModelName      <span class="org-string">"{{ xorg.primary.model }}"</span>
    Option         <span class="org-string">"DPMS"</span>
    Option         <span class="org-string">"ExactModeTimingsDVI"</span> <span class="org-string">"True"</span>
EndSection

Section <span class="org-string">"Device"</span>
    Identifier     <span class="org-string">"Device0"</span>
    Driver         <span class="org-string">"nvidia"</span>
    VendorName     <span class="org-string">"NVIDIA Corporation"</span>
    Option         <span class="org-string">"NoLogo"</span>              <span class="org-string">"true"</span>
{% if xorg.primary.bus_id is defined %}
    BoardName      <span class="org-string">"{{ xorg.primary.gpu_name }}"</span>
    BusID          <span class="org-string">"{{ xorg.primary.bus_id }}"</span>
{% else %}
    BoardName      <span class="org-string">"Unknown"</span>
{% endif %}
{% if nvidia_force_dpi | int(0) &gt; 0  %}
    Option         <span class="org-string">"UseEdidDpi"</span> <span class="org-string">"FALSE"</span>
    Option         <span class="org-string">"DPI"</span> <span class="org-string">"{{ nvidia_force_dpi }} x {{ nvidia_force_dpi }}"</span>
{% endif %}
    Screen          0
    Option         <span class="org-string">"ConnectedMonitor"</span> <span class="org-string">"{{ xorg.primary.connector }}{% if xorg.secondary is defined %}, {{ xorg.secondary.connector }}{% endif %}"</span>
    Option         <span class="org-string">"CustomEDID"</span> <span class="org-string">"{{ xorg.primary.connector }}:/etc/X11/edid.{{ xorg.primary.connector }}.bin{% if xorg.secondary is defined %};{{ xorg.secondary.connector }}:/etc/X11/edid.{{ xorg.secondary.connector }}.bin{% endif %}"</span>
EndSection

Section <span class="org-string">"Screen"</span>
    Identifier     <span class="org-string">"Screen0"</span>
    Device         <span class="org-string">"Device0"</span>
    Monitor        <span class="org-string">"Monitor0"</span>
    DefaultDepth    24
    Option         <span class="org-string">"nvidiaXineramaInfoOrder"</span> <span class="org-string">"{{ xorg.primary.connector }}"</span>
    Option         <span class="org-string">"UseDisplayDevice"</span> <span class="org-string">"{{ xorg.primary.connector }}"</span>
    Option         <span class="org-string">"metamodes"</span> <span class="org-string">"{{ xorg.primary.connector }}: {{ xorg.primary.mode }} +0+0 {ForceCompositionPipeline=Off, ForceFullCompositionPipeline=Off}"</span>
    Option         <span class="org-string">"AllowIndirectGLXProtocol"</span> <span class="org-string">"off"</span>
    Option         <span class="org-string">"TripleBuffer"</span> <span class="org-string">"on"</span>
    Option         <span class="org-string">"SLI"</span> <span class="org-string">"Off"</span>
    Option         <span class="org-string">"MultiGPU"</span> <span class="org-string">"Off"</span>
    Option         <span class="org-string">"BaseMosaic"</span> <span class="org-string">"off"</span>
    SubSection     <span class="org-string">"Display"</span>
        Depth       24
    EndSubSection
EndSection

{% if xorg.secondary is defined %}
Section <span class="org-string">"Device"</span>
    Identifier     <span class="org-string">"Device1"</span>
    Driver         <span class="org-string">"nvidia"</span>
    VendorName     <span class="org-string">"NVIDIA Corporation"</span>
    Option  <span class="org-string">"NoLogo"</span>              <span class="org-string">"true"</span>
{% if xorg.secondary.bus_id is defined %}
    BoardName      <span class="org-string">"{{ xorg.primary.gpu_name }}"</span>
    BusID          <span class="org-string">"{{ xorg.primary.bus_id }}"</span>
{% else %}
    BoardName      <span class="org-string">"Unknown"</span>
{% endif %}
    Screen          1
EndSection

Section <span class="org-string">"Monitor"</span>
    Identifier     <span class="org-string">"Monitor1"</span>
    VendorName     <span class="org-string">"{{ xorg.secondary.vendor }}"</span>
    ModelName      <span class="org-string">"{{ xorg.secondary.model }}"</span>
EndSection

Section <span class="org-string">"Screen"</span>
    Identifier     <span class="org-string">"Screen1"</span>
    Device         <span class="org-string">"Device1"</span>
    Monitor        <span class="org-string">"Monitor1"</span>
    DefaultDepth    24
    Option         <span class="org-string">"nvidiaXineramaInfoOrder"</span> <span class="org-string">"{{ xorg.secondary.connector }}"</span>
    <span class="org-comment-delimiter">#</span><span class="org-comment">Option         "ConnectedMonitor" "{{ xorg.secondary.connector }}"</span>
    Option         <span class="org-string">"UseDisplayDevice"</span> <span class="org-string">"{{ xorg.secondary.connector }}"</span>
    <span class="org-comment-delimiter">#</span><span class="org-comment">Option         "CustomEDID" "{{ xorg.secondary.connector }}:/etc/X11/edid.{{ xorg.secondary.connector }}.bin"</span>
    Option         <span class="org-string">"metamodes"</span> <span class="org-string">"{{ xorg.secondary.connector }}: {{ xorg.secondary.mode }} +0+0 {ForceCompositionPipeline=Off, ForceFullCompositionPipeline=Off}"</span>
    Option         <span class="org-string">"AllowIndirectGLXProtocol"</span> <span class="org-string">"off"</span>
    Option         <span class="org-string">"TripleBuffer"</span> <span class="org-string">"on"</span>
    Option         <span class="org-string">"SLI"</span> <span class="org-string">"Off"</span>
    Option         <span class="org-string">"MultiGPU"</span> <span class="org-string">"Off"</span>
    Option         <span class="org-string">"BaseMosaic"</span> <span class="org-string">"off"</span>
    SubSection     <span class="org-string">"Display"</span>
        Depth       24
    EndSubSection
EndSection
{% endif %}

Section <span class="org-string">"Extensions"</span>
    Option         <span class="org-string">"Composite"</span> <span class="org-string">"Disable"</span>
EndSection
</pre>
</div>

<div class="org-src-container">
<pre class="src src-shell">{{ ansible_managed | comment }}

Section <span class="org-string">"ServerLayout"</span>
    Identifier     <span class="org-string">"Layout0"</span>
    Screen      0  <span class="org-string">"Screen0"</span>
    {% if xorg.best_tv_mode.secondary is defined %}
    Screen      1  <span class="org-string">"Screen1"</span> RightOf <span class="org-string">"Screen0"</span>
    {% endif %}
    InputDevice    <span class="org-string">"Keyboard0"</span> <span class="org-string">"CoreKeyboard"</span>
    InputDevice    <span class="org-string">"Mouse0"</span> <span class="org-string">"CorePointer"</span>
EndSection

Section <span class="org-string">"InputDevice"</span>
    <span class="org-comment-delimiter"># </span><span class="org-comment">generated from default</span>
    Identifier     <span class="org-string">"Mouse0"</span>
    Driver         <span class="org-string">"mouse"</span>
    Option         <span class="org-string">"Protocol"</span> <span class="org-string">"auto"</span>
    Option         <span class="org-string">"Device"</span> <span class="org-string">"/dev/psaux"</span>
    Option         <span class="org-string">"Emulate3Buttons"</span> <span class="org-string">"no"</span>
    Option         <span class="org-string">"ZAxisMapping"</span> <span class="org-string">"4 5"</span>
EndSection

<span class="org-comment-delimiter"># </span><span class="org-comment">ignore devices with eventlircd tag</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">ENV{ID_INPUT.tags}+="eventlircd"</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">must be set by an udev rule</span>
Section <span class="org-string">"InputClass"</span>
    Identifier <span class="org-string">"ignore eventlircd devices"</span>
    MatchTag <span class="org-string">"eventlircd"</span>
    Option <span class="org-string">"Ignore"</span> <span class="org-string">"True"</span>
EndSection



Section <span class="org-string">"InputDevice"</span>
    <span class="org-comment-delimiter"># </span><span class="org-comment">generated from default</span>
    Identifier     <span class="org-string">"Keyboard0"</span>
    Driver         <span class="org-string">"kbd"</span>
EndSection


Section <span class="org-string">"Monitor"</span>
    Identifier     <span class="org-string">"Monitor0"</span>
    VendorName     <span class="org-string">"Unknown"</span>
    ModelName      <span class="org-string">"Unknown"</span>
{# TODO: VGA2SCART support (<span class="org-keyword">if</span> needed)
{% if system.x11.display.0.default == <span class="org-string">"VGA2Scart_4_3"</span> or system.x11.display.0.default == <span class="org-string">"VGA2Scart_16_9"</span> %}
    HorizSync       14-17
    VertRefresh     49-61
    {% if system.x11.display.0.default == <span class="org-string">"VGA2Scart_4_3"</span> %}
    Modeline <span class="org-string">"VGA2Scart_4_3"</span> 13.875 720 744 808 888 576 580 585 625 -HSync -Vsync interlace
    {% elif system.x11.display.0.default == <span class="org-string">"VGA2Scart_16_9"</span> %}
    Modeline <span class="org-string">"VGA2Scart_16_9"</span> 19 1024 1032 1120 1216 576 581 586 625 -Hsync -Vsync interlace
    {% endif %}
{% endif %}
<span class="org-comment-delimiter">#</span><span class="org-comment">}</span>
    Option         <span class="org-string">"DPMS"</span>
    Option         <span class="org-string">"ExactModeTimingsDVI"</span> <span class="org-string">"True"</span>
EndSection


{% if xrandr.best_tv_mode.secondary is defined %}
Section <span class="org-string">"Monitor"</span>
    Identifier     <span class="org-string">"Monitor1"</span>
    VendorName     <span class="org-string">"Unknown"</span>
    ModelName      <span class="org-string">"Unknown"</span>
{#
{% if system.x11.display.1.default<span class="org-keyword"> in</span> (<span class="org-string">"VGA2Scart_4_3"</span>,  <span class="org-string">"VGA2Scart_16_9"</span>) %}
    HorizSync       14-17
    VertRefresh     49-61
    {% if system.x11.display.1.default == <span class="org-string">"VGA2Scart_4_3"</span> %}
    Modeline <span class="org-string">"VGA2Scart_4_3"</span> 13.875 720 744 808 888 576 580 585 625 -HSync -Vsync interlace
    {% elif system.x11.display.1.default == <span class="org-string">"VGA2Scart_16_9"</span> %}
    Modeline <span class="org-string">"VGA2Scart_16_9"</span> 19 1024 1032 1120 1216 576 581 586 625 -Hsync -Vsync interlace
    {% endif %}
    Option         <span class="org-string">"DPMS"</span>
    Option         <span class="org-string">"ExactModeTimingsDVI"</span> <span class="org-string">"True"</span>
{% endif %}
<span class="org-comment-delimiter">#</span><span class="org-comment">}</span>
EndSection
{% endif %}

Section <span class="org-string">"Device"</span>
    Identifier     <span class="org-string">"Device0"</span>
{% if system.hardware.nvidia.detected %}
    Driver         <span class="org-string">"nvidia"</span>
    VendorName     <span class="org-string">"NVIDIA Corporation"</span>
{% endif %}
    Screen          0
    Option         <span class="org-string">"DPI"</span> <span class="org-string">"100x100"</span>
{% if system.hardware.nvidia.busid is defined and system.hardware.busid %}
    BusID          <span class="org-string">"PCI: {{ system.hardware.nvidia.busid }}"</span>
{% endif %}
    Option         <span class="org-string">"NoLogo"</span> <span class="org-string">"True"</span>
    Option         <span class="org-string">"UseEvents"</span> <span class="org-string">"True"</span>
    Option         <span class="org-string">"TripleBuffer"</span> <span class="org-string">"False"</span>
    Option         <span class="org-string">"AddARGBGLXVisuals"</span> <span class="org-string">"True"</span>
    Option         <span class="org-string">"TwinView"</span> <span class="org-string">"0"</span>
    Option         <span class="org-string">"DynamicTwinView"</span> <span class="org-string">"0"</span>
    Option         <span class="org-string">"OnDemandVBlankinterrupts"</span> <span class="org-string">"on"</span>
    Option         <span class="org-string">"FlatPanelProperties"</span> <span class="org-string">"Scaling = Native"</span>
EndSection

{% if xrandr.best_tv_mode.secondary is defined %}
Section <span class="org-string">"Device"</span>
    Identifier     <span class="org-string">"Device1"</span>
    {% if system.hardware.nvidia.detected %}
    Driver         <span class="org-string">"nvidia"</span>
    VendorName     <span class="org-string">"NVIDIA Corporation"</span>
    {% endif %}
    Screen          1
    {% if system.hardware.nvidia.busid is defined and system.hardware.nvidia.busid %}
    BusID          <span class="org-string">"PCI: {{ system.hardware.nvidia.busid }}"</span>
    {% endif %}
    Option         <span class="org-string">"NoLogo"</span> <span class="org-string">"True"</span>
    Option         <span class="org-string">"UseEvents"</span> <span class="org-string">"True"</span>
    Option         <span class="org-string">"TripleBuffer"</span> <span class="org-string">"False"</span>
    Option         <span class="org-string">"AddARGBGLXVisuals"</span> <span class="org-string">"True"</span>
    Option         <span class="org-string">"TwinView"</span> <span class="org-string">"0"</span>
    Option         <span class="org-string">"DynamicTwinView"</span> <span class="org-string">"0"</span>
EndSection
{% endif %}


Section <span class="org-string">"Screen"</span>
    Identifier     <span class="org-string">"Screen0"</span>
    Device         <span class="org-string">"Device0"</span>
    Monitor        <span class="org-string">"Monitor0"</span>
    DefaultDepth    24
    SubSection     <span class="org-string">"Display"</span>
        Depth       24
{% if xrandr.best_tv_mode.primary is defined %}
        Modes      <span class="org-string">"{{ xrandr.best_tv_mode.primary.mode }}"</span>{#{% for mode<span class="org-keyword"> in</span> xrandr %}{% if mode != system.x11.display.0.default %} <span class="org-string">"{{ mode }}"</span>{% endif %}{% endfor %}#} nvidia-auto-select

{% elif system.hardware.nvidia.detected == 1 %}
        Modes      <span class="org-string">"nvidia-auto-select"</span>
{% endif %}
    EndSubSection
{% if system.x11.display.0.default or system.x11.default %}
    {% if system.x11.display.0.device is definded and system.x11.display.0.device %}
    Option         <span class="org-string">"ConnectedMonitor"</span> {{ system.x11.display.0.device }}
    {% else %}
    Option         <span class="org-string">"ConnectedMonitor"</span> {{ system.x11.default }}
    {% endif %}
    <span class="org-comment-delimiter">#     </span><span class="org-comment">Option         "ConnectedMonitor" "&lt;?cs if:(?system.x11.display.0.device) ?&gt;&lt;?cs call:fix_display_name(system.x11.display.0.device) ?&gt;&lt;?cs else ?&gt;&lt;?cs var:system.x11.default ?&gt;&lt;?cs /if ?&gt;&lt;?cs if:(?system.x11.dualhead.enabled &amp;&amp; system.x11.dualhead.enabled == 1) ?&gt;, &lt;?cs call:fix_display_name(system.x11.display.1.device) ?&gt;&lt;?cs /if ?&gt;"</span>
    <span class="org-comment-delimiter">#</span><span class="org-comment">Option         "ConnectedMonitor"</span>
    <span class="org-string">"&lt;?cs if:(?system.x11.display.0.device) ?&gt;</span>
<span class="org-string">          &lt;?cs call:fix_display_name(system.x11.display.0.device) ?&gt;</span>
<span class="org-string">     &lt;?cs else ?&gt;</span>
<span class="org-string">          &lt;?cs var:system.x11.default ?&gt;</span>
<span class="org-string">     &lt;?cs /if ?&gt;</span>
<span class="org-string">     &lt;?cs if:(?system.x11.dualhead.enabled &amp;&amp; system.x11.dualhead.enabled == 1) ?&gt;, &lt;?cs call:fix_display_name(system.x11.display.1.device) ?&gt;&lt;?cs /if ?&gt;"</span>
<span class="org-comment-delimiter">#     </span><span class="org-comment">Option         "UseDisplayDevice" "&lt;?cs if:(?system.x11.display.0.device) ?&gt;&lt;?cs call:fix_display_name(system.x11.display.0.device) ?&gt;&lt;?cs else ?&gt;&lt;?cs var:system.x11.default ?&gt;&lt;?cs /if ?&gt;"</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">&lt;?cs /if ?&gt;</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">&lt;?cs if:(?system.hardware.nvidia.0.edid &amp;&amp; system.hardware.nvidia.0.edid == "1") ?&gt;</span>
<span class="org-comment-delimiter">#     </span><span class="org-comment">Option         "CustomEDID" "&lt;?cs call:fix_display_name(system.x11.display.0.device) ?&gt;:/etc/X11/edid.0.yavdr"</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">&lt;?cs /if ?&gt;</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">&lt;?cs if:(system.hardware.nvidia.detected == 1 &amp;&amp; ?system.x11.display.0.device) ?&gt;</span>
<span class="org-comment-delimiter">#     </span><span class="org-comment">Option          "MetaModes" "&lt;?cs call:fix_display_name(system.x11.display.0.device) ?&gt;: &lt;?cs var:system.x11.display.0.default ?&gt; { ViewPortIn=&lt;?cs var:system.x11.display.0.viewport.in.x ?&gt;x&lt;?cs var:system.x11.display.0.viewport.in.y ?&gt;, ViewPortOut=&lt;?cs var:system.x11.display.0.viewport.out.x ?&gt;x&lt;?cs var:system.x11.display.0.viewport.out.y ?&gt;+&lt;?cs var:system.x11.display.0.viewport.out.plusx ?&gt;+&lt;?cs var:system.x11.display.0.viewport.out.plusy ?&gt; }"</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">&lt;?cs each:mode = system.x11.display.0.mode ?&gt;&lt;?cs if:(mode != system.x11.display.0.default) ?&gt;</span>
<span class="org-comment-delimiter">#     </span><span class="org-comment">Option          "MetaModes" "&lt;?cs call:fix_display_name(system.x11.display.0.device) ?&gt;: &lt;?cs var:mode ?&gt; { ViewPortIn=&lt;?cs var:system.x11.display.0.viewport.in.x ?&gt;x&lt;?cs var:system.x11.display.0.viewport.in.y ?&gt;, ViewPortOut=&lt;?cs var:system.x11.display.0.viewport.out.x ?&gt;x&lt;?cs var:system.x11.display.0.viewport.out.y ?&gt;+&lt;?cs var:system.x11.display.0.viewport.out.plusx ?&gt;+&lt;?cs var:system.x11.display.0.viewport.out.plusy ?&gt; }"&lt;?cs /if ?&gt;&lt;?cs /each ?&gt;</span>
{% endif %}
EndSection

{% if system.x11.dualhead.enabled == <span class="org-string">"1"</span> %}
Section <span class="org-string">"Screen"</span>

     Identifier     <span class="org-string">"Screen1"</span>
     Device         <span class="org-string">"Device1"</span>
     Monitor        <span class="org-string">"Monitor1"</span>
     DefaultDepth    24
     SubSection     <span class="org-string">"Display"</span>
         Depth       24
{% if system.x11.display.0.default is defined and system.x11.display.0.default %}
         Modes      <span class="org-string">"{{ system.x11.display.1.default }}"</span>{% for mode<span class="org-keyword"> in</span> system.x11.display.1.mode %}{% if mode != system.x11.display.1.default %} <span class="org-string">"{{ mode }}"</span>{% endif %}{% endfor %}

{% elif system.hardware.nvidia.detected == <span class="org-string">"1"</span> %}
         Modes      <span class="org-string">"nvidia-auto-select"</span>
{% endif %}
      EndSubSection

<span class="org-comment-delimiter"># </span><span class="org-comment">&lt;?cs if:(?system.x11.display.1.default &amp;&amp; system.x11.display.1.default != "" &amp;&amp; system.x11.display.1.default != "disabled") ?&gt;</span>
<span class="org-comment-delimiter">#     </span><span class="org-comment">Option         "UseDisplayDevice" "&lt;?cs call:fix_display_name(system.x11.display.1.device) ?&gt;"</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">&lt;?cs /if ?&gt;</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">&lt;?cs if:(?system.hardware.nvidia.1.edid &amp;&amp; system.hardware.nvidia.1.edid == "1") ?&gt;</span>
<span class="org-comment-delimiter">#     </span><span class="org-comment">Option         "CustomEDID" "&lt;?cs call:fix_display_name(system.x11.display.1.device) ?&gt;:/etc/X11/edid.1.yavdr"</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">&lt;?cs /if ?&gt;</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">&lt;?cs if:(system.hardware.nvidia.detected == 1 &amp;&amp; ?system.x11.display.1.device) ?&gt;</span>
<span class="org-comment-delimiter">#     </span><span class="org-comment">Option          "MetaModes" "&lt;?cs call:fix_display_name(system.x11.display.1.device) ?&gt;: &lt;?cs var:system.x11.display.1.default ?&gt; { ViewPortIn=&lt;?cs var:system.x11.display.1.viewport.in.x ?&gt;x&lt;?cs var:system.x11.display.1.viewport.in.y ?&gt;, ViewPortOut=&lt;?cs var:system.x11.display.1.viewport.out.x ?&gt;x&lt;?cs var:system.x11.display.1.viewport.out.y ?&gt;+&lt;?cs var:system.x11.display.1.viewport.out.plusx ?&gt;+&lt;?cs var:system.x11.display.1.viewport.out.plusy ?&gt; }"</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">&lt;?cs each:mode = system.x11.display.1.mode ?&gt;&lt;?cs if:(mode != system.x11.display.1.default) ?&gt;</span>
<span class="org-comment-delimiter">#     </span><span class="org-comment">Option          "MetaModes" "&lt;?cs call:fix_display_name(system.x11.display.1.device) ?&gt;: &lt;?cs var:mode ?&gt; { ViewPortIn=&lt;?cs var:system.x11.display.1.viewport.in.x ?&gt;x&lt;?cs var:system.x11.display.1.viewport.in.y ?&gt;, ViewPortOut=&lt;?cs var:system.x11.display.1.viewport.out.x ?&gt;x&lt;?cs var:system.x11.display.1.viewport.out.y ?&gt;+&lt;?cs var:system.x11.display.1.viewport.out.plusx ?&gt;+&lt;?cs var:system.x11.display.1.viewport.out.plusy ?&gt; }"&lt;?cs /if ?&gt;&lt;?cs /each ?&gt;</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">&lt;?cs /if ?&gt;</span>
EndSection
{% endif %}
</pre>
</div>
</div>
</li>
<li><a id="org4318ffc"></a>snippet to disable screen blanking<br />
<div class="outline-text-6" id="text-6-15-5-1-8">
<div class="org-src-container">
<pre class="src src-conf">{{ ansible_managed | comment }}
Section <span class="org-string">"ServerFlags"</span>
    Option         <span class="org-string">"NoPM"</span> <span class="org-string">"true"</span>
    Option         <span class="org-string">"blank time"</span> <span class="org-string">"0"</span>
    Option         <span class="org-string">"standby time"</span> <span class="org-string">"0"</span>
    Option         <span class="org-string">"suspend time"</span> <span class="org-string">"0"</span>
    Option         <span class="org-string">"off time"</span> <span class="org-string">"0"</span>
EndSection
</pre>
</div>
</div>
</li>
</ol>
</li>

<li><a id="org8c82700"></a>initramfs EDID hook<br />
<div class="outline-text-5" id="text-6-15-5-2">
<div class="org-src-container">
<pre class="src src-jinja2"><span class="org-type">{{</span> <span class="org-variable-name">ansible_managed </span><span class="org-keyword">| </span><span class="org-warning">comment</span> <span class="org-type">}}</span>
# This hook copies EDID files <span class="org-keyword">with</span> the naming scheme <span class="org-string">"edid.${OUTPUT}.bin"</span> to the initramfs.

[ <span class="org-string">"$1"</span> = <span class="org-string">"prereqs"</span> ] &amp;&amp; { echo <span class="org-string">"udev"</span>; exit 0; }

# <span class="org-builtin">load</span> hook helper functions
. /usr/share/initramfs-tools/hook-functions

rm /lib/firmware/edid/edid.*.bin
find <span class="org-string">"/etc/X11/"</span> -name <span class="org-string">"edid.*.bin"</span> -type f -exec cp -t <span class="org-string">"/lib/firmware/edid/"</span> {} +
mkdir -p <span class="org-string">"${DESTDIR}/lib/firmware/edid"</span>
find <span class="org-string">"/etc/X11/"</span> -name <span class="org-string">"edid.*.bin"</span> -type f -exec cp -t <span class="org-string">"${DESTDIR}/lib/firmware/edid/"</span> {} +
manual_add_modules i915 radeon
exit 0
</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div id="outline-container-org2781c69" class="outline-3">
<h3 id="org2781c69"><span class="section-number-3">6.16.</span> yavdr-desktop</h3>
<div class="outline-text-3" id="text-6-16">
</div>
<div id="outline-container-org1c2ea4b" class="outline-4">
<h4 id="org1c2ea4b"><span class="section-number-4">6.16.1.</span> dependencies</h4>
<div class="outline-text-4" id="text-6-16-1">
<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 11: </span>roles/yavdr-desktop.yml</label><pre class="src src-yaml"><span class="org-comment">---</span>
<span class="org-variable-name">dependencies</span>:
    - <span class="org-ansible-section">role</span>: session-common
    - <span class="org-ansible-section">role</span>: udiskie
</pre>
</div>
</div>
</div>
<div id="outline-container-org7472205" class="outline-4">
<h4 id="org7472205"><span class="section-number-4">6.16.2.</span> Tasks</h4>
<div class="outline-text-4" id="text-6-16-2">
</div>
<ol class="org-ol">
<li><a id="org3bbcdd5"></a>main.yml<br />
<div class="outline-text-5" id="text-6-16-2-1">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment">---</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">file: roles/yavdr-desktop/tasks/main.yml</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> create folders for user configuration files</span>
  <span class="org-keyword">file</span>:
    <span class="org-variable-name">state</span>: directory
    <span class="org-variable-name">dest</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> item </span><span class="org-builtin">}}</span><span class="org-string">'</span>
    <span class="org-variable-name">mode</span>: <span class="org-string">'0775'</span>
    <span class="org-variable-name">owner</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.user </span><span class="org-builtin">}}</span><span class="org-string">'</span>
    <span class="org-keyword">group</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.group </span><span class="org-builtin">}}</span><span class="org-string">'</span>
  <span class="org-variable-name">loop</span>:
    - <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.home </span><span class="org-builtin">}}</span><span class="org-string">/.config/systemd/user'</span>
    - <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.home </span><span class="org-builtin">}}</span><span class="org-string">/.config/openbox'</span>
    - <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.home </span><span class="org-builtin">}}</span><span class="org-string">/.config/pulse'</span>
    - <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.home </span><span class="org-builtin">}}</span><span class="org-string">/bin'</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> expand template for .xinitrc for vdr user</span>
  <span class="org-keyword">template</span>:
      <span class="org-variable-name">src</span>: <span class="org-string">'templates/.xinitrc.j2'</span>
      <span class="org-variable-name">dest</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.home </span><span class="org-builtin">}}</span><span class="org-string">/.xinitrc'</span>
      <span class="org-variable-name">mode</span>: 0755
      <span class="org-variable-name">owner</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.user </span><span class="org-builtin">}}</span><span class="org-string">'</span>
      <span class="org-keyword">group</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.group </span><span class="org-builtin">}}</span><span class="org-string">'</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> "expand template for vdr's .Xresources"</span>
  <span class="org-keyword">template</span>:
      <span class="org-variable-name">src</span>: <span class="org-string">'templates/.Xresources.j2'</span>
      <span class="org-variable-name">dest</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.home </span><span class="org-builtin">}}</span><span class="org-string">/.Xresources'</span>
      <span class="org-variable-name">mode</span>: 0644
      <span class="org-variable-name">owner</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.user </span><span class="org-builtin">}}</span><span class="org-string">'</span>
      <span class="org-keyword">group</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.group </span><span class="org-builtin">}}</span><span class="org-string">'</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> expand template for openbox autostart</span>
  <span class="org-keyword">template</span>:
      <span class="org-variable-name">src</span>: <span class="org-string">'templates/openbox/autostart.j2'</span>
      <span class="org-variable-name">dest</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.home </span><span class="org-builtin">}}</span><span class="org-string">/.config/openbox/autostart'</span>
      <span class="org-variable-name">mode</span>: 0755
      <span class="org-variable-name">owner</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.user </span><span class="org-builtin">}}</span><span class="org-string">'</span>
      <span class="org-keyword">group</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.group </span><span class="org-builtin">}}</span><span class="org-string">'</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> expand rc.xml for openbox</span>
  <span class="org-keyword">template</span>:
      <span class="org-variable-name">src</span>: <span class="org-string">'templates/openbox/rc.xml.j2'</span>
      <span class="org-variable-name">dest</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.home </span><span class="org-builtin">}}</span><span class="org-string">/.config/openbox/rc.xml'</span>
      <span class="org-variable-name">mode</span>: 0644
      <span class="org-variable-name">owner</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.user </span><span class="org-builtin">}}</span><span class="org-string">'</span>
      <span class="org-keyword">group</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.group </span><span class="org-builtin">}}</span><span class="org-string">'</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> expand rc2.xml for openbox on second display</span>
  <span class="org-keyword">template</span>:
      <span class="org-variable-name">src</span>: <span class="org-string">'templates/openbox/rc2.xml.j2'</span>
      <span class="org-variable-name">dest</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.home </span><span class="org-builtin">}}</span><span class="org-string">/.config/openbox/rc2.xml'</span>
      <span class="org-variable-name">mode</span>: 0644
      <span class="org-variable-name">owner</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.user </span><span class="org-builtin">}}</span><span class="org-string">'</span>
      <span class="org-keyword">group</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.group </span><span class="org-builtin">}}</span><span class="org-string">'</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> create yavdr-desktop.target for the user session</span>
  <span class="org-keyword">template</span>:
      <span class="org-variable-name">src</span>: <span class="org-string">'templates/systemd/user/yavdr-desktop.target.j2'</span>
      <span class="org-variable-name">dest</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.home </span><span class="org-builtin">}}</span><span class="org-string">/.config/systemd/user/yavdr-desktop.target'</span>
      <span class="org-variable-name">mode</span>: 0644
      <span class="org-variable-name">owner</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.user </span><span class="org-builtin">}}</span><span class="org-string">'</span>
      <span class="org-keyword">group</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.group </span><span class="org-builtin">}}</span><span class="org-string">'</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> disable pulseaudio autospawning</span>
  <span class="org-keyword">lineinfile</span>:
    <span class="org-variable-name">path</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.home </span><span class="org-builtin">}}</span><span class="org-string">/.config/pulse/client.conf'</span>
    <span class="org-variable-name">line</span>: <span class="org-string">'autospawn = yes'</span>
    <span class="org-variable-name">create</span>: <span class="org-constant">yes</span>
    <span class="org-variable-name">state</span>: present
    <span class="org-variable-name">owner</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.user </span><span class="org-builtin">}}</span><span class="org-string">'</span>
    <span class="org-keyword">group</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.group </span><span class="org-builtin">}}</span><span class="org-string">'</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> create wm-exit.service for the session</span>
  <span class="org-keyword">template</span>:
    <span class="org-variable-name">src</span>: templates/systemd/user/wm-exit.service.j2
    <span class="org-variable-name">dest</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.home </span><span class="org-builtin">}}</span><span class="org-string">/.config/systemd/user/wm-exit.service'</span>
    <span class="org-variable-name">mode</span>: 0644
    <span class="org-variable-name">owner</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.user </span><span class="org-builtin">}}</span><span class="org-string">'</span>
    <span class="org-keyword">group</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.group </span><span class="org-builtin">}}</span><span class="org-string">'</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> create detect-second-display.service for the session</span>
  <span class="org-keyword">template</span>:
    <span class="org-variable-name">src</span>: templates/systemd/user/detect-second-display.service.j2
    <span class="org-variable-name">dest</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.home </span><span class="org-builtin">}}</span><span class="org-string">/.config/systemd/user/detect-second-display.service'</span>
    <span class="org-variable-name">mode</span>: 0644
    <span class="org-variable-name">owner</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.user </span><span class="org-builtin">}}</span><span class="org-string">'</span>
    <span class="org-keyword">group</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.group </span><span class="org-builtin">}}</span><span class="org-string">'</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> create detect-second-diplay script</span>
  <span class="org-keyword">template</span>:
    <span class="org-variable-name">src</span>: templates/bin/detect-second-display.j2
    <span class="org-variable-name">dest</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.home </span><span class="org-builtin">}}</span><span class="org-string">/bin/detect-second-display'</span>
    <span class="org-variable-name">mode</span>: 0755
    <span class="org-variable-name">owner</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.user </span><span class="org-builtin">}}</span><span class="org-string">'</span>
    <span class="org-keyword">group</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.group </span><span class="org-builtin">}}</span><span class="org-string">'</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> create switch-displays script</span>
  <span class="org-keyword">template</span>:
    <span class="org-variable-name">src</span>: templates/bin/switch-displays.j2
    <span class="org-variable-name">dest</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.home </span><span class="org-builtin">}}</span><span class="org-string">/bin/switch-displays'</span>
    <span class="org-variable-name">mode</span>: 0755
    <span class="org-variable-name">owner</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.user </span><span class="org-builtin">}}</span><span class="org-string">'</span>
    <span class="org-keyword">group</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.group </span><span class="org-builtin">}}</span><span class="org-string">'</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> create openbox-second.service for the session</span>
  <span class="org-keyword">template</span>:
    <span class="org-variable-name">src</span>: templates/systemd/user/openbox-second.service.j2
    <span class="org-variable-name">dest</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.home </span><span class="org-builtin">}}</span><span class="org-string">/.config/systemd/user/openbox-second.service'</span>
    <span class="org-variable-name">mode</span>: 0644
    <span class="org-variable-name">owner</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.user </span><span class="org-builtin">}}</span><span class="org-string">'</span>
    <span class="org-keyword">group</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.group </span><span class="org-builtin">}}</span><span class="org-string">'</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> create irexec configuration for the session</span>
  <span class="org-variable-name">block</span>:
    - <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> expand template for irexec.service</span>
      <span class="org-keyword">template</span>:
        <span class="org-variable-name">src</span>: templates/systemd/user/irexec.service.j2
        <span class="org-variable-name">dest</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.home </span><span class="org-builtin">}}</span><span class="org-string">/.config/systemd/user/irexec.service'</span>
        <span class="org-variable-name">mode</span>: 0644
        <span class="org-variable-name">owner</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.user </span><span class="org-builtin">}}</span><span class="org-string">'</span>
        <span class="org-keyword">group</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.group </span><span class="org-builtin">}}</span><span class="org-string">'</span>
    - <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> expand template for .lircrc</span>
      <span class="org-keyword">template</span>:
        <span class="org-variable-name">src</span>: templates/.lircrc.j2
        <span class="org-variable-name">dest</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.home </span><span class="org-builtin">}}</span><span class="org-string">/.lircrc'</span>
        <span class="org-variable-name">mode</span>: 0644
        <span class="org-variable-name">owner</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.user </span><span class="org-builtin">}}</span><span class="org-string">'</span>
        <span class="org-keyword">group</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.group </span><span class="org-builtin">}}</span><span class="org-string">'</span>
        <span class="org-variable-name">force</span>: <span class="org-constant">no</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> link /usr/bin/start-desktop to /var/lib/vdr/plugins/desktop/starter</span>
  <span class="org-keyword">file</span>:
    <span class="org-variable-name">src</span>: /usr/bin/start-desktop
    <span class="org-variable-name">dest</span>: /var/lib/vdr/plugins/desktop/starter
    <span class="org-variable-name">state</span>: link

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> enable and start yavdr-xorg for the vdr user</span>
  <span class="org-keyword">systemd</span>:
    <span class="org-variable-name">daemon_reload</span>: <span class="org-constant">yes</span>
    <span class="org-variable-name">name</span>: <span class="org-string">'yavdr-xorg'</span>
    <span class="org-variable-name">enabled</span>: <span class="org-constant">yes</span>
    <span class="org-variable-name">state</span>: started

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> enable tmux.service</span>
  <span class="org-keyword">systemd</span>:
    <span class="org-variable-name">name</span>: tmux.service
    <span class="org-variable-name">state</span>: started
    <span class="org-variable-name">masked</span>: <span class="org-constant">no</span>
    <span class="org-variable-name">enabled</span>: <span class="org-constant">yes</span>
    <span class="org-variable-name">scope</span>: user
  <span class="org-builtin">become</span>: <span class="org-constant">yes</span>
  <span class="org-builtin">become_user</span>: vdr

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> enable and start udiskie.service</span>
  <span class="org-keyword">systemd</span>:
    <span class="org-variable-name">name</span>: <span class="org-string">'udiskie.service'</span>
    <span class="org-variable-name">state</span>: started
    <span class="org-variable-name">masked</span>: <span class="org-constant">no</span>
    <span class="org-variable-name">enabled</span>: <span class="org-constant">yes</span>
    <span class="org-variable-name">scope</span>: user
  <span class="org-builtin">become</span>: <span class="org-constant">yes</span>
  <span class="org-builtin">become_user</span>: vdr

</pre>
</div>
</div>
</li>
</ol>
</div>

<div id="outline-container-orgda07bc0" class="outline-4">
<h4 id="orgda07bc0"><span class="section-number-4">6.16.3.</span> Templates</h4>
<div class="outline-text-4" id="text-6-16-3">
</div>
<ol class="org-ol">
<li><a id="org02fdff4"></a>xorg configuration<br />
<ol class="org-ol">
<li><a id="orga65dd07"></a>.Xresources<br />
<div class="outline-text-6" id="text-6-16-3-1-1">
<div class="org-src-container">
<pre class="src src-shell">xterm*background: Black
xterm*foreground: grey
XTerm*locale: true
XTerm*metaSendsEscape: true
XTerm*eightBitInput: false
XTerm*backarrowKey: false
XTerm*ttyModes: erase ^?
Xterm*saveLines: 4096
XTerm.vt100.metaSendsEscape: true
XTerm.vt100.geometry: 80x32
XTerm.vt100.renderFont: true
xterm*faceName: xft:DejaVu Sans Mono
xterm*faceSize: 14
xterm*renderFont: true
XTerm.vt100.faceName: xft:DejaVu Sans Mono:<span class="org-variable-name">size</span>=12:<span class="org-variable-name">antialias</span>=false
XTerm.vt100.font: 7x13
</pre>
</div>
</div>
</li>
<li><a id="org4bfdfce"></a>.xinitrc<br />
<div class="outline-text-6" id="text-6-16-3-1-2">
<div class="org-src-container">
<pre class="src src-shell">{{ ansible_managed | comment }}
<span class="org-keyword">exec</span> openbox-session
</pre>
</div>
</div>
</li>
</ol>
</li>
<li><a id="orgbbb78f7"></a>openbox<br />
<ol class="org-ol">
<li><a id="orgfcc3c9c"></a>autostart<br />
<div class="outline-text-6" id="text-6-16-3-2-1">
<div class="org-src-container">
<pre class="src src-shell"><span class="org-comment-delimiter"># </span><span class="org-comment">forward environment variables to an environment file and the systemd user session</span>
env | grep <span class="org-string">"DISPLAY\|DBUS_SESSION_BUS_ADDRESS\|XDG_RUNTIME_DIR"</span> &gt; ~/.session-env
systemctl --user import-environment DISPLAY XAUTHORITY XDG_RUNTIME_DIR DBUS_SESSION_BUS_ADDRESS

feh --no-fehbg  --bg-center <span class="org-string">"/usr/share/yavdr/images/yavdr_logo.png"</span>

<span class="org-variable-name">enabled_services</span>=(
    <span class="org-string">"detect-second-display.service"</span>
    <span class="org-string">"openbox-second.service"</span>
    <span class="org-string">"yavdr-frontend.service"</span> <span class="org-string">"pulseaudio.socket"</span>
    <span class="org-string">"pulseaudio.service"</span> <span class="org-string">"wm-exit.service"</span> <span class="org-string">"irexec.service"</span>)
<span class="org-variable-name">disabled_services</span>=()

<span class="org-comment-delimiter"># </span><span class="org-comment">enable configured services for the user session</span>
<span class="org-keyword">for</span> service<span class="org-keyword"> in</span> <span class="org-string">"${enabled_services[@]}"</span>; <span class="org-keyword">do</span>
  systemctl --user enable <span class="org-string">"$service"</span>
<span class="org-keyword">done</span>

<span class="org-comment-delimiter"># </span><span class="org-comment">disable unwanted services for the user session</span>
<span class="org-keyword">for</span> service<span class="org-keyword"> in</span> <span class="org-string">"${disabled_services[@]}"</span>; <span class="org-keyword">do</span>
  systemctl --user disable <span class="org-string">"$service"</span>
<span class="org-keyword">done</span>

<span class="org-keyword">if</span> which dbus-update-activation-environment &gt;/dev/null 2&gt;&amp;1; <span class="org-keyword">then</span>
        dbus-update-activation-environment DISPLAY XAUTHORITY XDG_RUNTIME_DIR
<span class="org-keyword">fi</span>

<span class="org-comment-delimiter"># </span><span class="org-comment">start systemd units for the yavdr user session</span>
systemctl --user isolate yavdr-desktop.target
</pre>
</div>
</div>
</li>
<li><a id="org4a5a00c"></a>rc.xml<br />
<div class="outline-text-6" id="text-6-16-3-2-2">
<div class="org-src-container">
<pre class="src src-xml"><span class="org-nxml-processing-instruction-delimiter">&lt;?</span><span class="org-nxml-processing-instruction-target">xml</span> <span class="org-nxml-processing-instruction-content">version="1.0" encoding="UTF-8"</span><span class="org-nxml-processing-instruction-delimiter">?&gt;</span>
<span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">openbox_config</span> <span class="org-nxml-namespace-attribute-xmlns">xmlns</span>=<span class="org-string">"http://openbox.org/3.4/rc"</span> <span class="org-nxml-namespace-attribute-xmlns">xmlns</span><span class="org-nxml-namespace-attribute-colon">:</span><span class="org-nxml-namespace-attribute-prefix">xi</span>=<span class="org-string">"http://www.w3.org/2001/XInclude"</span><span class="org-nxml-tag-delimiter">&gt;</span>
<span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">Do not edit this file, it will be overwritten on install.</span>
<span class="org-comment">        Copy the file to $HOME/.config/openbox/ instead. </span><span class="org-comment-delimiter">--&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">resistance</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">strength</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">10</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">strength</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">screen_edge_strength</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">20</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">screen_edge_strength</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">resistance</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">focus</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">focusNew</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">yes</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">focusNew</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">always try to focus new windows when they appear. other rules do</span>
<span class="org-comment">       apply </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">followMouse</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">no</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">followMouse</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">move focus to a window when you move the mouse into it </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">focusLast</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">yes</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">focusLast</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">focus the last used window when changing desktops, instead of the one</span>
<span class="org-comment">       under the mouse pointer. when followMouse is enabled </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">underMouse</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">no</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">underMouse</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">move focus under the mouse, even when the mouse is not moving </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">focusDelay</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">200</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">focusDelay</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">when followMouse is enabled, the mouse must be inside the window for</span>
<span class="org-comment">       this many milliseconds (1000 = 1 sec) before moving focus to it </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">raiseOnFocus</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">no</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">raiseOnFocus</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">when followMouse is enabled, and a window is given focus by moving the</span>
<span class="org-comment">       mouse into it, also raise the window </span><span class="org-comment-delimiter">--&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">focus</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">placement</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">policy</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Smart</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">policy</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">'Smart' or 'UnderMouse' </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">center</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">yes</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">center</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">whether to place windows in the center of the free area found or</span>
<span class="org-comment">       the top left corner </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">monitor</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Active</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">monitor</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">with Smart placement on a multi-monitor system, try to place new windows</span>
<span class="org-comment">       on: 'Any' - any monitor, 'Mouse' - where the mouse is, 'Active' - where</span>
<span class="org-comment">       the active window is, 'Primary' - only on the primary monitor </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">primaryMonitor</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Active</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">primaryMonitor</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">The monitor where Openbox should place popup dialogs such as the</span>
<span class="org-comment">       focus cycling popup, or the desktop switch popup.  It can be an index</span>
<span class="org-comment">       from 1, specifying a particular monitor.  Or it can be one of the</span>
<span class="org-comment">       following: 'Mouse' - where the mouse is, or</span>
<span class="org-comment">                  'Active' - where the active window is </span><span class="org-comment-delimiter">--&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">placement</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">theme</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">name</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Onyx</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">name</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">titleLayout</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">NLIMC</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">titleLayout</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!--</span>
<span class="org-comment-delimiter">      </span><span class="org-comment">available characters are NDSLIMC, each can occur at most once.</span>
<span class="org-comment">      N: window icon</span>
<span class="org-comment">      L: window label (AKA title).</span>
<span class="org-comment">      I: iconify</span>
<span class="org-comment">      M: maximize</span>
<span class="org-comment">      C: close</span>
<span class="org-comment">      S: shade (roll up/down)</span>
<span class="org-comment">      D: omnipresent (on all desktops).</span>
<span class="org-comment">  </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">keepBorder</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">no</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">keepBorder</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">animateIconify</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">yes</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">animateIconify</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">font</span> <span class="org-nxml-attribute-local-name">place</span>=<span class="org-string">"ActiveWindow"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">name</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">sans</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">name</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">size</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">14</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">size</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">font size in points </span><span class="org-comment-delimiter">--&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">weight</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">bold</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">weight</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">'bold' or 'normal' </span><span class="org-comment-delimiter">--&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">slant</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">normal</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">slant</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">'italic' or 'normal' </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">font</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">font</span> <span class="org-nxml-attribute-local-name">place</span>=<span class="org-string">"InactiveWindow"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">name</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">sans</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">name</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">size</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">14</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">size</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">font size in points </span><span class="org-comment-delimiter">--&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">weight</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">bold</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">weight</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">'bold' or 'normal' </span><span class="org-comment-delimiter">--&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">slant</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">normal</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">slant</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">'italic' or 'normal' </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">font</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">font</span> <span class="org-nxml-attribute-local-name">place</span>=<span class="org-string">"MenuHeader"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">name</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">sans</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">name</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">size</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">16</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">size</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">font size in points </span><span class="org-comment-delimiter">--&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">weight</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">normal</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">weight</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">'bold' or 'normal' </span><span class="org-comment-delimiter">--&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">slant</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">normal</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">slant</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">'italic' or 'normal' </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">font</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">font</span> <span class="org-nxml-attribute-local-name">place</span>=<span class="org-string">"MenuItem"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">name</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">sans</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">name</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">size</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">16</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">size</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">font size in points </span><span class="org-comment-delimiter">--&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">weight</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">normal</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">weight</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">'bold' or 'normal' </span><span class="org-comment-delimiter">--&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">slant</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">normal</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">slant</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">'italic' or 'normal' </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">font</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">font</span> <span class="org-nxml-attribute-local-name">place</span>=<span class="org-string">"ActiveOnScreenDisplay"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">name</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">sans</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">name</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">size</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">16</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">size</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">font size in points </span><span class="org-comment-delimiter">--&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">weight</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">bold</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">weight</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">'bold' or 'normal' </span><span class="org-comment-delimiter">--&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">slant</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">normal</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">slant</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">'italic' or 'normal' </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">font</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">font</span> <span class="org-nxml-attribute-local-name">place</span>=<span class="org-string">"InactiveOnScreenDisplay"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">name</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">sans</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">name</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">size</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">16</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">size</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">font size in points </span><span class="org-comment-delimiter">--&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">weight</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">bold</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">weight</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">'bold' or 'normal' </span><span class="org-comment-delimiter">--&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">slant</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">normal</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">slant</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">'italic' or 'normal' </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">font</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">theme</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">desktops</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">this stuff is only used at startup, pagers allow you to change them</span>
<span class="org-comment">       during a session</span>

<span class="org-comment">       these are default values to use when other ones are not already set</span>
<span class="org-comment">       by other applications, or saved in your session</span>

<span class="org-comment">       use obconf if you want to change these without having to log out</span>
<span class="org-comment">       and back in </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">number</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">2</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">number</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">firstdesk</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">1</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">firstdesk</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">names</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">set names up here if you want to, like this:</span>
<span class="org-comment">    &lt;name&gt;desktop 1&lt;/name&gt;</span>
<span class="org-comment">    &lt;name&gt;desktop 2&lt;/name&gt;</span>
<span class="org-comment">    </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">names</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">popupTime</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">875</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">popupTime</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">The number of milliseconds to show the popup for when switching</span>
<span class="org-comment">       desktops.  Set this to 0 to disable the popup. </span><span class="org-comment-delimiter">--&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">desktops</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">resize</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">drawContents</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">yes</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">drawContents</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">popupShow</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Nonpixel</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">popupShow</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">'Always', 'Never', or 'Nonpixel' (xterms and such) </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">popupPosition</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Center</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">popupPosition</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">'Center', 'Top', or 'Fixed' </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">popupFixedPosition</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">these are used if popupPosition is set to 'Fixed' </span><span class="org-comment-delimiter">--&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">x</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">10</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">x</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">positive number for distance from left edge, negative number for</span>
<span class="org-comment">         distance from right edge, or 'Center' </span><span class="org-comment-delimiter">--&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">y</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">10</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">y</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">positive number for distance from top edge, negative number for</span>
<span class="org-comment">         distance from bottom edge, or 'Center' </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">popupFixedPosition</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">resize</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">You can reserve a portion of your screen where windows will not cover when</span>
<span class="org-comment">     they are maximized, or when they are initially placed.</span>
<span class="org-comment">     Many programs reserve space automatically, but you can use this in other</span>
<span class="org-comment">     cases. </span><span class="org-comment-delimiter">--&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">margins</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">top</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">0</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">top</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">bottom</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">0</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">bottom</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">left</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">0</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">left</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">right</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">0</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">right</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">margins</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">dock</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">position</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">TopLeft</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">position</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">(Top|Bottom)(Left|Right|)|Top|Bottom|Left|Right|Floating </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">floatingX</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">0</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">floatingX</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">floatingY</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">0</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">floatingY</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">noStrut</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">no</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">noStrut</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">stacking</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Above</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">stacking</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">'Above', 'Normal', or 'Below' </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">direction</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Vertical</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">direction</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">'Vertical' or 'Horizontal' </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">autoHide</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">no</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">autoHide</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">hideDelay</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">300</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">hideDelay</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">in milliseconds (1000 = 1 second) </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">showDelay</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">300</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">showDelay</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">in milliseconds (1000 = 1 second) </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">moveButton</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Middle</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">moveButton</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">'Left', 'Middle', 'Right' </span><span class="org-comment-delimiter">--&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">dock</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">keyboard</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">chainQuitKey</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">C-g</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">chainQuitKey</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">Keybindings for yavdr-frontend </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">keybind</span> <span class="org-nxml-attribute-local-name">key</span>=<span class="org-string">"W-a"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Execute"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">command</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">frontend-dbus-send start</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">command</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">keybind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">keybind</span> <span class="org-nxml-attribute-local-name">key</span>=<span class="org-string">"W-s"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Execute"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">command</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">frontend-dbus-send stop</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">command</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">keybind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">keybind</span> <span class="org-nxml-attribute-local-name">key</span>=<span class="org-string">"W-x"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Execute"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">command</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">frontend-dbus-send switchbetween kodi vdr</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">command</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">keybind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">keybind</span> <span class="org-nxml-attribute-local-name">key</span>=<span class="org-string">"XF86HomePage"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Execute"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">command</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">frontend-dbus-send toggle</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">command</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">keybind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">Keybindings for desktop switching </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">keybind</span> <span class="org-nxml-attribute-local-name">key</span>=<span class="org-string">"C-A-Left"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"GoToDesktop"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">left</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">wrap</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">no</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">wrap</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">keybind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">keybind</span> <span class="org-nxml-attribute-local-name">key</span>=<span class="org-string">"C-A-Right"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"GoToDesktop"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">right</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">wrap</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">no</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">wrap</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">keybind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">keybind</span> <span class="org-nxml-attribute-local-name">key</span>=<span class="org-string">"C-A-Up"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"GoToDesktop"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">up</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">wrap</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">no</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">wrap</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">keybind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">keybind</span> <span class="org-nxml-attribute-local-name">key</span>=<span class="org-string">"C-A-Down"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"GoToDesktop"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">down</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">wrap</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">no</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">wrap</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">keybind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">keybind</span> <span class="org-nxml-attribute-local-name">key</span>=<span class="org-string">"S-A-Left"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"SendToDesktop"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">left</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">wrap</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">no</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">wrap</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">keybind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">keybind</span> <span class="org-nxml-attribute-local-name">key</span>=<span class="org-string">"S-A-Right"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"SendToDesktop"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">right</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">wrap</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">no</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">wrap</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">keybind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">keybind</span> <span class="org-nxml-attribute-local-name">key</span>=<span class="org-string">"S-A-Up"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"SendToDesktop"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">up</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">wrap</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">no</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">wrap</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">keybind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">keybind</span> <span class="org-nxml-attribute-local-name">key</span>=<span class="org-string">"S-A-Down"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"SendToDesktop"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">down</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">wrap</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">no</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">wrap</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">keybind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">keybind</span> <span class="org-nxml-attribute-local-name">key</span>=<span class="org-string">"W-F1"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"GoToDesktop"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">1</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">keybind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">keybind</span> <span class="org-nxml-attribute-local-name">key</span>=<span class="org-string">"W-F2"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"GoToDesktop"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">2</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">keybind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">keybind</span> <span class="org-nxml-attribute-local-name">key</span>=<span class="org-string">"W-F3"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"GoToDesktop"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">3</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">keybind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">keybind</span> <span class="org-nxml-attribute-local-name">key</span>=<span class="org-string">"W-F4"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"GoToDesktop"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">4</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">keybind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">keybind</span> <span class="org-nxml-attribute-local-name">key</span>=<span class="org-string">"W-d"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"ToggleShowDesktop"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">keybind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">Keybindings for windows </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">keybind</span> <span class="org-nxml-attribute-local-name">key</span>=<span class="org-string">"A-F4"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Close"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">keybind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">keybind</span> <span class="org-nxml-attribute-local-name">key</span>=<span class="org-string">"A-Escape"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Lower"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"FocusToBottom"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Unfocus"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">keybind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">keybind</span> <span class="org-nxml-attribute-local-name">key</span>=<span class="org-string">"A-space"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"ShowMenu"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">client-menu</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">keybind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">Take a screenshot of the current window with scrot when Alt+Print are pressed </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">keybind</span> <span class="org-nxml-attribute-local-name">key</span>=<span class="org-string">"A-Print"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Execute"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">command</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">scrot -s</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">command</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">keybind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">Keybindings for window switching </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">keybind</span> <span class="org-nxml-attribute-local-name">key</span>=<span class="org-string">"A-Tab"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"NextWindow"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">finalactions</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Focus"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Raise"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Unshade"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">finalactions</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">keybind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">keybind</span> <span class="org-nxml-attribute-local-name">key</span>=<span class="org-string">"A-S-Tab"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"PreviousWindow"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">finalactions</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Focus"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Raise"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Unshade"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">finalactions</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">keybind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">keybind</span> <span class="org-nxml-attribute-local-name">key</span>=<span class="org-string">"C-A-Tab"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"NextWindow"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">panels</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">yes</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">panels</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">desktop</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">yes</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">desktop</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">finalactions</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Focus"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Raise"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Unshade"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">finalactions</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">keybind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">Keybindings for window switching with the arrow keys </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">keybind</span> <span class="org-nxml-attribute-local-name">key</span>=<span class="org-string">"W-S-Right"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"DirectionalCycleWindows"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">direction</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">right</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">direction</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">keybind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">keybind</span> <span class="org-nxml-attribute-local-name">key</span>=<span class="org-string">"W-S-Left"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"DirectionalCycleWindows"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">direction</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">left</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">direction</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">keybind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">keybind</span> <span class="org-nxml-attribute-local-name">key</span>=<span class="org-string">"W-S-Up"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"DirectionalCycleWindows"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">direction</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">up</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">direction</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">keybind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">keybind</span> <span class="org-nxml-attribute-local-name">key</span>=<span class="org-string">"W-S-Down"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"DirectionalCycleWindows"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">direction</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">down</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">direction</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">keybind</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">keyboard</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mouse</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">dragThreshold</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">1</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">dragThreshold</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">number of pixels the mouse must move before a drag begins </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">doubleClickTime</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">500</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">doubleClickTime</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">in milliseconds (1000 = 1 second) </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">screenEdgeWarpTime</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">400</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">screenEdgeWarpTime</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">Time before changing desktops when the pointer touches the edge of the</span>
<span class="org-comment">       screen while moving a window, in milliseconds (1000 = 1 second).</span>
<span class="org-comment">       Set this to 0 to disable warping </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">screenEdgeWarpMouse</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">false</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">screenEdgeWarpMouse</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">Set this to TRUE to move the mouse pointer across the desktop when</span>
<span class="org-comment">       switching due to hitting the edge of the screen </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">context</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Frame"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"A-Left"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Press"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Focus"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Raise"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"A-Left"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Click"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Unshade"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"A-Left"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Drag"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Move"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"A-Right"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Press"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Focus"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Raise"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Unshade"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"A-Right"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Drag"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Resize"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"A-Middle"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Press"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Lower"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"FocusToBottom"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Unfocus"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"A-Up"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Click"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"GoToDesktop"</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">previous</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"A-Down"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Click"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"GoToDesktop"</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">next</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"C-A-Up"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Click"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"GoToDesktop"</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">previous</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"C-A-Down"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Click"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"GoToDesktop"</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">next</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"A-S-Up"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Click"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"SendToDesktop"</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">previous</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"A-S-Down"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Click"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"SendToDesktop"</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">next</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">context</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">context</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Titlebar"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Left"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Drag"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Move"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Left"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"DoubleClick"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"ToggleMaximize"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Up"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Click"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"if"</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">shaded</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">no</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">shaded</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">then</span><span class="org-nxml-tag-delimiter">&gt;</span>
            <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Shade"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
            <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"FocusToBottom"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
            <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Unfocus"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
            <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Lower"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">then</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Down"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Click"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"if"</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">shaded</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">yes</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">shaded</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">then</span><span class="org-nxml-tag-delimiter">&gt;</span>
            <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Unshade"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
            <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Raise"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">then</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">context</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">context</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Titlebar Top Right Bottom Left TLCorner TRCorner BRCorner BLCorner"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Left"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Press"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Focus"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Raise"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Unshade"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Middle"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Press"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Lower"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"FocusToBottom"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Unfocus"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Right"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Press"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Focus"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Raise"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"ShowMenu"</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">client-menu</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">context</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">context</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Top"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Left"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Drag"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Resize"</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">edge</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">top</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">edge</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">context</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">context</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Left"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Left"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Drag"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Resize"</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">edge</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">left</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">edge</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">context</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">context</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Right"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Left"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Drag"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Resize"</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">edge</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">right</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">edge</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">context</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">context</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Bottom"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Left"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Drag"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Resize"</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">edge</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">bottom</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">edge</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Right"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Press"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Focus"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Raise"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"ShowMenu"</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">client-menu</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">context</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">context</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"TRCorner BRCorner TLCorner BLCorner"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Left"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Press"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Focus"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Raise"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Unshade"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Left"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Drag"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Resize"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">context</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">context</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Client"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Left"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Press"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Focus"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Raise"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Middle"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Press"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Focus"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Raise"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Right"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Press"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Focus"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Raise"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">context</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">context</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Icon"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Left"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Press"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Focus"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Raise"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Unshade"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"ShowMenu"</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">client-menu</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Right"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Press"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Focus"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Raise"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"ShowMenu"</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">client-menu</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">context</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">context</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"AllDesktops"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Left"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Press"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Focus"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Raise"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Unshade"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Left"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Click"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"ToggleOmnipresent"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">context</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">context</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Shade"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Left"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Press"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Focus"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Raise"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Left"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Click"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"ToggleShade"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">context</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">context</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Iconify"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Left"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Press"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Focus"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Raise"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Left"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Click"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Iconify"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">context</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">context</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Maximize"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Left"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Press"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Focus"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Raise"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Unshade"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Middle"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Press"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Focus"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Raise"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Unshade"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Right"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Press"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Focus"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Raise"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Unshade"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Left"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Click"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"ToggleMaximize"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Middle"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Click"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"ToggleMaximize"</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">direction</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">vertical</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">direction</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Right"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Click"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"ToggleMaximize"</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">direction</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">horizontal</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">direction</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">context</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">context</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Close"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Left"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Press"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Focus"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Raise"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Unshade"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Left"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Click"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Close"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">context</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">context</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Desktop"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Up"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Click"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"GoToDesktop"</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">previous</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Down"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Click"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"GoToDesktop"</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">next</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"A-Up"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Click"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"GoToDesktop"</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">previous</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"A-Down"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Click"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"GoToDesktop"</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">next</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"C-A-Up"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Click"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"GoToDesktop"</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">previous</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"C-A-Down"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Click"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"GoToDesktop"</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">next</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Left"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Press"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Focus"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Raise"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Right"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Press"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Focus"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Raise"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">context</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">context</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Root"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">Menus </span><span class="org-comment-delimiter">--&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Middle"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Press"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"ShowMenu"</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">client-list-combined-menu</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Right"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Press"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"ShowMenu"</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">root-menu</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">context</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">context</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"MoveResize"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Up"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Click"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"GoToDesktop"</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">previous</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Down"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Click"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"GoToDesktop"</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">next</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"A-Up"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Click"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"GoToDesktop"</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">previous</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"A-Down"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Click"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"GoToDesktop"</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">next</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">context</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mouse</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">You can specify more than one menu file in here and they are all loaded,</span>
<span class="org-comment">       just don't make menu ids clash or, well, it'll be kind of pointless </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">default menu file (or custom one in $HOME/.config/openbox/) </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">system menu files on Debian systems </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">file</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">/var/lib/openbox/debian-menu.xml</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">file</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">file</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">menu.xml</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">file</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">hideDelay</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">200</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">hideDelay</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">if a press-release lasts longer than this setting (in milliseconds), the</span>
<span class="org-comment">       menu is hidden again </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">middle</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">no</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">middle</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">center submenus vertically about the parent entry </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">submenuShowDelay</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">100</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">submenuShowDelay</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">time to delay before showing a submenu after hovering over the parent</span>
<span class="org-comment">       entry.</span>
<span class="org-comment">       if this is a negative value, then the delay is infinite and the</span>
<span class="org-comment">       submenu will not be shown until it is clicked on </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">submenuHideDelay</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">400</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">submenuHideDelay</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">time to delay before hiding a submenu when selecting another</span>
<span class="org-comment">       entry in parent menu</span>
<span class="org-comment">       if this is a negative value, then the delay is infinite and the</span>
<span class="org-comment">       submenu will not be hidden until a different submenu is opened </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">showIcons</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">yes</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">showIcons</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">controls if icons appear in the client-list-(combined-)menu </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">manageDesktops</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">yes</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">manageDesktops</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">show the manage desktops section in the client-list-(combined-)menu </span><span class="org-comment-delimiter">--&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!--</span>
<span class="org-comment-delimiter">  </span><span class="org-comment"># this is an example with comments through out. use these to make your</span>
<span class="org-comment">  # own rules, but without the comments of course.</span>
<span class="org-comment">  # you may use one or more of the name/class/role/title/type rules to specify</span>
<span class="org-comment">  # windows to match</span>

<span class="org-comment">  &lt;application name="the window's _OB_APP_NAME property (see obxprop)"</span>
<span class="org-comment">              class="the window's _OB_APP_CLASS property (see obxprop)"</span>
<span class="org-comment">          groupname="the window's _OB_APP_GROUP_NAME property (see obxprop)"</span>
<span class="org-comment">         groupclass="the window's _OB_APP_GROUP_CLASS property (see obxprop)"</span>
<span class="org-comment">               role="the window's _OB_APP_ROLE property (see obxprop)"</span>
<span class="org-comment">              title="the window's _OB_APP_TITLE property (see obxprop)"</span>
<span class="org-comment">               type="the window's _OB_APP_TYPE property (see obxprob)..</span>
<span class="org-comment">                      (if unspecified, then it is 'dialog' for child windows)"&gt;</span>
<span class="org-comment">  # you may set only one of name/class/role/title/type, or you may use more</span>
<span class="org-comment">  # than one together to restrict your matches.</span>

<span class="org-comment">  # the name, class, role, and title use simple wildcard matching such as those</span>
<span class="org-comment">  # used by a shell. you can use * to match any characters and ? to match</span>
<span class="org-comment">  # any single character.</span>

<span class="org-comment">  # the type is one of: normal, dialog, splash, utility, menu, toolbar, dock,</span>
<span class="org-comment">  #    or desktop</span>

<span class="org-comment">  # when multiple rules match a window, they will all be applied, in the</span>
<span class="org-comment">  # order that they appear in this list</span>


<span class="org-comment">    # each rule element can be left out or set to 'default' to specify to not</span>
<span class="org-comment">    # change that attribute of the window</span>

<span class="org-comment">    &lt;decor&gt;yes&lt;/decor&gt;</span>
<span class="org-comment">    # enable or disable window decorations</span>

<span class="org-comment">    &lt;shade&gt;no&lt;/shade&gt;</span>
<span class="org-comment">    # make the window shaded when it appears, or not</span>

<span class="org-comment">    &lt;position force="no"&gt;</span>
<span class="org-comment">      # the position is only used if both an x and y coordinate are provided</span>
<span class="org-comment">      # (and not set to 'default')</span>
<span class="org-comment">      # when force is "yes", then the window will be placed here even if it</span>
<span class="org-comment">      # says you want it placed elsewhere.  this is to override buggy</span>
<span class="org-comment">      # applications who refuse to behave</span>
<span class="org-comment">      &lt;x&gt;center&lt;/x&gt;</span>
<span class="org-comment">      # a number like 50, or 'center' to center on screen. use a negative number</span>
<span class="org-comment">      # to start from the right (or bottom for &lt;y&gt;), ie -50 is 50 pixels from</span>
<span class="org-comment">      # the right edge (or bottom). use 'default' to specify using value</span>
<span class="org-comment">      # provided by the application, or chosen by openbox, instead.</span>
<span class="org-comment">      &lt;y&gt;200&lt;/y&gt;</span>
<span class="org-comment">      &lt;monitor&gt;1&lt;/monitor&gt;</span>
<span class="org-comment">      # specifies the monitor in a xinerama setup.</span>
<span class="org-comment">      # 1 is the first head, or 'mouse' for wherever the mouse is</span>
<span class="org-comment">    &lt;/position&gt;</span>

<span class="org-comment">    &lt;size&gt;</span>
<span class="org-comment">      # the size to make the window.</span>
<span class="org-comment">      &lt;width&gt;20&lt;/width&gt;</span>
<span class="org-comment">      # a number like 20, or 'default' to use the size given by the application.</span>
<span class="org-comment">      # you can use fractions such as 1/2 or percentages such as 75% in which</span>
<span class="org-comment">      # case the value is relative to the size of the monitor that the window</span>
<span class="org-comment">      # appears on.</span>
<span class="org-comment">      &lt;height&gt;30%&lt;/height&gt;</span>
<span class="org-comment">    &lt;/size&gt;</span>

<span class="org-comment">    &lt;focus&gt;yes&lt;/focus&gt;</span>
<span class="org-comment">    # if the window should try be given focus when it appears. if this is set</span>
<span class="org-comment">    # to yes it doesn't guarantee the window will be given focus. some</span>
<span class="org-comment">    # restrictions may apply, but Openbox will try to</span>

<span class="org-comment">    &lt;desktop&gt;1&lt;/desktop&gt;</span>
<span class="org-comment">    # 1 is the first desktop, 'all' for all desktops</span>

<span class="org-comment">    &lt;layer&gt;normal&lt;/layer&gt;</span>
<span class="org-comment">    # 'above', 'normal', or 'below'</span>

<span class="org-comment">    &lt;iconic&gt;no&lt;/iconic&gt;</span>
<span class="org-comment">    # make the window iconified when it appears, or not</span>

<span class="org-comment">    &lt;skip_pager&gt;no&lt;/skip_pager&gt;</span>
<span class="org-comment">    # asks to not be shown in pagers</span>

<span class="org-comment">    &lt;skip_taskbar&gt;no&lt;/skip_taskbar&gt;</span>
<span class="org-comment">    # asks to not be shown in taskbars. window cycling actions will also</span>
<span class="org-comment">    # skip past such windows</span>

<span class="org-comment">    &lt;fullscreen&gt;yes&lt;/fullscreen&gt;</span>
<span class="org-comment">    # make the window in fullscreen mode when it appears</span>

<span class="org-comment">    &lt;maximized&gt;true&lt;/maximized&gt;</span>
<span class="org-comment">    # 'Horizontal', 'Vertical' or boolean (yes/no)</span>
<span class="org-comment">  &lt;/application&gt;</span>

<span class="org-comment">  # end of the example</span>
<span class="org-comment-delimiter">--&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">applications</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">application</span> <span class="org-nxml-attribute-local-name">title</span>=<span class="org-string">"softhddevice"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">decor</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">no</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">decor</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">maximized</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">yes</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">maximized</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-comment-delimiter">&lt;!--</span><span class="org-comment">&lt;skip_pager&gt;yes&lt;/skip_pager&gt;</span><span class="org-comment-delimiter">--&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">skip_taskbar</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">no</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">skip_taskbar</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">application</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">application</span> <span class="org-nxml-attribute-local-name">title</span>=<span class="org-string">"softhdcuvid"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">decor</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">no</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">decor</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">maximized</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">yes</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">maximized</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-comment-delimiter">&lt;!--</span><span class="org-comment">&lt;skip_pager&gt;yes&lt;/skip_pager&gt;</span><span class="org-comment-delimiter">--&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">skip_taskbar</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">no</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">skip_taskbar</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">application</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">application</span> <span class="org-nxml-attribute-local-name">title</span>=<span class="org-string">"vaapidevice"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">decor</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">no</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">decor</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">maximized</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">yes</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">maximized</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-comment-delimiter">&lt;!--</span><span class="org-comment">&lt;skip_pager&gt;yes&lt;/skip_pager&gt;</span><span class="org-comment-delimiter">--&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">skip_taskbar</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">no</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">skip_taskbar</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">application</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">application</span> <span class="org-nxml-attribute-local-name">class</span>=<span class="org-string">"VDR"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">decor</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">no</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">decor</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">maximized</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">yes</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">maximized</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-comment-delimiter">&lt;!--</span><span class="org-comment">&lt;skip_pager&gt;yes&lt;/skip_pager&gt;</span><span class="org-comment-delimiter">--&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">skip_taskbar</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">no</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">skip_taskbar</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">application</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">application</span> <span class="org-nxml-attribute-local-name">title</span>=<span class="org-string">"browser"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">decor</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">no</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">decor</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">maximized</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">yes</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">maximized</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-comment-delimiter">&lt;!--</span><span class="org-comment">&lt;skip_pager&gt;yes&lt;/skip_pager&gt;</span><span class="org-comment-delimiter">--&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">skip_taskbar</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">no</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">skip_taskbar</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">application</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">application</span> <span class="org-nxml-attribute-local-name">title</span>=<span class="org-string">"osd2Web"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">decor</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">no</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">decor</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">maximized</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">yes</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">maximized</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-comment-delimiter">&lt;!--</span><span class="org-comment">&lt;skip_pager&gt;yes&lt;/skip_pager&gt;</span><span class="org-comment-delimiter">--&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">skip_taskbar</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">no</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">skip_taskbar</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">application</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">applications</span><span class="org-nxml-tag-delimiter">&gt;</span>
<span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">openbox_config</span><span class="org-nxml-tag-delimiter">&gt;</span>

</pre>
</div>
</div>
</li>
<li><a id="org2745733"></a>rc2.xml<br />
<div class="outline-text-6" id="text-6-16-3-2-3">
<div class="org-src-container">
<pre class="src src-xml"><span class="org-nxml-processing-instruction-delimiter">&lt;?</span><span class="org-nxml-processing-instruction-target">xml</span> <span class="org-nxml-processing-instruction-content">version="1.0" encoding="UTF-8"</span><span class="org-nxml-processing-instruction-delimiter">?&gt;</span>
<span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">openbox_config</span> <span class="org-nxml-namespace-attribute-xmlns">xmlns</span>=<span class="org-string">"http://openbox.org/3.4/rc"</span> <span class="org-nxml-namespace-attribute-xmlns">xmlns</span><span class="org-nxml-namespace-attribute-colon">:</span><span class="org-nxml-namespace-attribute-prefix">xi</span>=<span class="org-string">"http://www.w3.org/2001/XInclude"</span><span class="org-nxml-tag-delimiter">&gt;</span>
<span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">Do not edit this file, it will be overwritten on install.</span>
<span class="org-comment">        Copy the file to $HOME/.config/openbox/ instead. </span><span class="org-comment-delimiter">--&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">resistance</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">strength</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">10</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">strength</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">screen_edge_strength</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">20</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">screen_edge_strength</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">resistance</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">focus</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">focusNew</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">no</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">focusNew</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">always try to focus new windows when they appear. other rules do</span>
<span class="org-comment">       apply </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">followMouse</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">no</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">followMouse</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">move focus to a window when you move the mouse into it </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">focusLast</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">yes</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">focusLast</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">focus the last used window when changing desktops, instead of the one</span>
<span class="org-comment">       under the mouse pointer. when followMouse is enabled </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">underMouse</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">no</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">underMouse</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">move focus under the mouse, even when the mouse is not moving </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">focusDelay</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">200</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">focusDelay</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">when followMouse is enabled, the mouse must be inside the window for</span>
<span class="org-comment">       this many milliseconds (1000 = 1 sec) before moving focus to it </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">raiseOnFocus</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">no</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">raiseOnFocus</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">when followMouse is enabled, and a window is given focus by moving the</span>
<span class="org-comment">       mouse into it, also raise the window </span><span class="org-comment-delimiter">--&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">focus</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">placement</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">policy</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Smart</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">policy</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">'Smart' or 'UnderMouse' </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">center</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">yes</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">center</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">whether to place windows in the center of the free area found or</span>
<span class="org-comment">       the top left corner </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">monitor</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Active</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">monitor</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">with Smart placement on a multi-monitor system, try to place new windows</span>
<span class="org-comment">       on: 'Any' - any monitor, 'Mouse' - where the mouse is, 'Active' - where</span>
<span class="org-comment">       the active window is, 'Primary' - only on the primary monitor </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">primaryMonitor</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Active</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">primaryMonitor</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">The monitor where Openbox should place popup dialogs such as the</span>
<span class="org-comment">       focus cycling popup, or the desktop switch popup.  It can be an index</span>
<span class="org-comment">       from 1, specifying a particular monitor.  Or it can be one of the</span>
<span class="org-comment">       following: 'Mouse' - where the mouse is, or</span>
<span class="org-comment">                  'Active' - where the active window is </span><span class="org-comment-delimiter">--&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">placement</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">theme</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">name</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Onyx</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">name</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">titleLayout</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">NLIMC</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">titleLayout</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!--</span>
<span class="org-comment-delimiter">      </span><span class="org-comment">available characters are NDSLIMC, each can occur at most once.</span>
<span class="org-comment">      N: window icon</span>
<span class="org-comment">      L: window label (AKA title).</span>
<span class="org-comment">      I: iconify</span>
<span class="org-comment">      M: maximize</span>
<span class="org-comment">      C: close</span>
<span class="org-comment">      S: shade (roll up/down)</span>
<span class="org-comment">      D: omnipresent (on all desktops).</span>
<span class="org-comment">  </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">keepBorder</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">no</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">keepBorder</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">animateIconify</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">yes</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">animateIconify</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">font</span> <span class="org-nxml-attribute-local-name">place</span>=<span class="org-string">"ActiveWindow"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">name</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">sans</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">name</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">size</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">14</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">size</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">font size in points </span><span class="org-comment-delimiter">--&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">weight</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">bold</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">weight</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">'bold' or 'normal' </span><span class="org-comment-delimiter">--&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">slant</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">normal</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">slant</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">'italic' or 'normal' </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">font</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">font</span> <span class="org-nxml-attribute-local-name">place</span>=<span class="org-string">"InactiveWindow"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">name</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">sans</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">name</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">size</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">14</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">size</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">font size in points </span><span class="org-comment-delimiter">--&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">weight</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">bold</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">weight</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">'bold' or 'normal' </span><span class="org-comment-delimiter">--&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">slant</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">normal</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">slant</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">'italic' or 'normal' </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">font</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">font</span> <span class="org-nxml-attribute-local-name">place</span>=<span class="org-string">"MenuHeader"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">name</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">sans</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">name</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">size</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">16</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">size</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">font size in points </span><span class="org-comment-delimiter">--&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">weight</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">normal</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">weight</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">'bold' or 'normal' </span><span class="org-comment-delimiter">--&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">slant</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">normal</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">slant</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">'italic' or 'normal' </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">font</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">font</span> <span class="org-nxml-attribute-local-name">place</span>=<span class="org-string">"MenuItem"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">name</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">sans</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">name</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">size</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">16</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">size</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">font size in points </span><span class="org-comment-delimiter">--&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">weight</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">normal</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">weight</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">'bold' or 'normal' </span><span class="org-comment-delimiter">--&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">slant</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">normal</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">slant</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">'italic' or 'normal' </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">font</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">font</span> <span class="org-nxml-attribute-local-name">place</span>=<span class="org-string">"ActiveOnScreenDisplay"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">name</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">sans</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">name</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">size</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">16</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">size</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">font size in points </span><span class="org-comment-delimiter">--&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">weight</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">bold</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">weight</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">'bold' or 'normal' </span><span class="org-comment-delimiter">--&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">slant</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">normal</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">slant</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">'italic' or 'normal' </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">font</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">font</span> <span class="org-nxml-attribute-local-name">place</span>=<span class="org-string">"InactiveOnScreenDisplay"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">name</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">sans</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">name</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">size</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">16</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">size</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">font size in points </span><span class="org-comment-delimiter">--&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">weight</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">bold</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">weight</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">'bold' or 'normal' </span><span class="org-comment-delimiter">--&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">slant</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">normal</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">slant</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">'italic' or 'normal' </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">font</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">theme</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">desktops</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">this stuff is only used at startup, pagers allow you to change them</span>
<span class="org-comment">       during a session</span>

<span class="org-comment">       these are default values to use when other ones are not already set</span>
<span class="org-comment">       by other applications, or saved in your session</span>

<span class="org-comment">       use obconf if you want to change these without having to log out</span>
<span class="org-comment">       and back in </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">number</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">2</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">number</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">firstdesk</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">1</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">firstdesk</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">names</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">set names up here if you want to, like this:</span>
<span class="org-comment">    &lt;name&gt;desktop 1&lt;/name&gt;</span>
<span class="org-comment">    &lt;name&gt;desktop 2&lt;/name&gt;</span>
<span class="org-comment">    </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">names</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">popupTime</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">875</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">popupTime</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">The number of milliseconds to show the popup for when switching</span>
<span class="org-comment">       desktops.  Set this to 0 to disable the popup. </span><span class="org-comment-delimiter">--&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">desktops</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">resize</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">drawContents</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">yes</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">drawContents</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">popupShow</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Nonpixel</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">popupShow</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">'Always', 'Never', or 'Nonpixel' (xterms and such) </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">popupPosition</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Center</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">popupPosition</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">'Center', 'Top', or 'Fixed' </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">popupFixedPosition</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">these are used if popupPosition is set to 'Fixed' </span><span class="org-comment-delimiter">--&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">x</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">10</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">x</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">positive number for distance from left edge, negative number for</span>
<span class="org-comment">         distance from right edge, or 'Center' </span><span class="org-comment-delimiter">--&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">y</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">10</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">y</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">positive number for distance from top edge, negative number for</span>
<span class="org-comment">         distance from bottom edge, or 'Center' </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">popupFixedPosition</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">resize</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">You can reserve a portion of your screen where windows will not cover when</span>
<span class="org-comment">     they are maximized, or when they are initially placed.</span>
<span class="org-comment">     Many programs reserve space automatically, but you can use this in other</span>
<span class="org-comment">     cases. </span><span class="org-comment-delimiter">--&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">margins</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">top</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">0</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">top</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">bottom</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">0</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">bottom</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">left</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">0</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">left</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">right</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">0</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">right</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">margins</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">dock</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">position</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">TopLeft</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">position</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">(Top|Bottom)(Left|Right|)|Top|Bottom|Left|Right|Floating </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">floatingX</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">0</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">floatingX</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">floatingY</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">0</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">floatingY</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">noStrut</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">no</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">noStrut</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">stacking</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Above</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">stacking</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">'Above', 'Normal', or 'Below' </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">direction</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Vertical</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">direction</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">'Vertical' or 'Horizontal' </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">autoHide</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">no</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">autoHide</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">hideDelay</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">300</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">hideDelay</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">in milliseconds (1000 = 1 second) </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">showDelay</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">300</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">showDelay</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">in milliseconds (1000 = 1 second) </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">moveButton</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Middle</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">moveButton</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">'Left', 'Middle', 'Right' </span><span class="org-comment-delimiter">--&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">dock</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">keyboard</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">chainQuitKey</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">C-g</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">chainQuitKey</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">Keybindings for desktop switching </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">keybind</span> <span class="org-nxml-attribute-local-name">key</span>=<span class="org-string">"C-A-Left"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"GoToDesktop"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">left</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">wrap</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">no</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">wrap</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">keybind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">keybind</span> <span class="org-nxml-attribute-local-name">key</span>=<span class="org-string">"C-A-Right"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"GoToDesktop"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">right</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">wrap</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">no</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">wrap</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">keybind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">keybind</span> <span class="org-nxml-attribute-local-name">key</span>=<span class="org-string">"C-A-Up"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"GoToDesktop"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">up</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">wrap</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">no</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">wrap</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">keybind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">keybind</span> <span class="org-nxml-attribute-local-name">key</span>=<span class="org-string">"C-A-Down"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"GoToDesktop"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">down</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">wrap</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">no</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">wrap</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">keybind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">keybind</span> <span class="org-nxml-attribute-local-name">key</span>=<span class="org-string">"S-A-Left"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"SendToDesktop"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">left</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">wrap</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">no</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">wrap</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">keybind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">keybind</span> <span class="org-nxml-attribute-local-name">key</span>=<span class="org-string">"S-A-Right"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"SendToDesktop"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">right</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">wrap</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">no</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">wrap</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">keybind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">keybind</span> <span class="org-nxml-attribute-local-name">key</span>=<span class="org-string">"S-A-Up"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"SendToDesktop"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">up</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">wrap</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">no</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">wrap</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">keybind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">keybind</span> <span class="org-nxml-attribute-local-name">key</span>=<span class="org-string">"S-A-Down"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"SendToDesktop"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">down</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">wrap</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">no</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">wrap</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">keybind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">keybind</span> <span class="org-nxml-attribute-local-name">key</span>=<span class="org-string">"W-F1"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"GoToDesktop"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">1</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">keybind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">keybind</span> <span class="org-nxml-attribute-local-name">key</span>=<span class="org-string">"W-F2"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"GoToDesktop"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">2</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">keybind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">keybind</span> <span class="org-nxml-attribute-local-name">key</span>=<span class="org-string">"W-F3"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"GoToDesktop"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">3</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">keybind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">keybind</span> <span class="org-nxml-attribute-local-name">key</span>=<span class="org-string">"W-F4"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"GoToDesktop"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">4</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">keybind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">keybind</span> <span class="org-nxml-attribute-local-name">key</span>=<span class="org-string">"W-d"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"ToggleShowDesktop"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">keybind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">Keybindings for windows </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">keybind</span> <span class="org-nxml-attribute-local-name">key</span>=<span class="org-string">"A-F4"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Close"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">keybind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">keybind</span> <span class="org-nxml-attribute-local-name">key</span>=<span class="org-string">"A-Escape"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Lower"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"FocusToBottom"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Unfocus"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">keybind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">keybind</span> <span class="org-nxml-attribute-local-name">key</span>=<span class="org-string">"A-space"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"ShowMenu"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">client-menu</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">keybind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">Take a screenshot of the current window with scrot when Alt+Print are pressed </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">keybind</span> <span class="org-nxml-attribute-local-name">key</span>=<span class="org-string">"A-Print"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Execute"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">command</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">scrot -s</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">command</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">keybind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">Keybindings for window switching </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">keybind</span> <span class="org-nxml-attribute-local-name">key</span>=<span class="org-string">"A-Tab"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"NextWindow"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">finalactions</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Focus"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Raise"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Unshade"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">finalactions</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">keybind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">keybind</span> <span class="org-nxml-attribute-local-name">key</span>=<span class="org-string">"A-S-Tab"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"PreviousWindow"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">finalactions</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Focus"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Raise"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Unshade"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">finalactions</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">keybind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">keybind</span> <span class="org-nxml-attribute-local-name">key</span>=<span class="org-string">"C-A-Tab"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"NextWindow"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">panels</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">yes</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">panels</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">desktop</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">yes</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">desktop</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">finalactions</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Focus"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Raise"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Unshade"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">finalactions</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">keybind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">Keybindings for window switching with the arrow keys </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">keybind</span> <span class="org-nxml-attribute-local-name">key</span>=<span class="org-string">"W-S-Right"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"DirectionalCycleWindows"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">direction</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">right</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">direction</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">keybind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">keybind</span> <span class="org-nxml-attribute-local-name">key</span>=<span class="org-string">"W-S-Left"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"DirectionalCycleWindows"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">direction</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">left</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">direction</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">keybind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">keybind</span> <span class="org-nxml-attribute-local-name">key</span>=<span class="org-string">"W-S-Up"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"DirectionalCycleWindows"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">direction</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">up</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">direction</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">keybind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">keybind</span> <span class="org-nxml-attribute-local-name">key</span>=<span class="org-string">"W-S-Down"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"DirectionalCycleWindows"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">direction</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">down</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">direction</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">keybind</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">keyboard</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mouse</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">dragThreshold</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">1</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">dragThreshold</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">number of pixels the mouse must move before a drag begins </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">doubleClickTime</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">500</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">doubleClickTime</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">in milliseconds (1000 = 1 second) </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">screenEdgeWarpTime</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">400</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">screenEdgeWarpTime</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">Time before changing desktops when the pointer touches the edge of the</span>
<span class="org-comment">       screen while moving a window, in milliseconds (1000 = 1 second).</span>
<span class="org-comment">       Set this to 0 to disable warping </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">screenEdgeWarpMouse</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">false</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">screenEdgeWarpMouse</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">Set this to TRUE to move the mouse pointer across the desktop when</span>
<span class="org-comment">       switching due to hitting the edge of the screen </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">context</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Frame"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"A-Left"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Press"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Focus"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Raise"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"A-Left"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Click"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Unshade"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"A-Left"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Drag"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Move"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"A-Right"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Press"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Focus"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Raise"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Unshade"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"A-Right"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Drag"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Resize"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"A-Middle"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Press"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Lower"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"FocusToBottom"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Unfocus"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"A-Up"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Click"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"GoToDesktop"</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">previous</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"A-Down"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Click"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"GoToDesktop"</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">next</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"C-A-Up"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Click"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"GoToDesktop"</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">previous</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"C-A-Down"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Click"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"GoToDesktop"</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">next</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"A-S-Up"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Click"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"SendToDesktop"</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">previous</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"A-S-Down"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Click"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"SendToDesktop"</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">next</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">context</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">context</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Titlebar"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Left"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Drag"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Move"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Left"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"DoubleClick"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"ToggleMaximize"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Up"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Click"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"if"</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">shaded</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">no</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">shaded</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">then</span><span class="org-nxml-tag-delimiter">&gt;</span>
            <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Shade"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
            <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"FocusToBottom"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
            <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Unfocus"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
            <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Lower"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">then</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Down"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Click"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"if"</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">shaded</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">yes</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">shaded</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">then</span><span class="org-nxml-tag-delimiter">&gt;</span>
            <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Unshade"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
            <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Raise"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">then</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">context</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">context</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Titlebar Top Right Bottom Left TLCorner TRCorner BRCorner BLCorner"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Left"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Press"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Focus"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Raise"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Unshade"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Middle"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Press"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Lower"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"FocusToBottom"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Unfocus"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Right"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Press"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Focus"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Raise"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"ShowMenu"</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">client-menu</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">context</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">context</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Top"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Left"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Drag"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Resize"</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">edge</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">top</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">edge</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">context</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">context</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Left"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Left"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Drag"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Resize"</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">edge</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">left</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">edge</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">context</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">context</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Right"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Left"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Drag"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Resize"</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">edge</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">right</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">edge</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">context</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">context</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Bottom"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Left"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Drag"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Resize"</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">edge</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">bottom</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">edge</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Right"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Press"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Focus"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Raise"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"ShowMenu"</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">client-menu</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">context</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">context</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"TRCorner BRCorner TLCorner BLCorner"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Left"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Press"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Focus"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Raise"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Unshade"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Left"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Drag"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Resize"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">context</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">context</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Client"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Left"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Press"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Focus"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Raise"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Middle"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Press"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Focus"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Raise"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Right"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Press"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Focus"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Raise"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">context</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">context</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Icon"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Left"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Press"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Focus"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Raise"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Unshade"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"ShowMenu"</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">client-menu</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Right"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Press"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Focus"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Raise"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"ShowMenu"</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">client-menu</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">context</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">context</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"AllDesktops"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Left"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Press"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Focus"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Raise"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Unshade"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Left"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Click"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"ToggleOmnipresent"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">context</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">context</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Shade"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Left"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Press"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Focus"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Raise"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Left"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Click"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"ToggleShade"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">context</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">context</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Iconify"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Left"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Press"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Focus"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Raise"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Left"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Click"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Iconify"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">context</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">context</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Maximize"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Left"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Press"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Focus"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Raise"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Unshade"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Middle"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Press"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Focus"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Raise"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Unshade"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Right"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Press"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Focus"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Raise"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Unshade"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Left"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Click"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"ToggleMaximize"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Middle"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Click"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"ToggleMaximize"</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">direction</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">vertical</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">direction</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Right"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Click"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"ToggleMaximize"</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">direction</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">horizontal</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">direction</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">context</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">context</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Close"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Left"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Press"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Focus"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Raise"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Unshade"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Left"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Click"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Close"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">context</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">context</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Desktop"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Up"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Click"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"GoToDesktop"</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">previous</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Down"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Click"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"GoToDesktop"</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">next</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"A-Up"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Click"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"GoToDesktop"</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">previous</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"A-Down"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Click"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"GoToDesktop"</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">next</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"C-A-Up"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Click"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"GoToDesktop"</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">previous</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"C-A-Down"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Click"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"GoToDesktop"</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">next</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Left"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Press"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Focus"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Raise"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Right"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Press"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Focus"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Raise"</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">context</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">context</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"Root"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">Menus </span><span class="org-comment-delimiter">--&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Middle"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Press"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"ShowMenu"</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">client-list-combined-menu</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Right"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Press"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"ShowMenu"</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">root-menu</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">context</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">context</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"MoveResize"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Up"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Click"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"GoToDesktop"</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">previous</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"Down"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Click"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"GoToDesktop"</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">next</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"A-Up"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Click"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"GoToDesktop"</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">previous</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mousebind</span> <span class="org-nxml-attribute-local-name">button</span>=<span class="org-string">"A-Down"</span> <span class="org-nxml-attribute-local-name">action</span>=<span class="org-string">"Click"</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">action</span> <span class="org-nxml-attribute-local-name">name</span>=<span class="org-string">"GoToDesktop"</span><span class="org-nxml-tag-delimiter">&gt;</span>
          <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">next</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">to</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">action</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mousebind</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">context</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mouse</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">You can specify more than one menu file in here and they are all loaded,</span>
<span class="org-comment">       just don't make menu ids clash or, well, it'll be kind of pointless </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">default menu file (or custom one in $HOME/.config/openbox/) </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">system menu files on Debian systems </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">file</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">/var/lib/openbox/debian-menu.xml</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">file</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">file</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">menu.xml</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">file</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">hideDelay</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">200</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">hideDelay</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">if a press-release lasts longer than this setting (in milliseconds), the</span>
<span class="org-comment">       menu is hidden again </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">middle</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">no</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">middle</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">center submenus vertically about the parent entry </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">submenuShowDelay</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">100</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">submenuShowDelay</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">time to delay before showing a submenu after hovering over the parent</span>
<span class="org-comment">       entry.</span>
<span class="org-comment">       if this is a negative value, then the delay is infinite and the</span>
<span class="org-comment">       submenu will not be shown until it is clicked on </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">submenuHideDelay</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">400</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">submenuHideDelay</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">time to delay before hiding a submenu when selecting another</span>
<span class="org-comment">       entry in parent menu</span>
<span class="org-comment">       if this is a negative value, then the delay is infinite and the</span>
<span class="org-comment">       submenu will not be hidden until a different submenu is opened </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">showIcons</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">yes</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">showIcons</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">controls if icons appear in the client-list-(combined-)menu </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">manageDesktops</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">yes</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">manageDesktops</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">show the manage desktops section in the client-list-(combined-)menu </span><span class="org-comment-delimiter">--&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-comment-delimiter">&lt;!--</span>
<span class="org-comment-delimiter">  </span><span class="org-comment"># this is an example with comments through out. use these to make your</span>
<span class="org-comment">  # own rules, but without the comments of course.</span>
<span class="org-comment">  # you may use one or more of the name/class/role/title/type rules to specify</span>
<span class="org-comment">  # windows to match</span>

<span class="org-comment">  &lt;application name="the window's _OB_APP_NAME property (see obxprop)"</span>
<span class="org-comment">              class="the window's _OB_APP_CLASS property (see obxprop)"</span>
<span class="org-comment">          groupname="the window's _OB_APP_GROUP_NAME property (see obxprop)"</span>
<span class="org-comment">         groupclass="the window's _OB_APP_GROUP_CLASS property (see obxprop)"</span>
<span class="org-comment">               role="the window's _OB_APP_ROLE property (see obxprop)"</span>
<span class="org-comment">              title="the window's _OB_APP_TITLE property (see obxprop)"</span>
<span class="org-comment">               type="the window's _OB_APP_TYPE property (see obxprob)..</span>
<span class="org-comment">                      (if unspecified, then it is 'dialog' for child windows)"&gt;</span>
<span class="org-comment">  # you may set only one of name/class/role/title/type, or you may use more</span>
<span class="org-comment">  # than one together to restrict your matches.</span>

<span class="org-comment">  # the name, class, role, and title use simple wildcard matching such as those</span>
<span class="org-comment">  # used by a shell. you can use * to match any characters and ? to match</span>
<span class="org-comment">  # any single character.</span>

<span class="org-comment">  # the type is one of: normal, dialog, splash, utility, menu, toolbar, dock,</span>
<span class="org-comment">  #    or desktop</span>

<span class="org-comment">  # when multiple rules match a window, they will all be applied, in the</span>
<span class="org-comment">  # order that they appear in this list</span>


<span class="org-comment">    # each rule element can be left out or set to 'default' to specify to not</span>
<span class="org-comment">    # change that attribute of the window</span>

<span class="org-comment">    &lt;decor&gt;yes&lt;/decor&gt;</span>
<span class="org-comment">    # enable or disable window decorations</span>

<span class="org-comment">    &lt;shade&gt;no&lt;/shade&gt;</span>
<span class="org-comment">    # make the window shaded when it appears, or not</span>

<span class="org-comment">    &lt;position force="no"&gt;</span>
<span class="org-comment">      # the position is only used if both an x and y coordinate are provided</span>
<span class="org-comment">      # (and not set to 'default')</span>
<span class="org-comment">      # when force is "yes", then the window will be placed here even if it</span>
<span class="org-comment">      # says you want it placed elsewhere.  this is to override buggy</span>
<span class="org-comment">      # applications who refuse to behave</span>
<span class="org-comment">      &lt;x&gt;center&lt;/x&gt;</span>
<span class="org-comment">      # a number like 50, or 'center' to center on screen. use a negative number</span>
<span class="org-comment">      # to start from the right (or bottom for &lt;y&gt;), ie -50 is 50 pixels from</span>
<span class="org-comment">      # the right edge (or bottom). use 'default' to specify using value</span>
<span class="org-comment">      # provided by the application, or chosen by openbox, instead.</span>
<span class="org-comment">      &lt;y&gt;200&lt;/y&gt;</span>
<span class="org-comment">      &lt;monitor&gt;1&lt;/monitor&gt;</span>
<span class="org-comment">      # specifies the monitor in a xinerama setup.</span>
<span class="org-comment">      # 1 is the first head, or 'mouse' for wherever the mouse is</span>
<span class="org-comment">    &lt;/position&gt;</span>

<span class="org-comment">    &lt;size&gt;</span>
<span class="org-comment">      # the size to make the window.</span>
<span class="org-comment">      &lt;width&gt;20&lt;/width&gt;</span>
<span class="org-comment">      # a number like 20, or 'default' to use the size given by the application.</span>
<span class="org-comment">      # you can use fractions such as 1/2 or percentages such as 75% in which</span>
<span class="org-comment">      # case the value is relative to the size of the monitor that the window</span>
<span class="org-comment">      # appears on.</span>
<span class="org-comment">      &lt;height&gt;30%&lt;/height&gt;</span>
<span class="org-comment">    &lt;/size&gt;</span>

<span class="org-comment">    &lt;focus&gt;yes&lt;/focus&gt;</span>
<span class="org-comment">    # if the window should try be given focus when it appears. if this is set</span>
<span class="org-comment">    # to yes it doesn't guarantee the window will be given focus. some</span>
<span class="org-comment">    # restrictions may apply, but Openbox will try to</span>

<span class="org-comment">    &lt;desktop&gt;1&lt;/desktop&gt;</span>
<span class="org-comment">    # 1 is the first desktop, 'all' for all desktops</span>

<span class="org-comment">    &lt;layer&gt;normal&lt;/layer&gt;</span>
<span class="org-comment">    # 'above', 'normal', or 'below'</span>

<span class="org-comment">    &lt;iconic&gt;no&lt;/iconic&gt;</span>
<span class="org-comment">    # make the window iconified when it appears, or not</span>

<span class="org-comment">    &lt;skip_pager&gt;no&lt;/skip_pager&gt;</span>
<span class="org-comment">    # asks to not be shown in pagers</span>

<span class="org-comment">    &lt;skip_taskbar&gt;no&lt;/skip_taskbar&gt;</span>
<span class="org-comment">    # asks to not be shown in taskbars. window cycling actions will also</span>
<span class="org-comment">    # skip past such windows</span>

<span class="org-comment">    &lt;fullscreen&gt;yes&lt;/fullscreen&gt;</span>
<span class="org-comment">    # make the window in fullscreen mode when it appears</span>

<span class="org-comment">    &lt;maximized&gt;true&lt;/maximized&gt;</span>
<span class="org-comment">    # 'Horizontal', 'Vertical' or boolean (yes/no)</span>
<span class="org-comment">  &lt;/application&gt;</span>

<span class="org-comment">  # end of the example</span>
<span class="org-comment-delimiter">--&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">applications</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">application</span> <span class="org-nxml-attribute-local-name">title</span>=<span class="org-string">"softhddevice"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">decor</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">no</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">decor</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">maximized</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">yes</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">maximized</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-comment-delimiter">&lt;!--</span><span class="org-comment">&lt;skip_pager&gt;yes&lt;/skip_pager&gt;</span><span class="org-comment-delimiter">--&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">skip_taskbar</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">no</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">skip_taskbar</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">application</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">application</span> <span class="org-nxml-attribute-local-name">title</span>=<span class="org-string">"softhdcuvid"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">decor</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">no</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">decor</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">maximized</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">yes</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">maximized</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-comment-delimiter">&lt;!--</span><span class="org-comment">&lt;skip_pager&gt;yes&lt;/skip_pager&gt;</span><span class="org-comment-delimiter">--&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">skip_taskbar</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">no</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">skip_taskbar</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">application</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">application</span> <span class="org-nxml-attribute-local-name">title</span>=<span class="org-string">"vaapidevice"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">decor</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">no</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">decor</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">maximized</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">yes</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">maximized</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-comment-delimiter">&lt;!--</span><span class="org-comment">&lt;skip_pager&gt;yes&lt;/skip_pager&gt;</span><span class="org-comment-delimiter">--&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">skip_taskbar</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">no</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">skip_taskbar</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">application</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">application</span> <span class="org-nxml-attribute-local-name">class</span>=<span class="org-string">"VDR"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">decor</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">no</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">decor</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">maximized</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">yes</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">maximized</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-comment-delimiter">&lt;!--</span><span class="org-comment">&lt;skip_pager&gt;yes&lt;/skip_pager&gt;</span><span class="org-comment-delimiter">--&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">skip_taskbar</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">no</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">skip_taskbar</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">application</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">application</span> <span class="org-nxml-attribute-local-name">title</span>=<span class="org-string">"browser"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">decor</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">no</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">decor</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">maximized</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">yes</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">maximized</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-comment-delimiter">&lt;!--</span><span class="org-comment">&lt;skip_pager&gt;yes&lt;/skip_pager&gt;</span><span class="org-comment-delimiter">--&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">skip_taskbar</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">no</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">skip_taskbar</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">application</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">application</span> <span class="org-nxml-attribute-local-name">title</span>=<span class="org-string">"osd2Web"</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">decor</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">no</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">decor</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">maximized</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">yes</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">maximized</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-comment-delimiter">&lt;!--</span><span class="org-comment">&lt;skip_pager&gt;yes&lt;/skip_pager&gt;</span><span class="org-comment-delimiter">--&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">skip_taskbar</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">no</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">skip_taskbar</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">application</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">applications</span><span class="org-nxml-tag-delimiter">&gt;</span>
<span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">openbox_config</span><span class="org-nxml-tag-delimiter">&gt;</span>

</pre>
</div>
</div>
</li>
</ol>
</li>

<li><a id="orgeb0e222"></a>Systemd User Session<br />
<ol class="org-ol">
<li><a id="org5215784"></a>yavdr-desktop.target<br />
<div class="outline-text-6" id="text-6-16-3-3-1">
<div class="org-src-container">
<pre class="src src-shell">[Unit]
<span class="org-variable-name">Description</span>=yaVDR Desktop
<span class="org-variable-name">Requires</span>=default.target
<span class="org-variable-name">After</span>=default.target pulseaudio.service
<span class="org-variable-name">Wants</span>=dbus.service pulseaudio.service
<span class="org-variable-name">AllowIsolate</span>=yes
</pre>
</div>
</div>
</li>
<li><a id="orgfda3edf"></a>detect-second-display<br />
<div class="outline-text-6" id="text-6-16-3-3-2">
<div class="org-src-container">
<pre class="src src-shell"><span class="org-builtin">source</span> &lt;(systemctl --user show-environment)
<span class="org-variable-name">SECOND_DISPLAY</span>=<span class="org-string">"${DISPLAY%\.[0-9]*}.1"</span>
<span class="org-keyword">if</span> xrandr -d <span class="org-string">"$SECOND_DISPLAY"</span> -q | grep -q <span class="org-string">"connected"</span>; <span class="org-keyword">then</span>
    [ <span class="org-string">"$DISPLAY"</span> != <span class="org-string">"$SECOND_DISPLAY"</span> ] &amp;&amp; <span class="org-variable-name">d</span>=<span class="org-string">"DISPLAY=$SECOND_DISPLAY"</span> || <span class="org-variable-name">d</span>=<span class="org-string">"DISPLAY=$DISPLAY"</span>
    <span class="org-builtin">echo</span> <span class="org-string">"$d"</span> &gt; ~/.second_display;
<span class="org-keyword">else</span>
    rm -f ~/.second_display
<span class="org-keyword">fi</span>
</pre>
</div>
<div class="org-src-container">
<pre class="src src-conf">[<span class="org-type">Unit</span>]
<span class="org-variable-name">Description</span>=Detect second DISPLAY using xrandr

[<span class="org-type">Service</span>]
<span class="org-variable-name">Type</span>=oneshot
<span class="org-variable-name">RemainAfterExit</span>=yes
<span class="org-variable-name">ExecStart</span>=%h/bin/detect-second-display

[<span class="org-type">Install</span>]
<span class="org-variable-name">WantedBy</span>=yavdr-desktop.target
</pre>
</div>
</div>
</li>
<li><a id="orgdb29ac2"></a>switch-displays<br />
<div class="outline-text-6" id="text-6-16-3-3-3">
<p>
This script exchanges the primary and secondary screen. It needs access to the systemd user session.
</p>
<div class="org-src-container">
<pre class="src src-shell"><span class="org-builtin">source</span> &lt;(systemctl --user show-environment)
[[ <span class="org-string">"$DISPLAY"</span> =~ <span class="org-string">\.</span>1$ ]] &amp;&amp; <span class="org-variable-name">DISPLAY</span>=<span class="org-string">"${DISPLAY%.1}.0"</span> || <span class="org-variable-name">DISPLAY</span>=<span class="org-string">"${DISPLAY%.0}.1"</span>

frontend-dbus-send stop
systemctl --user stop osd2web
frontend-dbus-send setDisplay <span class="org-string">"$DISPLAY"</span>
systemctl --user start osd2web
frontend-dbus-send start
</pre>
</div>
</div>
</li>
<li><a id="org3016016"></a>openbox-second.service<br />
<div class="outline-text-6" id="text-6-16-3-3-4">
<div class="org-src-container">
<pre class="src src-conf">[<span class="org-type">Unit</span>]
<span class="org-variable-name">Description</span>=Start openbox on the second DISPLAY if it exists
<span class="org-variable-name">After</span>=detect-second-display.service
<span class="org-variable-name">Wants</span>=detect-second-display.service
<span class="org-variable-name">Before</span>=yavdr-frontend.service
<span class="org-variable-name">ConditionFileNotEmpty</span>=%h/.second_display

[<span class="org-type">Service</span>]
<span class="org-variable-name">EnvironmentFile</span>=%h/.second_display
<span class="org-variable-name">ExecStart</span>=/usr/bin/openbox --config-file %h/.config/openbox/rc2.xml
<span class="org-variable-name">ExecStartPost</span>=/usr/bin/xset -dpms s off -display $DISPLAY
<span class="org-variable-name">ExecStartPost</span>=/usr/bin/feh --no-fehbg --bg-center <span class="org-string">"/usr/share/yavdr/images/yavdr_logo.png"</span>

[<span class="org-type">Install</span>]
<span class="org-variable-name">WantedBy</span>=yavdr-desktop.target
</pre>
</div>
</div>
</li>
<li><a id="orgc8e6334"></a>wm-exit.service<br />
<div class="outline-text-6" id="text-6-16-3-3-5">
<div class="org-src-container">
<pre class="src src-conf">[<span class="org-type">Unit</span>]
<span class="org-variable-name">Description</span>=exit window manager gracefully

[<span class="org-type">Service</span>]
<span class="org-variable-name">ExecStart</span>=/bin/true
<span class="org-variable-name">ExecStop</span>=/usr/bin/openbox --exit
<span class="org-variable-name">RemainAfterExit</span>=True

[<span class="org-type">Install</span>]
<span class="org-variable-name">WantedBy</span>=default.target
</pre>
</div>
</div>
</li>
</ol>
</li>
<li><a id="org4511616"></a>irexec<br />
<div class="outline-text-5" id="text-6-16-3-4">
<p>
irexec.service starts irexec for the user session
</p>
<div class="org-src-container">
<pre class="src src-shell">[Unit]
<span class="org-variable-name">Description</span>=LIRC command handler

[Service]
<span class="org-variable-name">Type</span>=simple
<span class="org-variable-name">ExecStart</span>=/usr/bin/irexec %h/.lircrc

[Install]
<span class="org-variable-name">WantedBy</span>=yavdr-desktop.target
</pre>
</div>
<p>
~/.lircrc contains the irexec configuration
</p>
<div class="org-src-container">
<pre class="src src-shell">begin
    prog = irexec
    button = KEY_HOME
    config = frontend-dbus-send switchbetween kodi vdr
end
</pre>
</div>
</div>
</li>
</ol>
</div>
</div>

<div id="outline-container-orgb33ed07" class="outline-3">
<h3 id="orgb33ed07"><span class="section-number-3">6.17.</span> osd2web</h3>
<div class="outline-text-3" id="text-6-17">
<p>
This role installs and configures osd2web to be displayed on a second display (if one exists).
</p>
</div>
<div id="outline-container-orgfa961a1" class="outline-4">
<h4 id="orgfa961a1"><span class="section-number-4">6.17.1.</span> meta</h4>
<div class="outline-text-4" id="text-6-17-1">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment">---</span>
<span class="org-variable-name">dependencies</span>:
    - { <span class="org-variable-name">role</span>: yavdr-desktop}
</pre>
</div>
</div>
</div>
<div id="outline-container-org56b8382" class="outline-4">
<h4 id="org56b8382"><span class="section-number-4">6.17.2.</span> tasks</h4>
<div class="outline-text-4" id="text-6-17-2">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment">---</span>
- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> apt | install vdr-plugin-osd2web</span>
  <span class="org-keyword">apt</span>:
    <span class="org-variable-name">name</span>: vdr-plugin-osd2web
    <span class="org-variable-name">state</span>: present

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> expand osd2web.service from template for the session</span>
  <span class="org-keyword">template</span>:
    <span class="org-variable-name">src</span>: templates/systemd/user/osd2web.service.j2
    <span class="org-variable-name">dest</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.home </span><span class="org-builtin">}}</span><span class="org-string">/.config/systemd/user/osd2web.service'</span>
    <span class="org-variable-name">owner</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.user </span><span class="org-builtin">}}</span><span class="org-string">'</span>
    <span class="org-keyword">group</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.group </span><span class="org-builtin">}}</span><span class="org-string">'</span>
    <span class="org-variable-name">mode</span>: 0644

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> activate and start systemd unit osd2web.service</span>
  <span class="org-keyword">systemd</span>:
    <span class="org-variable-name">name</span>: <span class="org-string">'osd2web.service'</span>
    <span class="org-variable-name">daemon_reload</span>: <span class="org-constant">yes</span>
    <span class="org-variable-name">enabled</span>: <span class="org-constant">yes</span>
    <span class="org-variable-name">masked</span>: <span class="org-constant">no</span>
    <span class="org-variable-name">scope</span>: user
    <span class="org-variable-name">state</span>: started
  <span class="org-builtin">become</span>: <span class="org-constant">yes</span>
  <span class="org-builtin">become_user</span>: <span class="org-string">"</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.user </span><span class="org-builtin">}}</span><span class="org-string">"</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org1045f8f" class="outline-4">
<h4 id="org1045f8f"><span class="section-number-4">6.17.3.</span> templates</h4>
<div class="outline-text-4" id="text-6-17-3">
</div>
<ol class="org-ol">
<li><a id="orgd3e1d97"></a>osd2web.service<br />
<div class="outline-text-6" id="text-6-17-3-0-1">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-builtin">{{</span><span class="org-function-name"> ansible_managed | comment </span><span class="org-builtin">}}</span>
[Unit]
Description=Start a kiosk browser on the second DISPLAY if it exists
After=detect-second-display.service openbox-second.service
Wants=detect-second-display.service openbox-second.service
ConditionFileNotEmpty=%h/.second_display

[Service]
EnvironmentFile=%h/.second_display
Environment=url=<span class="org-string">"http://localhost:4444/skins/horchiTft/index.html?theme=anthraize&amp;onlyView=1"</span>
Environment=browser=<span class="org-builtin">{{</span><span class="org-function-name">"kiosk-browser" if nvidia_detected | bool else "firefox --no-remote --kiosk --private-window"  </span><span class="org-builtin">}}</span>
EnvironmentFile=-%h/.config/osd2web/config
ExecStart=/usr/bin/on_vdr -o -c <span class="org-string">'${browser} "${url}"'</span>
KillSignal=SIGINT

[Install]
WantedBy=yavdr-desktop.target
</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div id="outline-container-orge030dc1" class="outline-3">
<h3 id="orge030dc1"><span class="section-number-3">6.18.</span> samba-install</h3>
<div class="outline-text-3" id="text-6-18">
</div>
<div id="outline-container-orgf77da45" class="outline-4">
<h4 id="orgf77da45"><span class="section-number-4">6.18.1.</span> tasks</h4>
<div class="outline-text-4" id="text-6-18-1">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment">---</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">file: roles/samba-install/tasks/main.yml</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> install samba server</span>
  <span class="org-keyword">apt</span>:
    <span class="org-variable-name">name</span>:
      - samba
      - samba-common
      - samba-common-bin
      - samba-vfs-modules
      - smbclient
      - tdb-tools
    <span class="org-variable-name">state</span>: present
    <span class="org-variable-name">install_recommends</span>: <span class="org-constant">no</span>

</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org632a536" class="outline-3">
<h3 id="org632a536"><span class="section-number-3">6.19.</span> samba-config</h3>
<div class="outline-text-3" id="text-6-19">
</div>
<div id="outline-container-orgd2bf4b6" class="outline-4">
<h4 id="orgd2bf4b6"><span class="section-number-4">6.19.1.</span> tasks</h4>
<div class="outline-text-4" id="text-6-19-1">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment">---</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">file: roles/samba-config/tasks/main.yml</span>

<span class="org-comment-delimiter"># </span><span class="org-comment">TODO:</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">- name: divert original smbd.conf</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> touch smb.conf.custom</span>
  <span class="org-keyword">file</span>:
    <span class="org-variable-name">state</span>: touch
    <span class="org-variable-name">dest</span>: <span class="org-string">'/etc/samba/smb.conf.custom'</span>
  <span class="org-builtin">notify</span>: [ <span class="org-string">'Restart Samba'</span> ]

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> expand template for smb.conf</span>
  <span class="org-keyword">template</span>:
    <span class="org-variable-name">src</span>: <span class="org-string">'templates/smb.conf.j2'</span>
    <span class="org-variable-name">dest</span>: <span class="org-string">'/etc/samba/smb.conf'</span>
    <span class="org-comment-delimiter">#</span><span class="org-comment">validate: 'testparm -s %s'</span>
  <span class="org-builtin">notify</span>: [ <span class="org-string">'Restart Samba'</span> ]
</pre>
</div>
</div>
</div>
<div id="outline-container-org49f54f1" class="outline-4">
<h4 id="org49f54f1"><span class="section-number-4">6.19.2.</span> templates</h4>
<div class="outline-text-4" id="text-6-19-2">
</div>
<ol class="org-ol">
<li><a id="org09a808a"></a>smb.conf<br />
<ol class="org-ol">
<li><a id="org91e8d11"></a>global settings<br />
<div class="outline-text-6" id="text-6-19-2-1-1">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-builtin">{{</span><span class="org-function-name"> ansible_managed | comment </span><span class="org-builtin">}}</span>

<span class="org-comment-delimiter">#</span><span class="org-comment">======================= Global Settings =======================</span>

[global]

<span class="org-comment-delimiter">## </span><span class="org-comment">Browsing/Identification ###</span>

<span class="org-comment-delimiter"># </span><span class="org-comment">Change this to the workgroup/NT-domain name your Samba server will part of</span>
   workgroup = <span class="org-builtin">{{</span><span class="org-function-name"> samba.workgroup </span><span class="org-builtin">}}</span>

<span class="org-comment-delimiter"># </span><span class="org-comment">server string is the equivalent of the NT Description field</span>
   server string = %h server (Samba, Ubuntu)

<span class="org-comment-delimiter"># </span><span class="org-comment">This will prevent nmbd to search for NetBIOS names through DNS.</span>
   dns proxy = no

<span class="org-comment-delimiter">#### </span><span class="org-comment">Debugging/Accounting ####</span>

<span class="org-comment-delimiter"># </span><span class="org-comment">This tells Samba to use a separate log file for each machine</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">that connects</span>
   log file = /var/log/samba/log.%m

<span class="org-comment-delimiter"># </span><span class="org-comment">Cap the size of the individual log files (in KiB).</span>
   max log size = 1000

<span class="org-comment-delimiter"># </span><span class="org-comment">We want Samba to log a minimum amount of information to syslog. Everything</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">should go to /var/log/samba/log.{smbd,nmbd} instead. If you want to log</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">through syslog you should set the following parameter to something higher.</span>
   syslog = 0

<span class="org-comment-delimiter"># </span><span class="org-comment">Do something sensible when Samba crashes: mail the admin a backtrace</span>
   panic action = /usr/share/samba/panic-action %d


<span class="org-comment-delimiter">####### </span><span class="org-comment">Authentication #######</span>

<span class="org-comment-delimiter"># </span><span class="org-comment">"security = user" is always a good idea. This will require a Unix account</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">in this server for every user accessing the server. See</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">/usr/share/doc/samba-doc/htmldocs/Samba3-HOWTO/ServerType.html</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">in the samba-doc package for details.</span>
<span class="org-comment-delimiter">#   </span><span class="org-comment">security = user</span>

<span class="org-comment-delimiter"># </span><span class="org-comment">You may wish to use password encryption.  See the section on</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">'encrypt passwords' in the smb.conf(5) manpage before enabling.</span>
   encrypt passwords = true

<span class="org-comment-delimiter"># </span><span class="org-comment">If you are using encrypted passwords, Samba will need to know what</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">password database type you are using.</span>
   passdb backend = tdbsam

   obey pam restrictions = yes

<span class="org-comment-delimiter"># </span><span class="org-comment">This boolean parameter controls whether Samba attempts to sync the Unix</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">password with the SMB password when the encrypted SMB password in the</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">passdb is changed.</span>
   unix password sync = yes

<span class="org-comment-delimiter"># </span><span class="org-comment">For Unix password sync to work on a Debian GNU/Linux system, the following</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">parameters must be set (thanks to Ian Kahan &lt;<a href="mailto:kahan%40informatik.tu-muenchen.de">&lt;kahan@informatik.tu-muenchen.de&gt;</a> for</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">sending the correct chat script for the passwd program in Debian Sarge).</span>
   passwd program = /usr/bin/passwd %u
   passwd chat = <span class="org-function-name">*Enter</span>\snew\s*\spassword:* %n\n <span class="org-function-name">*Retype</span>\snew\s*\spassword:* %n\n <span class="org-function-name">*password</span>\supdated\ssuccessfully* .

<span class="org-comment-delimiter"># </span><span class="org-comment">This boolean controls whether PAM will be used for password changes</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">when requested by an SMB client instead of the program listed in</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">'passwd program'. The default is 'no'.</span>
   pam password change = yes

<span class="org-comment-delimiter"># </span><span class="org-comment">This option controls how unsuccessful authentication attempts are mapped</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">to anonymous connections</span>
   map to guest = bad password
   guest account = nobody

{% if samba.windows_compatible %}
<span class="org-comment-delimiter"># </span><span class="org-comment">disable unix extensions and enable following symlinks</span>
   unix extensions = no
   follow symlinks= yes
   wide links= yes
{% endif %}
</pre>
</div>
</div>
</li>
<li><a id="orgbc45d28"></a>media directories<br />
<div class="outline-text-6" id="text-6-19-2-1-2">
<div class="org-src-container">
<pre class="src src-yaml">{% for name, path in media_dirs.items() | list %}
[<span class="org-builtin">{{</span><span class="org-function-name"> name </span><span class="org-builtin">}}</span>]
   path = <span class="org-builtin">{{</span><span class="org-function-name"> path </span><span class="org-builtin">}}</span>
   comment = <span class="org-builtin">{{</span><span class="org-function-name"> name </span><span class="org-builtin">}}</span> on %h
   guest ok = yes
   writeable = yes
   browseable = yes
   create mode = 0664
   directory mode = 0775
   force user = <span class="org-builtin">{{</span><span class="org-function-name"> vdr.user </span><span class="org-builtin">}}</span>
   force group = <span class="org-builtin">{{</span><span class="org-function-name"> vdr.group </span><span class="org-builtin">}}</span>
   follow symlinks = yes
   wide links = yes

{% endfor %}
</pre>
</div>
</div>
</li>
<li><a id="org31f4441"></a>include custom samba exports<br />
<div class="outline-text-6" id="text-6-19-2-1-3">
<div class="org-src-container">
<pre class="src src-yaml">include = /etc/samba/smb.conf.custom
</pre>
</div>
</div>
</li>
</ol>
</li>
</ol>
</div>
</div>
<div id="outline-container-orgf960079" class="outline-3">
<h3 id="orgf960079"><span class="section-number-3">6.20.</span> autoinstall-ubuntu-drivers</h3>
<div class="outline-text-3" id="text-6-20">
<p>
The tool ubuntu-drivers is used to install the matching driver version for nvidia graphics cards, virtualbox guest additions and Intel and AMD microcode updates.
Please note that you need to disable this role if you are using nvidia drivers which are not in the official ubuntu package repositories.
</p>
</div>
<div id="outline-container-orga8a8b09" class="outline-4">
<h4 id="orga8a8b09"><span class="section-number-4">6.20.1.</span> tasks</h4>
<div class="outline-text-4" id="text-6-20-1">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment">---</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">file roles/autoinstall-ubuntu-drivers/tasks/main.yml</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> autoinstall ubuntu-drivers-common</span>
  <span class="org-variable-name">block</span>:
    - <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> apt | install ubuntu-drivers-common</span>
      <span class="org-keyword">apt</span>:
        <span class="org-variable-name">name</span>: ubuntu-drivers-common
        <span class="org-variable-name">state</span>: present

    - <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> use ubuntu-drivers to install additional drivers automatically</span>
      <span class="org-keyword">command</span>: ubuntu-drivers --package-list /etc/yavdr/autoinstalled autoinstall
  <span class="org-builtin">when</span>: (ansible_virtualization_type <span class="org-type">!=</span> <span class="org-string">"virtualbox"</span> and ansible_virtualization_role <span class="org-type">!=</span> <span class="org-string">"guest"</span>)
        <span class="org-comment-delimiter"># </span><span class="org-comment">ubuntu-drivers-common tries to autoinstall</span>
        <span class="org-comment-delimiter"># </span><span class="org-comment">conflicting packages for virtualbox in Ubuntu 16.04 and 18.04 :(</span>
        <span class="org-comment-delimiter"># </span><span class="org-comment">also alternates between virtualbox-guest-dkms and virtualbox-guest-dkms-hwe on successive runs</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org84e6a13" class="outline-3">
<h3 id="org84e6a13"><span class="section-number-3">6.21.</span> autoinstall-virtualbox-guest</h3>
<div class="outline-text-3" id="text-6-21">
<p>
This role installs the guest additions for virtualbox guests on Ubuntu 18.04
</p>

<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment">---</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">file roles/autoinstall-virtualbox-guest/tasks/main.yml</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> collect facts about installed packages</span>
  <span class="org-variable-name">package_facts</span>:
    <span class="org-variable-name">manager</span>: <span class="org-string">"apt"</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> install virtualbox guest additions</span>
  <span class="org-variable-name">block</span>:
    - <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> install packages</span>
      <span class="org-keyword">apt</span>:
        <span class="org-variable-name">state</span>: present
        <span class="org-variable-name">name</span>:
          - dkms
          - <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> "virtualbox-guest-x11-hwe" if "xserver-xorg-hwe-18.04" in ansible_facts.packages else "virtualbox-guest-x11" </span><span class="org-builtin">}}</span><span class="org-string">'</span>
          - <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> "virtualbox-guest-dkms-hwe" if "linux-generic-hwe-18.04" in ansible_facts.packages else "virtualbox-guest-dkms" </span><span class="org-builtin">}}</span><span class="org-string">'</span>

    <span class="org-comment-delimiter"># </span><span class="org-comment">TODO: set xineliboutput as frontend</span>
  <span class="org-builtin">when</span>:
    - ansible_virtualization_type == <span class="org-string">"virtualbox"</span>
    - ansible_virtualization_role == <span class="org-string">"guest"</span>
    - ansible_distribution == <span class="org-string">"Ubuntu"</span>

<span class="org-comment-delimiter"># </span><span class="org-comment">TODO: replace by a role to allow proper frontend selection</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> set xineliboutput as frontend</span>
  <span class="org-variable-name">block</span>:
    - <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> set xineliboutput as preferred frontend</span>
      <span class="org-keyword">set_fact</span>:
        <span class="org-variable-name">preferred_frontend</span>: <span class="org-string">"xineliboutput"</span>
    - <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> install xinelibouput and vdr-sxfe</span>
      <span class="org-keyword">apt</span>:
        <span class="org-variable-name">name</span>:
          - vdr-plugin-xineliboutput
          - xineliboutput-sxfe
        <span class="org-variable-name">state</span>: present
    - <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> set vdr_output_plugin variable</span>
      <span class="org-keyword">set_fact</span>:
        <span class="org-variable-name">automatically_installed_output_plugin</span>: vdr-plugin-xineliboutput
    <span class="org-comment-delimiter">#</span><span class="org-comment">- name: disable other output plugins</span>
    <span class="org-comment-delimiter">#  </span><span class="org-comment">command: '</span><span class="org-builtin">{{</span><span class="org-function-name"> item </span><span class="org-builtin">}}</span><span class="org-comment">'</span>
    <span class="org-comment-delimiter">#  </span><span class="org-comment">loop:</span>
    <span class="org-comment-delimiter">#    </span><span class="org-comment">- vdrctl disable softhddevice</span>
    <span class="org-comment-delimiter">#    </span><span class="org-comment">- vdrctl disable vaapidevice</span>
    <span class="org-comment-delimiter">#    </span><span class="org-comment">- vdrctl disable xine</span>
    <span class="org-comment-delimiter">#    </span><span class="org-comment">- vdrctl disable pvr350</span>
    <span class="org-comment-delimiter">#    </span><span class="org-comment">- vdrctl enable xineliboutput</span>
    <span class="org-comment-delimiter">#  </span><span class="org-comment">ignore_errors: yes</span>
  <span class="org-builtin">when</span>:
    - ansible_virtualization_type in [<span class="org-string">"virtualbox"</span>, <span class="org-string">"VirtualPC"</span>, <span class="org-string">"VMware"</span>]
    - ansible_virtualization_role == <span class="org-string">"guest"</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orga2fc7c1" class="outline-3">
<h3 id="orga2fc7c1"><span class="section-number-3">6.22.</span> set-output-plugin</h3>
<div class="outline-text-3" id="text-6-22">
<p>
This role sets the active output plugin and disables the other output plugins.
</p>
</div>
<div id="outline-container-org12f84d9" class="outline-4">
<h4 id="org12f84d9"><span class="section-number-4">6.22.1.</span> defaults</h4>
<div class="outline-text-4" id="text-6-22-1">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-variable-name">known_output_plugins</span>:
  - pvr350
  - rpihddevice
  - softhdcuvid
  - softhddevice
  - softhddrm
  - softhdvaapi
  - vaapidevice
  - xine
  - xineliboutput
</pre>
</div>
</div>
</div>
<div id="outline-container-orga49c765" class="outline-4">
<h4 id="orga49c765"><span class="section-number-4">6.22.2.</span> tasks</h4>
<div class="outline-text-4" id="text-6-22-2">
<div class="org-src-container">
<pre class="src src-yaml">- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> show vdr_output_plugin</span>
  <span class="org-keyword">debug</span>:
    <span class="org-variable-name">var</span>: vdr_output_plugin
    <span class="org-variable-name">verbosity</span>: 1

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> show automatically_installed_output_plugin</span>
  <span class="org-keyword">debug</span>:
    <span class="org-variable-name">var</span>: automatically_installed_output_plugin
    <span class="org-variable-name">verbosity</span>: 1

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> apt | install the output plugin</span>
  <span class="org-keyword">apt</span>:
    <span class="org-variable-name">state</span>: present
    <span class="org-variable-name">name</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr_output_plugin | default(automatically_installed_output_plugin | default("vdr-plugin-rpihddevice" if ansible_architecture == "armv7l" else "vdr-plugin-softhddevice")) </span><span class="org-builtin">}}</span><span class="org-string">'</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> show selected_frontend</span>
  <span class="org-keyword">debug</span>:
    <span class="org-variable-name">var</span>: selected_frontend
    <span class="org-variable-name">verbosity</span>: 1

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> show preferred_frontend</span>
  <span class="org-keyword">debug</span>:
    <span class="org-variable-name">var</span>: preferred_frontend

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> show active_output_plugin</span>
  <span class="org-keyword">debug</span>:
    <span class="org-variable-name">msg</span>: <span class="org-string">'active_output_plugin is: </span><span class="org-builtin">{{</span><span class="org-function-name"> selected_frontend | default(preferred_frontend) | default("") </span><span class="org-builtin">}}</span><span class="org-string">'</span>
    <span class="org-variable-name">verbosity</span>: 1


- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> set active output plugin</span>
  <span class="org-keyword">set_fact</span>:
    <span class="org-variable-name">active_output_plugin</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> selected_frontend | default(preferred_frontend) | default("") </span><span class="org-builtin">}}</span><span class="org-string">'</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> set disabled output plugins</span>
  <span class="org-keyword">set_fact</span>:
    <span class="org-variable-name">disabled_output_plugins</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> known_output_plugins | difference([active_output_plugin]) | list </span><span class="org-builtin">}}</span><span class="org-string">'</span>
  <span class="org-builtin">when</span>: active_output_plugin | length &gt; 0

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> show disabled_output_plugins</span>
  <span class="org-keyword">debug</span>:
    <span class="org-variable-name">var</span>: q(<span class="org-string">'list'</span>, disabled_output_plugins)
    <span class="org-variable-name">verbosity</span>: 1

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> disable unused output plugins</span>
  <span class="org-keyword">command</span>: <span class="org-string">"vdrctl disable </span><span class="org-builtin">{{</span><span class="org-function-name"> item </span><span class="org-builtin">}}</span><span class="org-string">"</span>
  <span class="org-variable-name">loop</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> disabled_output_plugins </span><span class="org-builtin">}}</span><span class="org-string">'</span>
  <span class="org-comment-delimiter">#</span><span class="org-comment">ignore_errors: yes</span>
  <span class="org-builtin">register</span>: vdrctl
  <span class="org-variable-name">failed_when</span>:
    - vdrctl.rc <span class="org-type">!=</span> 0 and <span class="org-string">'is unknown or already disabled'</span> not in vdrctl.stderr
  <span class="org-builtin">when</span>: disabled_output_plugins is defined

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> enable chosen output plugin</span>
  <span class="org-keyword">command</span>: vdrctl enable <span class="org-builtin">{{</span><span class="org-function-name"> active_output_plugin </span><span class="org-builtin">}}</span>
  <span class="org-comment-delimiter">#</span><span class="org-comment">ignore_errors: yes</span>
  <span class="org-builtin">register</span>: vdrctl
  <span class="org-variable-name">failed_when</span>:
    - vdrctl.rc <span class="org-type">!=</span> 0 and <span class="org-string">'is already linked to'</span> not in vdrctl.stderr
  <span class="org-builtin">when</span>: active_output_plugin | length &gt; 0

<span class="org-comment-delimiter">#</span><span class="org-comment">known_frontends:</span>
<span class="org-comment-delimiter">#  </span><span class="org-comment">xineliboutput_sxfe:</span>
<span class="org-comment-delimiter">#    </span><span class="org-comment">plugin_name: xineliboutput</span>
<span class="org-comment-delimiter">#    </span><span class="org-comment">plugin_options: ""</span>
<span class="org-comment-delimiter">#    </span><span class="org-comment">packages:</span>
<span class="org-comment-delimiter">#      </span><span class="org-comment">- vdr-plugin-xineliboutput</span>
<span class="org-comment-delimiter">#      </span><span class="org-comment">- xineliboutput-sxfe</span>
<span class="org-comment-delimiter">#  </span><span class="org-comment">softhddevice_cuvid:</span>
<span class="org-comment-delimiter">#    </span><span class="org-comment">plugin_name: softhddevice</span>
<span class="org-comment-delimiter">#    </span><span class="org-comment">plugin_options: |</span>
<span class="org-comment-delimiter">#      </span><span class="org-comment">-D</span>
<span class="org-comment-delimiter">#      </span><span class="org-comment">-a pulse </span>
<span class="org-comment-delimiter">#      </span><span class="org-comment">-w alsa-driver-broken</span>
<span class="org-comment-delimiter">#      </span><span class="org-comment">-v cuvid</span>
<span class="org-comment-delimiter">#    </span><span class="org-comment">packages:</span>
<span class="org-comment-delimiter">#      </span><span class="org-comment">- vdr-plugin-softhddevice-cuvid</span>
<span class="org-comment-delimiter">#  </span><span class="org-comment">softhddevice:</span>
<span class="org-comment-delimiter">#    </span><span class="org-comment">plugin_name: softhddevice</span>
<span class="org-comment-delimiter">#    </span><span class="org-comment">plugin_options: |</span>
<span class="org-comment-delimiter">#      </span><span class="org-comment">-D</span>
<span class="org-comment-delimiter">#      </span><span class="org-comment">-a pulse</span>
<span class="org-comment-delimiter">#      </span><span class="org-comment">-w alsa-driver-broken</span>
<span class="org-comment-delimiter">#    </span><span class="org-comment">packages:</span>
<span class="org-comment-delimiter">#      </span><span class="org-comment">- vdr-plugin-softhddevice</span>

</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org8513042" class="outline-3">
<h3 id="org8513042"><span class="section-number-3">6.23.</span> autoinstall-atric-usb</h3>
<div class="outline-text-3" id="text-6-23">
</div>
<div id="outline-container-org7d8a4b1" class="outline-4">
<h4 id="org7d8a4b1"><span class="section-number-4">6.23.1.</span> dependencies</h4>
<div class="outline-text-4" id="text-6-23-1">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment">---</span>
<span class="org-variable-name">dependencies</span>:
    - { <span class="org-variable-name">role</span>: collect-facts }
    - { <span class="org-variable-name">role</span>: yavdr-remote }

</pre>
</div>
</div>
</div>
<div id="outline-container-org633354d" class="outline-4">
<h4 id="org633354d"><span class="section-number-4">6.23.2.</span> tasks</h4>
<div class="outline-text-4" id="text-6-23-2">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment">---</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">file roles/autoinstall-atric-usb/tasks/main.yml</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> install and configure Atric IR-WakeupUSB</span>
  <span class="org-variable-name">block</span>:
    - <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> apt | install lirc-drv-irman</span>
      <span class="org-keyword">apt</span>:
        <span class="org-variable-name">name</span>: lirc-drv-irman
        <span class="org-variable-name">state</span>: present
      <span class="org-builtin">tags</span>:
        - packages

    - <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> write lirc configuration</span>
      <span class="org-keyword">template</span>:
        <span class="org-variable-name">src</span>: templates/lirc_options.conf.j2
        <span class="org-variable-name">dest</span>: /etc/lirc/lirc_options.conf
      <span class="org-builtin">tags</span>:
        - config
        - systemd

    - <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> run udevadm trigger to force udev rule to create symlinks</span>
      <span class="org-keyword">shell</span>: udevadm trigger -c add -s tty -w /dev/ttyACM*
      <span class="org-builtin">args</span>:
          <span class="org-variable-name">warn</span>: <span class="org-constant">no</span>

    - <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> enable lircd, eventlircd, lircd2uinput</span>
      <span class="org-keyword">systemd</span>:
        <span class="org-variable-name">name</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> item </span><span class="org-builtin">}}</span><span class="org-string">'</span>
        <span class="org-variable-name">enabled</span>: <span class="org-constant">yes</span>
        <span class="org-variable-name">state</span>: started
        <span class="org-variable-name">masked</span>: <span class="org-constant">no</span>
        <span class="org-variable-name">daemon_reload</span>: <span class="org-constant">yes</span>
      <span class="org-variable-name">loop</span>:
        - eventlircd.service
        - lircd2uinput.service
        - lircd.service
      <span class="org-builtin">tags</span>:
        - systemd

  <span class="org-builtin">when</span>: <span class="org-string">'"04d8:f844" in usb'</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org3f17857" class="outline-4">
<h4 id="org3f17857"><span class="section-number-4">6.23.3.</span> templates</h4>
<div class="outline-text-4" id="text-6-23-3">
<div class="org-src-container">
<pre class="src src-conf">{{ ansible_managed | comment }}

[<span class="org-type">lircd</span>]
<span class="org-variable-name">nodaemon</span>        = False
<span class="org-variable-name">driver</span>          = irman
<span class="org-variable-name">device</span>          = /dev/irman
<span class="org-variable-name">output</span>          = /var/run/lirc/lircd0
<span class="org-variable-name">pidfile</span>         = /var/run/lirc/lircd0.pid
<span class="org-variable-name">plugindir</span>       = /usr/lib/x86_64-linux-gnu/lirc/plugins
<span class="org-variable-name">permission</span>      = 666
<span class="org-variable-name">allow-simulate</span>  = No
<span class="org-variable-name">repeat-max</span>      = 600
<span class="org-comment-delimiter">#</span><span class="org-comment">loglevel       = 6</span>
<span class="org-comment-delimiter">#</span><span class="org-comment">release        = true</span>
<span class="org-comment-delimiter">#</span><span class="org-comment">release_suffix = _EVUP</span>
<span class="org-comment-delimiter">#</span><span class="org-comment">logfile        = ...</span>
<span class="org-comment-delimiter">#</span><span class="org-comment">driver-options = ...</span>

[<span class="org-type">lircmd</span>]
<span class="org-variable-name">uinput</span>          = False
<span class="org-variable-name">nodaemon</span>        = False
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org01475e0" class="outline-3">
<h3 id="org01475e0"><span class="section-number-3">6.24.</span> autoinstall-yausbir</h3>
<div class="outline-text-3" id="text-6-24">
</div>
<div id="outline-container-orgad16b6b" class="outline-4">
<h4 id="orgad16b6b"><span class="section-number-4">6.24.1.</span> dependencies</h4>
<div class="outline-text-4" id="text-6-24-1">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment">---</span>
<span class="org-variable-name">dependencies</span>:
    - { <span class="org-variable-name">role</span>: yavdr-remote }

</pre>
</div>
</div>
</div>
<div id="outline-container-orgd7a9c07" class="outline-4">
<h4 id="orgd7a9c07"><span class="section-number-4">6.24.2.</span> tasks</h4>
<div class="outline-text-4" id="text-6-24-2">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment">---</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">file roles/autoinstall-atric-usb/tasks/main.yml</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> install and configure Atric IR-WakeupUSB</span>
  <span class="org-variable-name">block</span>:
    - <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> apt | install lirc-drv-yausbir</span>
      <span class="org-keyword">apt</span>:
        <span class="org-variable-name">name</span>: lirc-drv-yausbir
        <span class="org-variable-name">state</span>: present
      <span class="org-builtin">tags</span>:
        - packages

    - <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> write lirc configuration</span>
      <span class="org-keyword">template</span>:
        <span class="org-variable-name">src</span>: templates/lirc_options.conf.j2
        <span class="org-variable-name">dest</span>: /etc/lirc/lirc_options.conf
      <span class="org-builtin">tags</span>:
        - config
        - systemd

    - <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> enable lircd, eventlircd, lircd2uinput</span>
      <span class="org-keyword">systemd</span>:
        <span class="org-variable-name">name</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> item </span><span class="org-builtin">}}</span><span class="org-string">'</span>
        <span class="org-variable-name">enabled</span>: <span class="org-constant">yes</span>
        <span class="org-variable-name">state</span>: started
        <span class="org-variable-name">masked</span>: <span class="org-constant">no</span>
        <span class="org-variable-name">daemon_reload</span>: <span class="org-constant">yes</span>
      <span class="org-variable-name">loop</span>:
        - eventlircd.service
        - lircd2uinput.service
        - lircd.service
      <span class="org-builtin">tags</span>:
        - systemd

  <span class="org-builtin">when</span>: <span class="org-string">'"10c4:876c" in usb'</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org840c5db" class="outline-4">
<h4 id="org840c5db"><span class="section-number-4">6.24.3.</span> templates</h4>
<div class="outline-text-4" id="text-6-24-3">
<div class="org-src-container">
<pre class="src src-conf">{{ ansible_managed | comment }}

[<span class="org-type">lircd</span>]
<span class="org-variable-name">nodaemon</span>        = False
<span class="org-variable-name">driver</span>          = ya_usbir
<span class="org-variable-name">output</span>          = /var/run/lirc/lircd0
<span class="org-variable-name">pidfile</span>         = /var/run/lirc/lircd0.pid
<span class="org-variable-name">plugindir</span>       = /usr/lib/x86_64-linux-gnu/lirc/plugins
<span class="org-variable-name">permission</span>      = 666
<span class="org-variable-name">allow-simulate</span>  = No
<span class="org-variable-name">repeat-max</span>      = 600
<span class="org-comment-delimiter">#</span><span class="org-comment">loglevel       = 6</span>
<span class="org-comment-delimiter">#</span><span class="org-comment">release        = true</span>
<span class="org-comment-delimiter">#</span><span class="org-comment">release_suffix = _EVUP</span>
<span class="org-comment-delimiter">#</span><span class="org-comment">logfile        = ...</span>
<span class="org-comment-delimiter">#</span><span class="org-comment">driver-options = ...</span>

[<span class="org-type">lircmd</span>]
<span class="org-variable-name">uinput</span>          = False
<span class="org-variable-name">nodaemon</span>        = False
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org476dea4" class="outline-3">
<h3 id="org476dea4"><span class="section-number-3">6.25.</span> autoinstall-satip</h3>
<div class="outline-text-3" id="text-6-25">
<p>
If a Sat&gt;IP Server responds to a discovery request, the package vdr-plugin-satip is installed.
</p>
</div>
<div id="outline-container-org10d1c33" class="outline-4">
<h4 id="org10d1c33"><span class="section-number-4">6.25.1.</span> tasks</h4>
<div class="outline-text-4" id="text-6-25-1">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment">---</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">file roles/autoinstall-satip/tasks/main.yml</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> "detect SAT&gt;IP Server(s) on the network"</span>
  <span class="org-variable-name">action</span>: satip_facts

- <span class="org-keyword">debug</span>:
    <span class="org-variable-name">var</span>: satip_devices
    <span class="org-variable-name">verbosity</span>: 1

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> apt | install vdr-plugin-satip if a Sat&gt;IP server has been detected</span>
  <span class="org-keyword">apt</span>:
    <span class="org-variable-name">name</span>: vdr-plugin-satip
    <span class="org-variable-name">state</span>: present
  <span class="org-builtin">when</span>: satip_devices | length &gt; 0
  <span class="org-builtin">notify</span>: [ <span class="org-string">'Restart VDR'</span> ]
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgb03d58f" class="outline-3">
<h3 id="orgb03d58f"><span class="section-number-3">6.26.</span> autoinstall-targavfd</h3>
<div class="outline-text-3" id="text-6-26">
</div>
<div id="outline-container-orgdd6f2d6" class="outline-4">
<h4 id="orgdd6f2d6"><span class="section-number-4">6.26.1.</span> tasks</h4>
<div class="outline-text-4" id="text-6-26-1">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment">---</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">file roles/autoinstall-targavfd/tasks/main.yml</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> apt | install vdr-plugin-targavfd if connected</span>
  <span class="org-keyword">apt</span>:
    <span class="org-variable-name">name</span>: vdr-plugin-targavfd
  <span class="org-builtin">when</span>: <span class="org-string">'"19c2:6a11" in usb'</span>
  <span class="org-builtin">notify</span>: [ <span class="org-string">'Restart VDR'</span> ]
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org38d68b2" class="outline-3">
<h3 id="org38d68b2"><span class="section-number-3">6.27.</span> autoinstall-imonlcd</h3>
<div class="outline-text-3" id="text-6-27">
<p>
This role handles IMON LCDs with USB-IDs <code>15c2:0038</code> and <code>15c2:ffdc</code>. According to <a href="http://www.vdr-wiki.de/wiki/index.php/Imonlcd-plugin#Beschreibung">http://www.vdr-wiki.de/wiki/index.php/Imonlcd-plugin#Beschreibung</a> there is a IMON VFD with USB-ID <code>15c2:ffdc</code>, which doesn&rsquo;t work with vdr-plugin-imonlcd. In this case please disable this role and adapt the role <code>autoinstall-imonvfd.</code>
</p>
</div>
<div id="outline-container-orgfe958d0" class="outline-4">
<h4 id="orgfe958d0"><span class="section-number-4">6.27.1.</span> tasks</h4>
<div class="outline-text-4" id="text-6-27-1">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment">---</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">file roles/autoinstall-imonlcd/tasks/main.yml</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> apt | install vdr-plugin-imonlcd if connected</span>
  <span class="org-keyword">apt</span>:
    <span class="org-variable-name">name</span>: vdr-plugin-imonlcd
  <span class="org-builtin">when</span>: <span class="org-string">'"15c2:0038" in usb or "15c2:ffdc" in usb'</span>
  <span class="org-builtin">notify</span>: [ <span class="org-string">'Restart VDR'</span> ]
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgbf2cd83" class="outline-3">
<h3 id="orgbf2cd83"><span class="section-number-3">6.28.</span> autoinstall-imonvfd</h3>
<div class="outline-text-3" id="text-6-28">
<p>
This role handles IMON VFD devices with the USB-IDs <code>15c2:0036</code> and <code>15c2:0044</code>.
</p>
</div>
<div id="outline-container-orga5985d6" class="outline-4">
<h4 id="orga5985d6"><span class="section-number-4">6.28.1.</span> tasks</h4>
<div class="outline-text-4" id="text-6-28-1">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment">---</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">file roles/autoinstall-imonvfd/tasks/main</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> Set up IMON VFD</span>
  <span class="org-variable-name">block</span>:
    - <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> check which display type we got</span>
      <span class="org-keyword">set_fact</span>:
        <span class="org-variable-name">imon_vfd_device</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> "imon_0044" if "15c2:0044" in usb else "imon_0036" </span><span class="org-builtin">}}</span><span class="org-string">'</span>
    - <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> apt | install lcdproc and vdr-plugin-lcdproc for IMON VFD</span>
      <span class="org-keyword">apt</span>:
        <span class="org-variable-name">name</span>:  vdr-plugin-lcdproc

    - <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> copy udev rule for IMON VFD</span>
      <span class="org-keyword">template</span>:
        <span class="org-variable-name">src</span>: templates/92-imonvfd.rules.j2
        <span class="org-variable-name">dest</span>: /etc/udev/rules.d/92-imonvfd.rules
        <span class="org-variable-name">mode</span>: 0644
        <span class="org-variable-name">force</span>: <span class="org-constant">yes</span>
      <span class="org-builtin">notify</span>: [ <span class="org-string">'reboot required'</span> ]

    - <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> expand template for /etc/LCDd.conf</span>
      <span class="org-keyword">template</span>:
        <span class="org-variable-name">src</span>: templates/LCDd.conf.j2
        <span class="org-variable-name">dest</span>: /etc/LCDd.conf
        <span class="org-variable-name">owner</span>: root
        <span class="org-keyword">group</span>: root
        <span class="org-variable-name">mode</span>: 0644
        <span class="org-variable-name">force</span>: <span class="org-constant">yes</span>

    - <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> enable service LCDd.service and ensure it is not masked</span>
      <span class="org-keyword">systemd</span>:
        <span class="org-variable-name">name</span>: LCDd.service
        <span class="org-variable-name">state</span>: started
        <span class="org-variable-name">enabled</span>: <span class="org-constant">yes</span>
        <span class="org-variable-name">masked</span>: <span class="org-constant">no</span>
        <span class="org-variable-name">daemon_reload</span>: <span class="org-constant">yes</span>

  <span class="org-builtin">when</span>: <span class="org-string">'"15c2:0036" in usb or "15c2:0044" in usb'</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org072a6fc" class="outline-4">
<h4 id="org072a6fc"><span class="section-number-4">6.28.2.</span> templates</h4>
<div class="outline-text-4" id="text-6-28-2">
</div>
<ol class="org-ol">
<li><a id="orgf2ac69c"></a>udev rules<br />
<div class="outline-text-5" id="text-6-28-2-1">
<div class="org-src-container">
<pre class="src src-jinja2"><span class="org-type">{{</span> <span class="org-variable-name">ansible_managed </span><span class="org-keyword">| </span><span class="org-warning">comment</span> <span class="org-type">}}</span>

ACTION==<span class="org-string">"add"</span>, KERNEL==<span class="org-string">"lcd*"</span>, SUBSYSTEMS==<span class="org-string">"usb"</span>, ATTRS{idVendor}==<span class="org-string">"15c2"</span>, ATTRS{idProduct}==<span class="org-string">"*"</span>, <span class="org-variable-name">MODE</span>=<span class="org-string">"0660"</span>, <span class="org-variable-name">GROUP</span>=<span class="org-string">"vdr"</span>
ACTION==<span class="org-string">"add"</span>, KERNEL==<span class="org-string">"lcd*"</span>, SUBSYSTEMS==<span class="org-string">"usb"</span>, ATTRS{idVendor}==<span class="org-string">"15c2"</span>, ATTRS{idProduct}==<span class="org-string">"0036"</span>, <span class="org-variable-name">MODE</span>=<span class="org-string">"0660"</span>, <span class="org-variable-name">GROUP</span>=<span class="org-string">"vdr"</span>, SYMLINK+=<span class="org-string">"imon_0036"</span>
ACTION==<span class="org-string">"add"</span>, KERNEL==<span class="org-string">"lcd*"</span>, SUBSYSTEMS==<span class="org-string">"usb"</span>, ATTRS{idVendor}==<span class="org-string">"15c2"</span>, ATTRS{idProduct}==<span class="org-string">"0044"</span>, <span class="org-variable-name">MODE</span>=<span class="org-string">"0660"</span>, <span class="org-variable-name">GROUP</span>=<span class="org-string">"vdr"</span>, SYMLINK+=<span class="org-string">"imon_0044"</span>
</pre>
</div>
</div>
</li>

<li><a id="org21ef168"></a>lcdproc.conf<br />
<div class="outline-text-5" id="text-6-28-2-2">
<div class="org-src-container">
<pre class="src src-jinja2"><span class="org-type">{{</span> <span class="org-variable-name">ansible_managed </span><span class="org-keyword">| </span><span class="org-warning">comment</span> <span class="org-type">}}</span>

## This file was originally created by cme command.
## You can run <span class="org-string">'cme edit lcdproc'</span> to modify this file.
## You may also modify the content of this file <span class="org-keyword">with</span> your favorite editor.

[server]
DriverPath = /usr/lib/x86_64-linux-gnu/lcdproc/
NextScreenKey = Right
PrevScreenKey = Left
ReportToSyslog = yes
ToggleRotateKey = Enter

Driver=imon
Bind=127.0.0.1
Port=13666
User=nobody
<span class="org-variable-name">Hello</span>=<span class="org-string">" "</span>
<span class="org-variable-name">Hello</span>=<span class="org-string">" "</span>
<span class="org-variable-name">GoodBye</span>=<span class="org-string">" "</span>
<span class="org-variable-name">GoodBye</span>=<span class="org-string">" "</span>
WaitTime=5
ServerScreen=no
Heartbeat=off

[menu]
DownKey = Down
EnterKey = Enter
MenuKey = Escape
UpKey = Up

[imon]
Device=/dev/<span class="org-type">{{</span><span class="org-variable-name">imon_vfd_device</span><span class="org-type">}}</span>
Size=16x2
</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div id="outline-container-org01c6664" class="outline-3">
<h3 id="org01c6664"><span class="section-number-3">6.29.</span> autoinstall-libcecdaemon</h3>
<div class="outline-text-3" id="text-6-29">
</div>
<div id="outline-container-org848d8c7" class="outline-4">
<h4 id="org848d8c7"><span class="section-number-4">6.29.1.</span> tasks</h4>
<div class="outline-text-4" id="text-6-29-1">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment">---</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">file roles/autoinstall-libcec-daemon/tasks/main.yml</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> apt | install libcec-daemon if connected</span>
  <span class="org-keyword">apt</span>:
    <span class="org-variable-name">name</span>: <span class="org-string">"libcec-daemon"</span>
  <span class="org-builtin">when</span>: <span class="org-string">'"2548:1002" in usb'</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgb9db526" class="outline-3">
<h3 id="orgb9db526"><span class="section-number-3">6.30.</span> autoinstall-pvr350</h3>
<div class="outline-text-3" id="text-6-30">
</div>
<div id="outline-container-org302540b" class="outline-4">
<h4 id="org302540b"><span class="section-number-4">6.30.1.</span> tasks</h4>
<div class="outline-text-4" id="text-6-30-1">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment">---</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">file roles/autoinstall-pvr350/tasks/main.yml</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> apt | install vdr-plugin-pvr350 if connected</span>
  <span class="org-keyword">apt</span>:
    <span class="org-variable-name">name</span>: vdr-plugin-pvr350
  <span class="org-builtin">when</span>: <span class="org-string">'"0070:4000" in pci'</span>
  <span class="org-builtin">notify</span>: [ <span class="org-string">'Restart VDR'</span> ]
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org81b217b" class="outline-3">
<h3 id="org81b217b"><span class="section-number-3">6.31.</span> autoinstall-hauppauge-pvr</h3>
<div class="outline-text-3" id="text-6-31">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment">---</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">file roles/autoinstall-hauppauge-pvr/tasks/main.yml</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> apt | install vdr-plugin-pvrinput if a haupauge pvr card is found</span>
  <span class="org-keyword">apt</span>:
    <span class="org-variable-name">name</span>: vdr-plugin-pvrinput
  <span class="org-builtin">when</span>: <span class="org-string">'"0070:4000" in pci or "4444:0016" in pci'</span>
  <span class="org-builtin">notify</span>: [ <span class="org-string">'Restart VDR'</span> ]
</pre>
</div>
</div>
</div>
<div id="outline-container-org8f79b0f" class="outline-3">
<h3 id="org8f79b0f"><span class="section-number-3">6.32.</span> autoinstall-firmware</h3>
<div class="outline-text-3" id="text-6-32">
</div>
<div id="outline-container-org6555fcf" class="outline-4">
<h4 id="org6555fcf"><span class="section-number-4">6.32.1.</span> dependencies</h4>
<div class="outline-text-4" id="text-6-32-1">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment">---</span>
<span class="org-variable-name">dependencies</span>:
  - { <span class="org-variable-name">role</span>: collect-facts }

</pre>
</div>
</div>
</div>
<div id="outline-container-orgccae7fe" class="outline-4">
<h4 id="orgccae7fe"><span class="section-number-4">6.32.2.</span> tasks</h4>
<div class="outline-text-4" id="text-6-32-2">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment">---</span>

<span class="org-comment-delimiter"># </span><span class="org-comment">This role provides easyily downloadable firmware files</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> Firmware dvb-demod-si2168-b40-01.fw for Hauppauge WinTV HD Solo/Duo, PCTV 292e</span>
  <span class="org-keyword">get_url</span>:
    <span class="org-variable-name">url</span>: https://github.com/OpenELEC/dvb-firmware/raw/master/firmware/dvb-demod-si2168-b40-01.fw
    <span class="org-variable-name">checksum</span>: sha256:8507536630d75a316d0719d6b95c04b90c36baa5b457ad457c9bacadafcef134
    <span class="org-variable-name">dest</span>: /lib/firmware/dvb-demod-si2168-b40-01.fw
  <span class="org-builtin">when</span>: <span class="org-string">'"2040:0264" in usb or "2013:025f" in usb'</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> Firmware dvb-fe-xc5000-1.6.114.fw for Hauppauge WinTV-HVR-930C</span>
  <span class="org-keyword">get_url</span>:
    <span class="org-variable-name">url</span>: https://github.com/OpenELEC/dvb-firmware/raw/master/firmware/dvb-fe-xc5000-1.6.114.fw
    <span class="org-variable-name">checksum</span>: sha256:7104bda8df301fe1bd4c09de1708aeb6d0d8e1f9d55505449fecfad82639235f
    <span class="org-variable-name">dest</span>: /lib/firmware/dvb-fe-xc5000-1.6.114.fw
  <span class="org-builtin">when</span>: <span class="org-string">'"2040:1605" in usb'</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> Firmware ngenge_18.fw for ngene cards</span>
  <span class="org-keyword">get_url</span>:
    <span class="org-variable-name">url</span>: http://l4m-daten.de/downloads/firmware/dvb-s2/linux/all/ngene_18.fw
    <span class="org-variable-name">checksum</span>: sha256:213d98ec2cd575eba15d82ee79fed7098e670de43792f8aa773a95cfb7c32060
    <span class="org-variable-name">dest</span>: /lib/firmware/ngene_18.fw
  <span class="org-builtin">when</span>: <span class="org-string">'"ngene" in modules'</span>
  <span class="org-builtin">notify</span>: [<span class="org-string">'reboot required'</span>]

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> Firmware drxk_a3.mc for drxk</span>
  <span class="org-keyword">get_url</span>:
     <span class="org-variable-name">url</span>: https://github.com/OpenELEC/dvb-firmware/raw/master/firmware/drxk_a3.mc
     <span class="org-variable-name">checksum</span>: sha256:f8956ad6f92a4ce90a6ab94ed23e2f9a27e9317e936fd3e0119778dd28e7e294
     <span class="org-variable-name">dest</span>: /lib/firmware/drxk_a3.mc
  <span class="org-builtin">when</span>: <span class="org-string">'"ngene" in modules or "drxk" in modules'</span>
  <span class="org-builtin">notify</span>: [<span class="org-string">'reboot required'</span>]

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> Firmware for Hauppauge Win-TV HVR-4000 and NOVA-HD-S2</span>
  <span class="org-keyword">get_url</span>:
    <span class="org-variable-name">url</span>: https://github.com/OpenELEC/dvb-firmware/blob/master/firmware/dvb-fe-cx24116.fw?raw=true
    <span class="org-variable-name">checksum</span>: sha256:8fa49be12cf332b4c9b0379ef997be9ab6e193ae03aae55b39e033ae31e35da0
    <span class="org-variable-name">dest</span>: /lib/firmware/dvb-fe-cx24116.fw
  <span class="org-builtin">when</span>: <span class="org-string">'"14f1:8802" in pci'</span>
  <span class="org-builtin">notify</span>: [<span class="org-string">'reboot required'</span>]

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> Firmware for Tevii S464/470/471/660</span>
  <span class="org-keyword">get_url</span>:
    <span class="org-variable-name">url</span>: https://github.com/OpenELEC/dvb-firmware/raw/master/firmware/dvb-fe-ds3000.fw
    <span class="org-variable-name">checksum</span>: sha256:ad8c23bfb51642f48d31fe4f797182352bb13a4d4b7247b25aea18e208e0e882
    <span class="org-variable-name">dest</span>: /lib/firmware/dvb-fe-ds3000.fw
  <span class="org-builtin">when</span>: <span class="org-string">'"d464:9022" in pci or "14f1:8802" in pci or "d470:9022" in pci or "d471:9022" in pci or "9022:d660" in usb or "0572:6831" in usb'</span>
  <span class="org-builtin">notify</span>: [<span class="org-string">'reboot required'</span>]
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org67e438a" class="outline-3">
<h3 id="org67e438a"><span class="section-number-3">6.33.</span> autoinstall-dvbsky-firmware</h3>
<div class="outline-text-3" id="text-6-33">
</div>
<div id="outline-container-orgd6b94a9" class="outline-4">
<h4 id="orgd6b94a9"><span class="section-number-4">6.33.1.</span> dependencies</h4>
<div class="outline-text-4" id="text-6-33-1">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment">---</span>
<span class="org-variable-name">dependencies</span>:
  - { <span class="org-variable-name">role</span>: collect-facts }

</pre>
</div>
</div>
</div>
<div id="outline-container-org338e6a9" class="outline-4">
<h4 id="org338e6a9"><span class="section-number-4">6.33.2.</span> defaults</h4>
<div class="outline-text-4" id="text-6-33-2">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment">---</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">file roles/autoinstall-dvbsky-firmware</span>
<span class="org-variable-name">dvbsky_firmware_files</span>: []
</pre>
</div>
</div>
</div>
<div id="outline-container-org79697b8" class="outline-4">
<h4 id="org79697b8"><span class="section-number-4">6.33.3.</span> tasks</h4>
<div class="outline-text-4" id="text-6-33-3">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment">---</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">file roles/autoinstall-dvbsky-firmware/tasks/main.yml</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> determine needed firmware files by device ids</span>
  <span class="org-variable-name">block</span>:
    - <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> add firmware files for DVBSky if a card has been detected</span>
      <span class="org-keyword">set_fact</span>:
        <span class="org-variable-name">dvbsky_firmware_files</span>:
           - <span class="org-string">'dvb-demod-m88ds3103.fw'</span>
           - <span class="org-string">'dvb-demod-m88rs6000.fw'</span>
           - <span class="org-string">'dvb-tuner-si2158-a20-01.fw'</span>
           - <span class="org-string">'dvb-demod-si2168-a20-01.fw'</span>
           - <span class="org-string">'dvb-demod-si2168-a30-01.fw'</span>
           - <span class="org-string">'dvb-demod-si2168-b40-01.fw'</span>
           - <span class="org-string">'dvb-fe-ds300x.fw'</span>
           - <span class="org-string">'dvb-fe-ds3103.fw'</span>
           - <span class="org-string">'dvb-fe-rs6000.fw'</span>
      <span class="org-builtin">when</span>:
        - <span class="org-string">'"1ade:3038" in pci'</span>
  <span class="org-builtin">when</span>:
    - not dvbsky_firmware_files

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> Download firmware for DVBSky cards and copy required files to /lib/firmware</span>
  <span class="org-variable-name">block</span>:
    - <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> download and extract firmware</span>
      <span class="org-keyword">unarchive</span>:
        <span class="org-variable-name">src</span>: http://www.dvbsky.net/download/linux/dvbsky-firmware.tar.gz
        <span class="org-variable-name">dest</span>: /tmp/
        <span class="org-variable-name">remote_src</span>: <span class="org-constant">yes</span>

    - <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> copy firmware file</span>
      <span class="org-keyword">copy</span>:
         <span class="org-variable-name">src</span>: <span class="org-string">"/tmp/dvbsky-firmware/</span><span class="org-builtin">{{</span><span class="org-function-name"> item </span><span class="org-builtin">}}</span><span class="org-string">"</span>
         <span class="org-variable-name">dest</span>: /lib/firmware/
         <span class="org-variable-name">owner</span>: root
         <span class="org-keyword">group</span>: root
         <span class="org-variable-name">mode</span>: 0644
      <span class="org-builtin">with_items</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> dvbsky_firmware_files </span><span class="org-builtin">}}</span><span class="org-string">'</span>
      <span class="org-builtin">notify</span>: [<span class="org-string">'Trigger Udev'</span>]

    - <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> Remove temporary files</span>
      <span class="org-keyword">file</span>:
        <span class="org-variable-name">path</span>: /tmp/dvbsky-firmware
        <span class="org-variable-name">state</span>: absent
  <span class="org-builtin">when</span>:
    - dvbsky_firmware_files is defined
    - dvbsky_firmware_files | bool
  <span class="org-builtin">tags</span>:
    - install
    - autodetect
    - dvbsky
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org78da257" class="outline-3">
<h3 id="org78da257"><span class="section-number-3">6.34.</span> autoinstall-dvbhddevice</h3>
<div class="outline-text-3" id="text-6-34">
<p>
How to get a driver for the TT-6400 FF card? Needed firmware files are in the <code>yavdr-firmware</code> package.
</p>
</div>
<div id="outline-container-org265f784" class="outline-4">
<h4 id="org265f784"><span class="section-number-4">6.34.1.</span> defaults</h4>
<div class="outline-text-4" id="text-6-34-1">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-variable-name">dvbhddevice_firmware</span>:
  - { <span class="org-variable-name">src</span>: <span class="org-string">'http://www.aregel.de/file_download/26/dvb-ttpremium-fpga-01_v1_10.zip'</span>, <span class="org-string">'checksum'</span>: <span class="org-string">'sha256:d5f0ecd1c687549d71a21269c25791554895d8c03ff580a9694ef24041952f69'</span>, <span class="org-string">'name'</span>: <span class="org-string">'dvb-ttpremium-fpga-01_v1_10.zip'</span> }
  - { <span class="org-variable-name">src</span>: <span class="org-string">'http://www.aregel.de/file_download/7/dvb-ttpremium-loader-01_v1_03.zip'</span>, <span class="org-string">'checksum'</span>: <span class="org-string">'sha256:99969d4740ca26332439590e6b6e86711c89be69cf94c3732267b8278c0da763'</span>, <span class="org-string">'name'</span>: <span class="org-string">'dvb-ttpremium-loader-01_v1_03.zip'</span> }
  - { <span class="org-variable-name">src</span>: <span class="org-string">'http://aregel.de/file_download/28/dvb-ttpremium-st7109-01_v0_5_1.zip'</span>,  <span class="org-string">'checksum'</span>: <span class="org-string">'sha256:cf336310fdd0c6998e6efa59d17b39d1fdb682daea51b60faee66444545986d4'</span>, <span class="org-string">'name'</span>: <span class="org-string">'dvb-ttpremium-st7109-01_v0_5_1.zip'</span> }
</pre>
</div>
</div>
</div>
<div id="outline-container-orgee3aa43" class="outline-4">
<h4 id="orgee3aa43"><span class="section-number-4">6.34.2.</span> dependencies</h4>
<div class="outline-text-4" id="text-6-34-2">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment">---</span>
<span class="org-variable-name">dependencies</span>:
    - { <span class="org-variable-name">role</span>: collect-facts }

</pre>
</div>
</div>
</div>
<div id="outline-container-orgca27c16" class="outline-4">
<h4 id="orgca27c16"><span class="section-number-4">6.34.3.</span> tasks</h4>
<div class="outline-text-4" id="text-6-34-3">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment">---</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">file roles/autoinstall-dvbhddevice/tasks/main.yml</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> Download Firmware for TT-6400 FF and install vdr-plugin-dvbhddevice</span>
  <span class="org-variable-name">block</span>:
    - <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> apt | install vdr-plugin-dvbhddevice and unzip</span>
      <span class="org-keyword">apt</span>:
        <span class="org-variable-name">name</span>:
          - vdr-plugin-dvbhddevice
          - unzip
        <span class="org-variable-name">state</span>: present
      <span class="org-builtin">notify</span>: [ <span class="org-string">'Restart VDR'</span> ]

    - <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> ensure /var/cache/firmware exists</span>
      <span class="org-keyword">file</span>:
        <span class="org-variable-name">state</span>: directory
        <span class="org-variable-name">path</span>: <span class="org-string">'/var/cache/firmware'</span>
    - <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> download TT-6400 FF firmware files</span>
      <span class="org-keyword">get_url</span>:
        <span class="org-variable-name">url</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> item.src </span><span class="org-builtin">}}</span><span class="org-string">'</span>
        <span class="org-variable-name">dest</span>: <span class="org-string">'/var/cache/firmware/</span><span class="org-builtin">{{</span><span class="org-function-name"> item.name </span><span class="org-builtin">}}</span><span class="org-string">'</span>
        <span class="org-variable-name">checksum</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> item.checksum </span><span class="org-builtin">}}</span><span class="org-string">'</span>
      <span class="org-variable-name">loop</span>: <span class="org-string">"</span><span class="org-builtin">{{</span><span class="org-function-name"> dvbhddevice_firmware </span><span class="org-builtin">}}</span><span class="org-string">"</span>

    - <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> extract firmware files</span>
      <span class="org-keyword">unarchive</span>:
        <span class="org-variable-name">src</span>: <span class="org-string">'/var/cache/firmware/</span><span class="org-builtin">{{</span><span class="org-function-name"> item.name </span><span class="org-builtin">}}</span><span class="org-string">'</span>
        <span class="org-variable-name">dest</span>: <span class="org-string">'/lib/firmware/'</span>
        <span class="org-variable-name">remote_src</span>: <span class="org-constant">yes</span>
      <span class="org-variable-name">loop</span>: <span class="org-string">"</span><span class="org-builtin">{{</span><span class="org-function-name"> dvbhddevice_firmware </span><span class="org-builtin">}}</span><span class="org-string">"</span>
      <span class="org-builtin">notify</span>: [ <span class="org-string">'reboot required'</span> ]
  <span class="org-builtin">when</span>: <span class="org-string">'"13c2:300a" in pci or "13c2:300b" in pci or force_dvbhddevice|default(False)|bool'</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org4c842d4" class="outline-3">
<h3 id="org4c842d4"><span class="section-number-3">6.35.</span> autoinstall-dvbsddevice</h3>
<div class="outline-text-3" id="text-6-35">
</div>
<div id="outline-container-org4da5c52" class="outline-4">
<h4 id="org4da5c52"><span class="section-number-4">6.35.1.</span> defaults</h4>
<div class="outline-text-4" id="text-6-35-1">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-variable-name">dvbsddevice_firmware</span>:
  - { <span class="org-variable-name">src</span>: <span class="org-string">'https://linuxtv.org/downloads/firmware/dvb-ttpci-01.fw-2622'</span>, <span class="org-string">'checksum'</span>: <span class="org-string">'sha256:482e49f8aac3fa5ea464230ea3f0cf27e298b62680c33636cb1bf442ad6fb067'</span>, <span class="org-string">'name'</span>: <span class="org-string">'dvb-ttpci-01.fw'</span> }
</pre>
</div>
</div>
</div>
<div id="outline-container-org5e6a108" class="outline-4">
<h4 id="org5e6a108"><span class="section-number-4">6.35.2.</span> dependencies</h4>
<div class="outline-text-4" id="text-6-35-2">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment">---</span>
<span class="org-variable-name">dependencies</span>:
  - { <span class="org-variable-name">role</span>: collect-facts }

</pre>
</div>
</div>
</div>
<div id="outline-container-org2686e8a" class="outline-4">
<h4 id="org2686e8a"><span class="section-number-4">6.35.3.</span> tasks</h4>
<div class="outline-text-4" id="text-6-35-3">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment">---</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">file roles/autoinstall-dvbsddevice/tasks/main.yml</span>

<span class="org-comment-delimiter"># </span><span class="org-comment">TODO: install firmware</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> Install firmware and output plugin for FF sd cards</span>
  <span class="org-variable-name">block</span>:
    - <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> download firmware files</span>
      <span class="org-keyword">get_url</span>:
        <span class="org-variable-name">url</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> item.src </span><span class="org-builtin">}}</span><span class="org-string">'</span>
        <span class="org-variable-name">dest</span>: <span class="org-string">'/lib/firmware/</span><span class="org-builtin">{{</span><span class="org-function-name"> item.name </span><span class="org-builtin">}}</span><span class="org-string">'</span>
        <span class="org-variable-name">checksum</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> item.checksum </span><span class="org-builtin">}}</span><span class="org-string">'</span>
      <span class="org-variable-name">loop</span>: <span class="org-string">"</span><span class="org-builtin">{{</span><span class="org-function-name"> dvbsddevice_firmware </span><span class="org-builtin">}}</span><span class="org-string">"</span>
      <span class="org-builtin">notify</span>: [<span class="org-string">'reboot required'</span>]

    - <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> apt | install vdr-plugin-dvbsddevice if module is loaded</span>
      <span class="org-keyword">apt</span>:
        <span class="org-variable-name">name</span>: vdr-plugin-dvbsddevice
      <span class="org-builtin">notify</span>: [ <span class="org-string">'Restart VDR'</span> ]
  <span class="org-builtin">when</span>: <span class="org-string">'"dvb_ttpci" in modules or force_dvbsddevice|default(False)|bool'</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgee6d9da" class="outline-3">
<h3 id="orgee6d9da"><span class="section-number-3">6.36.</span> autoinstall-hardware-irmp</h3>
<div class="outline-text-3" id="text-6-36">
</div>
<div id="outline-container-org7d6fdf0" class="outline-4">
<h4 id="org7d6fdf0"><span class="section-number-4">6.36.1.</span> dependencies</h4>
<div class="outline-text-4" id="text-6-36-1">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment">---</span>
<span class="org-variable-name">dependencies</span>:
  - { <span class="org-variable-name">role</span>: collect-facts }

</pre>
</div>
</div>
</div>
<div id="outline-container-orgc09606d" class="outline-4">
<h4 id="orgc09606d"><span class="section-number-4">6.36.2.</span> tasks</h4>
<div class="outline-text-4" id="text-6-36-2">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment">---</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">file roles/autoinstall-hardware-irmp/tasks/main.yml</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> apt | install yavdr-hardware-irmp if connected</span>
  <span class="org-keyword">apt</span>:
    <span class="org-variable-name">name</span>: yavdr-hardware-irmp
    <span class="org-variable-name">state</span>: present
  <span class="org-builtin">when</span>: <span class="org-string">'"1209:4444" in usb or "16c0:27d9" in usb'</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org83a27b4" class="outline-3">
<h3 id="org83a27b4"><span class="section-number-3">6.37.</span> Serial IR Receivers</h3>
<div class="outline-text-3" id="text-6-37">
<p>
This role preconfigures the system for serial &ldquo;homebrew&rdquo; receivers. Newer kernel versions provide <code>serial_ir</code> which acts as a rc-core driver, so we don&rsquo;t need lircd - eventlircd can use the device directly.
</p>

<p>
As configured in the role yavdr-remote (<a href="#org26c8ed9">/etc/rc_maps.cfg</a>) a keytable for a RC-6 MCE remote is loaded by default. You can choose a different keymap which may also use another ir-protocol.
</p>
</div>
<div id="outline-container-orgf83a1a4" class="outline-4">
<h4 id="orgf83a1a4"><span class="section-number-4">6.37.1.</span> defaults</h4>
<div class="outline-text-4" id="text-6-37-1">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment">---</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">file: roles/serial-ir/defaults/main.yml</span>

<span class="org-variable-name">serial_ir_device</span>: <span class="org-string">''</span>

<span class="org-variable-name">serial_ir_data</span>:
  <span class="org-variable-name">ttyS0</span>:
    <span class="org-variable-name">irq</span>: 4
    <span class="org-variable-name">io</span>: <span class="org-string">'0x3f8'</span>
  <span class="org-variable-name">ttyS1</span>:
    <span class="org-variable-name">irq</span>: 3
    <span class="org-variable-name">io</span>: <span class="org-string">'0x2f8'</span>
  <span class="org-variable-name">ttyS2</span>:
    <span class="org-variable-name">irq</span>: 3
    <span class="org-variable-name">io</span>: <span class="org-string">'0x3e8'</span>
  <span class="org-variable-name">ttyS3</span>:
    <span class="org-variable-name">irq</span>: 4
    <span class="org-variable-name">io</span>: <span class="org-string">'0x2e8'</span>

</pre>
</div>
</div>
</div>
<div id="outline-container-org1434741" class="outline-4">
<h4 id="org1434741"><span class="section-number-4">6.37.2.</span> tasks</h4>
<div class="outline-text-4" id="text-6-37-2">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment">---</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">file: roles/serial-ir/tasks/main.yml</span>
- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> check if serial_ir_device is not empty and does not match devices defined in serial_ir_data</span>
  <span class="org-keyword">fail</span>:
    <span class="org-variable-name">msg</span>: <span class="org-string">"The serial device  </span><span class="org-builtin">{{</span><span class="org-function-name"> serial_ir_device </span><span class="org-builtin">}}</span><span class="org-string"> is not defined in serial_ir_data"</span>
  <span class="org-builtin">when</span>: serial_ir_device|length &gt; 0 and serial_ir_device not in serial_ir_data

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> apt | install setserial</span>
  <span class="org-keyword">apt</span>:
    <span class="org-variable-name">name</span>: setserial

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> load serial_ir on startup</span>
  <span class="org-keyword">template</span>:
    <span class="org-variable-name">src</span>: roles/serial-ir/templates/modules-load.d/serial_ir.conf.j2
    <span class="org-variable-name">dest</span>: /etc/modules-load.d/serial_ir.conf

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> serial_ir module options</span>
  <span class="org-keyword">template</span>:
    <span class="org-variable-name">src</span>: roles/serial-ir/templates/modprobe.d/serial_ir.conf.j2
    <span class="org-variable-name">dest</span>: /etc/modprobe.d/serial_ir.conf

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> setserial options</span>
  <span class="org-keyword">template</span>:
    <span class="org-variable-name">src</span>: roles/serial-ir/templates/serial.conf.j2
    <span class="org-variable-name">dest</span>: /etc/serial.conf
</pre>
</div>
</div>
</div>
<div id="outline-container-org472e750" class="outline-4">
<h4 id="org472e750"><span class="section-number-4">6.37.3.</span> templates</h4>
<div class="outline-text-4" id="text-6-37-3">
</div>
<ol class="org-ol">
<li><a id="org5864e8a"></a>load serial_ir on startup<br />
<div class="outline-text-5" id="text-6-37-3-1">
<div class="org-src-container">
<pre class="src src-jinja2"><span class="org-type">{{</span> <span class="org-variable-name">ansible_managed </span><span class="org-keyword">| </span><span class="org-warning">comment</span> <span class="org-type">}}</span>

<span class="org-function-name">{%</span> <span class="org-keyword">if</span> serial_ir_device <span class="org-builtin">in</span> serial_ir_data <span class="org-function-name">%}</span>
serial_ir
<span class="org-function-name">{%</span> <span class="org-keyword">endif</span> <span class="org-function-name">%}</span>
</pre>
</div>
</div>
</li>
<li><a id="org9ecb6b0"></a>serial_ir module options<br />
<div class="outline-text-5" id="text-6-37-3-2">
<div class="org-src-container">
<pre class="src src-jinja2"><span class="org-type">{{</span> <span class="org-variable-name">ansible_managed </span><span class="org-keyword">| </span><span class="org-warning">comment</span> <span class="org-type">}}</span>

<span class="org-function-name">{%</span> <span class="org-keyword">if</span> serial_ir_device <span class="org-builtin">in</span> serial_ir_data <span class="org-function-name">%}</span>
options serial_ir irq=<span class="org-type">{{</span> <span class="org-variable-name">serial_ir_data[serial_ir_device].irq</span> <span class="org-type">}}</span> io=<span class="org-type">{{</span> <span class="org-variable-name">serial_ir_data[serial_ir_device].io</span> <span class="org-type">}}</span>
install serial_ir setserial /dev/<span class="org-type">{{</span> <span class="org-variable-name">serial_ir_device</span> <span class="org-type">}}</span> uart <span class="org-builtin">none</span>; /sbin/modprobe --<span class="org-builtin">ignore</span>-install serial_ir
<span class="org-function-name">{%</span> <span class="org-keyword">endif</span> <span class="org-function-name">%}</span>
</pre>
</div>
</div>
</li>
<li><a id="orge8f7833"></a>setserial options<br />
<div class="outline-text-5" id="text-6-37-3-3">
<div class="org-src-container">
<pre class="src src-jinja2"><span class="org-type">{{</span> <span class="org-variable-name">ansible_managed </span><span class="org-keyword">| </span><span class="org-warning">comment</span> <span class="org-type">}}</span>

<span class="org-function-name">{%</span> <span class="org-keyword">if</span> serial_ir_device <span class="org-builtin">in</span> serial_ir_data <span class="org-function-name">%}</span>
/dev/<span class="org-type">{{</span><span class="org-variable-name">serial_ir_device</span><span class="org-type">}}</span> uart <span class="org-builtin">none</span>
<span class="org-function-name">{%</span> <span class="org-keyword">endif</span> <span class="org-function-name">%}</span>
</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div id="outline-container-orgfe219fd" class="outline-3">
<h3 id="orgfe219fd"><span class="section-number-3">6.38.</span> kodi</h3>
<div class="outline-text-3" id="text-6-38">
</div>
<div id="outline-container-org60bc8b3" class="outline-4">
<h4 id="org60bc8b3"><span class="section-number-4">6.38.1.</span> tasks</h4>
<div class="outline-text-4" id="text-6-38-1">
</div>
<ol class="org-ol">
<li><a id="orga0ffb44"></a>Install KODI<br />
<ul class="org-ul">
<li><a id="org3ef5773"></a>main.yml<br />
<div class="outline-text-6" id="text-org3ef5773">
<div class="org-src-container">
<pre class="src src-yaml">- <span class="org-ansible-section">import_tasks</span>: install-kodi.yml
  <span class="org-builtin">tags</span>:
    - install
    - update
    - kodi:install
- <span class="org-ansible-section">import_tasks</span>: configure-kodi.yml
  <span class="org-builtin">tags</span>:
    - install
    - update
    - kodi:configure
</pre>
</div>
</div>
</li>
<li><a id="orgbab6430"></a>install-kodi.yml<br />
<div class="outline-text-6" id="text-6-38-1-1-1">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment">---</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> apt | install kodi packages</span>
  <span class="org-keyword">apt</span>:
    <span class="org-variable-name">name</span>:
      - kodi
      - kodi-pvr-vdr-vnsi
      - python3-lxml
    <span class="org-variable-name">state</span>: present
    <span class="org-variable-name">install_recommends</span>: <span class="org-constant">no</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> apt | install kodi-send (team-xbmc PPA)</span>
  <span class="org-keyword">apt</span>:
    <span class="org-variable-name">name</span>: <span class="org-string">"kodi-eventclients-kodi-send"</span>
    <span class="org-variable-name">state</span>: present
    <span class="org-variable-name">install_recommends</span>: <span class="org-constant">no</span>
  <span class="org-builtin">register</span>: team_xbmc_ppa
  <span class="org-variable-name">ignore_errors</span>: <span class="org-constant">True</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> apt | install kodi-send (fallback)</span>
  <span class="org-keyword">apt</span>:
    <span class="org-variable-name">name</span>: <span class="org-string">"kodi-eventclients-xbmc-send"</span> <span class="org-comment-delimiter"># </span><span class="org-comment">fallback to old xbmc-send package</span>
    <span class="org-variable-name">state</span>: present
    <span class="org-variable-name">install_recommends</span>: <span class="org-constant">no</span>
  <span class="org-builtin">when</span>: team_xbmc_ppa.failed
</pre>
</div>
</div>
</li>
<li><a id="org865b640"></a>configure-kodi.yml<br />
<div class="outline-text-6" id="text-6-38-1-1-2">
<div class="org-src-container">
<pre class="src src-yaml">- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> create kodi.service for the user session</span>
  <span class="org-keyword">template</span>:
      <span class="org-variable-name">src</span>: <span class="org-string">'templates/kodi.service.j2'</span>
      <span class="org-variable-name">dest</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.home </span><span class="org-builtin">}}</span><span class="org-string">/.config/systemd/user/kodi.service'</span>
      <span class="org-variable-name">mode</span>: 0644
      <span class="org-variable-name">owner</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.user </span><span class="org-builtin">}}</span><span class="org-string">'</span>
      <span class="org-keyword">group</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.group </span><span class="org-builtin">}}</span><span class="org-string">'</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> create kodi user directory</span>
  <span class="org-keyword">file</span>:
      <span class="org-variable-name">dest</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.home </span><span class="org-builtin">}}</span><span class="org-string">/</span><span class="org-builtin">{{</span><span class="org-function-name"> item </span><span class="org-builtin">}}</span><span class="org-string">'</span>
      <span class="org-variable-name">state</span>: directory
      <span class="org-variable-name">owner</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.user </span><span class="org-builtin">}}</span><span class="org-string">'</span>
      <span class="org-keyword">group</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.group </span><span class="org-builtin">}}</span><span class="org-string">'</span>
      <span class="org-variable-name">mode</span>: <span class="org-string">"0775"</span>
  <span class="org-builtin">with_items</span>:
      - .kodi
      - .kodi/userdata
      - .kodi/userdata/keymaps

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> copy Lircmap.xml if it does not exist yet</span>
  <span class="org-keyword">copy</span>:
      <span class="org-variable-name">dest</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.home </span><span class="org-builtin">}}</span><span class="org-string">/.kodi/userdata/Lircmap.xml'</span>
      <span class="org-variable-name">src</span>: <span class="org-string">'files/userdata/Lircmap.xml'</span>
      <span class="org-variable-name">owner</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.user </span><span class="org-builtin">}}</span><span class="org-string">'</span>
      <span class="org-keyword">group</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.group </span><span class="org-builtin">}}</span><span class="org-string">'</span>
      <span class="org-variable-name">mode</span>: <span class="org-string">"0664"</span>
      <span class="org-variable-name">force</span>: <span class="org-constant">no</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> copy remote.xml if it does not exist yet</span>
  <span class="org-keyword">copy</span>:
      <span class="org-variable-name">dest</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.home </span><span class="org-builtin">}}</span><span class="org-string">/.kodi/userdata/keymaps/remote.xml'</span>
      <span class="org-variable-name">src</span>: <span class="org-string">'files/userdata/keymaps/remote.xml'</span>
      <span class="org-variable-name">owner</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.user </span><span class="org-builtin">}}</span><span class="org-string">'</span>
      <span class="org-keyword">group</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.group </span><span class="org-builtin">}}</span><span class="org-string">'</span>
      <span class="org-variable-name">mode</span>: <span class="org-string">"0664"</span>
      <span class="org-variable-name">force</span>: <span class="org-constant">no</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> expand template for set-kodi-display</span>
  <span class="org-keyword">template</span>:
    <span class="org-variable-name">src</span>: <span class="org-string">'templates/set-kodi-display.j2'</span>
    <span class="org-variable-name">dest</span>: <span class="org-string">'/usr/bin/set-kodi-display'</span>
    <span class="org-variable-name">mode</span>: <span class="org-string">"0755"</span>
</pre>
</div>
</div>
</li>
</ol>
</li>
</ol>
</div>
<div id="outline-container-org5675010" class="outline-4">
<h4 id="org5675010"><span class="section-number-4">6.38.2.</span> templates</h4>
<div class="outline-text-4" id="text-6-38-2">
</div>
<ol class="org-ol">
<li><a id="orgafc6ae5"></a>kodi.service<br />
<div class="outline-text-5" id="text-6-38-2-1">
<p>
This systemd unit for the user session starts (and stops) kodi.
</p>
<div class="org-src-container">
<pre class="src src-conf">[<span class="org-type">Unit</span>]
<span class="org-variable-name">Description</span>=Start kodi in user session

[<span class="org-type">Service</span>]
<span class="org-variable-name">Type</span>=simple
<span class="org-variable-name">PassEnvironment</span>=DISPLAY XDG_RUNTIME_DIR DBUS_SESSION_BUS_ADDRESS
<span class="org-variable-name">Environment</span>=LIRC_SOCKET_PATH=/run/lirc/lircd
<span class="org-variable-name">ExecStartPre</span>=-/usr/bin/set-kodi-display
<span class="org-variable-name">ExecStart</span>=/usr/bin/kodi
<span class="org-variable-name">ExecStop</span>=/bin/bash -c <span class="org-string">"[ -n \"$MAINPID\"  ] || exit 0; /usr/bin/kodi-send --action=QUIT; while ps -p $MAINPID -o comm=; do sleep .25; done"</span>
<span class="org-variable-name">TimeoutStopSec</span>=10
<span class="org-variable-name">SuccessExitStatus</span>=0 127 SIGKILL
<span class="org-variable-name">Restart</span>=on-failure
</pre>
</div>
</div>
</li>
<li><a id="orga766025"></a>set-kodi-diplay<br />
<div class="outline-text-5" id="text-6-38-2-2">
<p>
This is a version-dependent script to force KODI to use the display set by the environment variable <code>DISPLAY</code>. The following Version is intended for KODI 18.
</p>
<div class="org-src-container">
<pre class="src src-python"><span class="org-comment-delimiter">#</span><span class="org-comment">!/usr/bin/env python3</span>
<span class="org-doc">"""</span>
<span class="org-doc">{{ ansible_managed }}</span>

<span class="org-doc">This Script changes the monitor in KODI's guisettings.xml to the wanted output</span>
<span class="org-doc">according to the DISPLAY environment variable. It works with KODI 18 (not KODI 17!).</span>

<span class="org-doc">In order to change the display we need to modify the settings/videoscreen nodes.</span>

<span class="org-doc">Basic algorithm:</span>
<span class="org-doc">    - get the current videoscreen.monitor</span>
<span class="org-doc">    - check if it needs to be changed</span>
<span class="org-doc">    - create a backup of the videoscreen nodes in /var/lib/vdr/.kodi/.display_cache/{CONNETOR}-videoscreen.xml</span>
<span class="org-doc">    - check if there is an existing backup for the new CONNECTOR</span>
<span class="org-doc">    - parse the backup of the videoscreen nodes</span>
<span class="org-doc">    - replace the videoscreen nodes with the backup data</span>
<span class="org-doc">"""</span>

<span class="org-keyword">import</span> copy
<span class="org-keyword">import</span> logging
<span class="org-keyword">import</span> os
<span class="org-keyword">import</span> sys
<span class="org-keyword">import</span> subprocess
<span class="org-keyword">from</span> lxml <span class="org-keyword">import</span> etree <span class="org-keyword">as</span> ET

logging.basicConfig(<span class="org-builtin">format</span>=<span class="org-string">'%(levelname)s: %(message)s'</span>, level=logging.DEBUG)
<span class="org-variable-name">GUISETTINGS</span> = <span class="org-string">'/var/lib/vdr/.kodi/userdata/guisettings.xml'</span>
<span class="org-variable-name">CACHE_DIR</span> = <span class="org-string">'/var/lib/vdr/.kodi/.display_cache'</span>
<span class="org-variable-name">VIDEOSCREEN_TEMPLATE</span> = <span class="org-string">"""&lt;settings version="2"&gt;</span>
<span class="org-string">    &lt;setting id="videoscreen.monitor"&gt;{}&lt;/setting&gt;</span>
<span class="org-string">&lt;/settings&gt;"""</span>


<span class="org-keyword">def</span> <span class="org-function-name">create_cache_dir</span>():
    <span class="org-keyword">try</span>:
        os.makedirs(CACHE_DIR, exist_ok=<span class="org-constant">True</span>)
    <span class="org-keyword">except</span> <span class="org-type">PermissionError</span>:
        sys.<span class="org-constant">exit</span>(f<span class="org-string">"Error: insufficient permissions to create cachedir {CACHE_DIR}"</span>)
    <span class="org-keyword">except</span> <span class="org-type">Exception</span>:
        logging.exception(f<span class="org-string">"Unexpected Error when trying to create {CACHE_DIR}:"</span>)
        sys.<span class="org-constant">exit</span>(1)



<span class="org-keyword">def</span> <span class="org-function-name">get_output_name</span>():
    <span class="org-doc">"""</span>
<span class="org-doc">    get display name from xrandr output for given DISPLAY environment variable</span>
<span class="org-doc">    """</span>
    <span class="org-keyword">try</span>:
        <span class="org-variable-name">xrandr_output</span> = [
            l <span class="org-keyword">for</span> l <span class="org-keyword">in</span> subprocess.check_output(
                [<span class="org-string">"xrandr"</span>],
                env={<span class="org-string">"DISPLAY"</span>: os.environ[<span class="org-string">"DISPLAY"</span>]}
            ).decode(<span class="org-string">"utf-8"</span>).splitlines()
        ]
        <span class="org-keyword">return</span> <span class="org-builtin">next</span>(l.split()[0] <span class="org-keyword">for</span> l <span class="org-keyword">in</span> xrandr_output <span class="org-keyword">if</span> <span class="org-string">" connected "</span> <span class="org-keyword">in</span> l)
    <span class="org-keyword">except</span> <span class="org-type">Exception</span>:
        logging.exception(<span class="org-string">"could not determine output name"</span>)
        sys.<span class="org-constant">exit</span>(<span class="org-string">"output name unknown, exiting early"</span>)


<span class="org-keyword">def</span> <span class="org-function-name">parse_template</span>(template_path, template, output=<span class="org-string">""</span>):
    <span class="org-doc">"""read videoscreen settings from backup or create a stub file"""</span>
    <span class="org-keyword">def</span> <span class="org-function-name">xml_tree_from_template</span>(template, output):
        <span class="org-variable-name">xml_template</span> = ET.fromstring(template.<span class="org-builtin">format</span>(output))
        <span class="org-variable-name">xml_tree</span> = ET.ElementTree(xml_template)
        <span class="org-keyword">return</span> xml_tree

    <span class="org-keyword">try</span>:
        <span class="org-variable-name">xml_tree</span> = ET.parse(template_path)
    <span class="org-keyword">except</span> <span class="org-type">OSError</span>:
        logging.debug(f<span class="org-string">"{template_path} not found, creating stub file"</span>)
        <span class="org-variable-name">xml_tree</span> = xml_tree_from_template(template, output)
    <span class="org-keyword">except</span> ET.XMLSyntaxError <span class="org-keyword">as</span> e:
        <span class="org-keyword">if</span> e.msg.startswith(<span class="org-string">'Document is empty'</span>):
            logging.info(f<span class="org-string">"{template_path} is empty, creating stub file"</span>)
            <span class="org-variable-name">xml_tree</span> = xml_tree_from_template(template, output)
        <span class="org-keyword">else</span>:
            sys.<span class="org-constant">exit</span>(f<span class="org-string">"Could not parse {template_path}, please fix file or remove it"</span>)
    <span class="org-keyword">finally</span>:
        xml_tree.write(template_path)
    <span class="org-keyword">return</span> xml_tree


<span class="org-keyword">def</span> <span class="org-function-name">main</span>(output):
    <span class="org-variable-name">guisettings</span> = parse_template(GUISETTINGS, VIDEOSCREEN_TEMPLATE, <span class="org-string">"Default"</span>)

    <span class="org-comment-delimiter"># </span><span class="org-comment">parse guisettings Etree for display name an backup videoscreen data</span>
    <span class="org-variable-name">root</span> = guisettings.getroot()
    <span class="org-variable-name">old_output</span> = root.find(<span class="org-string">"./setting[@id='videoscreen.monitor']"</span>).text
    <span class="org-keyword">if</span> old_output == output:
        logging.debug(<span class="org-string">"no changes necessary, exiting"</span>)
        sys.<span class="org-constant">exit</span>()

    <span class="org-comment-delimiter"># </span><span class="org-comment">create a minimal guisettings etree</span>
    <span class="org-variable-name">xml_path</span> = os.path.join(CACHE_DIR, f<span class="org-string">'{old_output}-videoscreen.xml'</span>)
    <span class="org-variable-name">base_tree</span> = ET.fromstring(<span class="org-string">'&lt;settings version="2"&gt;&lt;/settings&gt;'</span>)
    <span class="org-variable-name">xml_tree</span> = ET.ElementTree(base_tree)
    <span class="org-variable-name">backup_root</span> = xml_tree.getroot()

    <span class="org-comment-delimiter"># </span><span class="org-comment">copy videoscreen elements to backup etree</span>
    <span class="org-variable-name">videoscreen_elements</span> = root.xpath(
            <span class="org-string">"./setting[starts-with(@id, 'videoscreen.')]"</span>)
    <span class="org-keyword">for</span> element <span class="org-keyword">in</span> videoscreen_elements:
        backup_root.append(copy.deepcopy(element))
        element.getparent().remove(element)
    xml_tree.write(xml_path)
    logging.debug(f<span class="org-string">"written backup for {old_output} to {xml_path}"</span>)

    <span class="org-comment-delimiter"># </span><span class="org-comment">change videoscreen node to content of backup file</span>
    <span class="org-variable-name">xml_path</span> = os.path.join(CACHE_DIR, f<span class="org-string">'{output}-videoscreen.xml'</span>)
    <span class="org-variable-name">videodir_xml</span> = parse_template(xml_path, VIDEOSCREEN_TEMPLATE, output)
    <span class="org-variable-name">videodir_root</span> = videodir_xml.getroot()
    <span class="org-variable-name">videoscreen</span> = videodir_root.find(<span class="org-string">"./setting[@id='videoscreen.monitor']"</span>)
    <span class="org-comment-delimiter"># </span><span class="org-comment">copy videoscreen.* elements from Backup</span>
    <span class="org-variable-name">videoscreen_elements</span> = videodir_root.xpath(
            <span class="org-string">"./setting[starts-with(@id, 'videoscreen.')]"</span>)
    <span class="org-keyword">for</span> element <span class="org-keyword">in</span> videoscreen_elements:
        <span class="org-variable-name">new_element</span> = copy.deepcopy(element)
        root.append(new_element)
    guisettings.write(GUISETTINGS)


<span class="org-keyword">if</span> <span class="org-builtin">__name__</span> == <span class="org-string">'__main__'</span>:
    create_cache_dir()
    <span class="org-variable-name">output</span> = get_output_name()
    <span class="org-keyword">try</span>:
        main(output)
    <span class="org-keyword">except</span> <span class="org-type">Exception</span>:
        logging.exception(<span class="org-string">"Could not change videoscreen.* settings"</span>)
</pre>
</div>
</div>
</li>
</ol>
</div>
<div id="outline-container-orgcdd767f" class="outline-4">
<h4 id="orgcdd767f"><span class="section-number-4">6.38.3.</span> files</h4>
<div class="outline-text-4" id="text-6-38-3">
<p>
Those configuration files provide a preconfiguration for kodi which overrides the system wide configuration
</p>
</div>
<ol class="org-ol">
<li><a id="orgc488b2a"></a>Lircmap.xml<br />
<div class="outline-text-5" id="text-6-38-3-1">
<p>
This file allows to map keys sent by remotes via eventlircd (which uses the name <code>devinput</code>) to kodi key names.
</p>
<div class="org-src-container">
<pre class="src src-nxml"><span class="org-nxml-processing-instruction-delimiter">&lt;?</span><span class="org-nxml-processing-instruction-target">xml</span> <span class="org-nxml-processing-instruction-content">version="1.0" encoding="UTF-8"</span><span class="org-nxml-processing-instruction-delimiter">?&gt;</span>
<span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">lircmap</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">remote</span> <span class="org-nxml-attribute-local-name">device</span>=<span class="org-string">"linux-input-layer"</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">altname</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">cx23885_remote</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">altname</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">altname</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">devinput</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">altname</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">up</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">KEY_UP</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">up</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">down</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">KEY_DOWN</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">down</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">KEY_MENU</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">select</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">KEY_OK</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">select</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">KEY_ESC</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">left</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">KEY_LEFT</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">left</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">right</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">KEY_RIGHT</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">right</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">red</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">KEY_RED</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">red</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">green</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">KEY_GREEN</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">green</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">yellow</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">KEY_YELLOW</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">yellow</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">blue</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">KEY_BLUE</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">blue</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">zero</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">KEY_0</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">zero</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">one</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">KEY_1</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">one</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">two</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">KEY_2</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">two</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">three</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">KEY_3</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">three</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">four</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">KEY_4</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">four</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">five</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">KEY_5</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">five</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">six</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">KEY_6</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">six</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">seven</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">KEY_7</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">seven</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">eight</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">KEY_8</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">eight</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">nine</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">KEY_9</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">nine</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">info</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">KEY_INFO</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">info</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">play</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">KEY_PLAY</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">play</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">play</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">KEY_PLAYPAUSE</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">play</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">pause</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">KEY_PAUSE</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">pause</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">stop</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">KEY_STOP</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">stop</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">record</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">KEY_RECORD</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">record</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">forward</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">KEY_FASTFORWARD</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">forward</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">reverse</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">KEY_REWIND</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">reverse</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">skipplus</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">KEY_NEXT</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">skipplus</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">skipminus</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">KEY_BACK</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">skipminus</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">power</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">KEY_POWER2</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">power</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">channelplus</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">KEY_CHANNELUP</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">channelplus</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">channelminus</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">KEY_CHANNELDOWN</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">channelminus</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">title</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">KEY_PROG3</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">title</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">volumeplus</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">KEY_VOLUMEUP</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">volumeplus</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">volumeminus</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">KEY_VOLUMEDOWN</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">volumeminus</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">teletext</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">KEY_TEXT</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">teletext</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mute</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">KEY_MUTE</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mute</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">start</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">KEY_SELECT</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">start</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">subtitle</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">KEY_SUBTITLE</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">subtitle</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">audio</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">KEY_MODE</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">audio</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">myvideo</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">KEY_VIDEO</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">myvideo</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mymusic</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">KEY_AUDIO</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mymusic</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mypictures</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">KEY_IMAGES</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mypictures</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">recordedtv</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">KEY_PVR</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">recordedtv</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">guide</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">KEY_EPG</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">guide</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">display</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">KEY_SCREEN</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">display</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">enter</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">KEY_PROG4</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">enter</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">playlist</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">KEY_ZOOM</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">playlist</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">livetv</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">KEY_CHANNEL</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">livetv</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mytv</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">KEY_TV</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mytv</span><span class="org-nxml-tag-delimiter">&gt;</span>
        <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">liveradio</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">KEY_FN</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">liveradio</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
<span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">lircmap</span><span class="org-nxml-tag-delimiter">&gt;</span>
</pre>
</div>
</div>
</li>
<li><a id="org563e32e"></a>remote.xml<br />
<div class="outline-text-5" id="text-6-38-3-2">
<p>
This file maps the keys defined in Lircmap.xml to actions within kodi.
</p>
<div class="org-src-container">
<pre class="src src-xml"><span class="org-nxml-processing-instruction-delimiter">&lt;?</span><span class="org-nxml-processing-instruction-target">xml</span> <span class="org-nxml-processing-instruction-content">version="1.0" encoding="UTF-8"</span><span class="org-nxml-processing-instruction-delimiter">?&gt;</span>
<span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">This file contains the mapping of remote keys to actions within Kodi.             </span>

<span class="org-comment">The format is:</span>
<span class="org-comment"> &lt;window&gt;</span>
<span class="org-comment">   &lt;device&gt;</span>
<span class="org-comment">     &lt;button&gt;action&lt;/button&gt;</span>
<span class="org-comment">   &lt;/device&gt;</span>
<span class="org-comment"> &lt;/window&gt;</span>

<span class="org-comment">The &lt;global&gt; section is a fall through - they will only be used if the button is</span>
<span class="org-comment">not used in the current window's section.</span>

<span class="org-comment">Actions can be built-in functions.</span>
<span class="org-comment"> eg &lt;B&gt;ActivateWindow(Music)&lt;/B&gt;</span>
<span class="org-comment">would automatically go to Music on the press of the B button.</span>

<span class="org-comment">An empty action removes the corresponding mapping from default and parent keymaps.</span>
<span class="org-comment">This is different from a "noop" action, which disables a button.</span>

<span class="org-comment">More documentation on keymaps can be found on http://kodi.wiki/view/keymaps </span><span class="org-comment-delimiter">--&gt;</span>
<span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">keymap</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">global</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">universalremote</span><span class="org-nxml-tag-delimiter">&gt;</span>
       <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">obc150</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">XBMC.ejecttray()</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">obc150</span><span class="org-nxml-tag-delimiter">&gt;</span>
       <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">obc151</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Playlist</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">obc151</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">universalremote</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">play</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">PlayPause</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">play</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">pause</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Pause</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">pause</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">stop</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Stop</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">stop</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">forward</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">FastForward</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">forward</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">reverse</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Rewind</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">reverse</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">left</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Left</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">left</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">right</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Right</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">right</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">up</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Up</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">up</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">down</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Down</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">down</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">select</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Select</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">select</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">pageplus</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">PageUp</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">pageplus</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">pageminus</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">PageDown</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">pageminus</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">ParentDir</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">PreviousMenu</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">title</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">ContextMenu</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">title</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">info</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Info</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">info</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">skipplus</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">SkipNext</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">skipplus</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">skipminus</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">SkipPrevious</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">skipminus</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">display</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">FullScreen</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">display</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">start</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">PreviousMenu</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">start</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">record</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Screenshot</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">record</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">volumeplus</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">VolumeUp</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">volumeplus</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">volumeminus</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">VolumeDown</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">volumeminus</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mute</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Mute</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mute</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">power</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">XBMC.Quit()</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">power</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">myvideo</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">XBMC.ActivateWindow(MyVideos)</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">myvideo</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mymusic</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">XBMC.ActivateWindow(MyMusic)</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mymusic</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">mypictures</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">XBMC.ActivateWindow(MyPictures)</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">mypictures</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-comment-delimiter">&lt;!--</span><span class="org-comment">- &lt;mytv&gt;XBMC.ActivateWindow(Home)&lt;/mytv&gt; </span><span class="org-comment-delimiter">--&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">recordedtv</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">XBMC.ActivateWindowAndFocus(MyPVR, 34,0, 13,0)</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">recordedtv</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">PVR: EPG </span><span class="org-comment-delimiter">--&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">guide</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">XBMC.ActivateWindowAndFocus(MyPVR, 31,0, 10,0)</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">guide</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">PVR: Channellist </span><span class="org-comment-delimiter">--&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">livetv</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">XBMC.ActivateWindowAndFocus(MyPVR, 32,0, 11,0)</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">livetv</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">PVR: Radio </span><span class="org-comment-delimiter">--&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">liveradio</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">XBMC.ActivateWindowAndFocus(MyPVR, 33,0, 12,0)</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">liveradio</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">red</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">XBMC.ActivateWindow(Home)</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">red</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">yellow</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">XBMC.ActivateWindow(MyVideos)</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">yellow</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">green</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">XBMC.ActivateWindow(MyMusic)</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">green</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">&lt;blue&gt;XBMC.ActivateWindow(MyPictures)&lt;/blue&gt; </span><span class="org-comment-delimiter">--&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">zero</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Number0</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">zero</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">one</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Number1</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">one</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">two</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">JumpSMS2</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">two</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">three</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">JumpSMS3</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">three</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">four</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">JumpSMS4</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">four</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">five</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">JumpSMS5</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">five</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">six</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">JumpSMS6</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">six</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">seven</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">JumpSMS7</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">seven</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">eight</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">JumpSMS8</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">eight</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">nine</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">JumpSMS9</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">nine</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">audio</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">AudioNextLanguage</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">audio</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">subtitle</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">ShowSubtitles</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">subtitle</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">enter</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">FullScreen</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">enter</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">blue</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">ContextMenu</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">blue</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">playlist</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">XBMC.ActivateWindow(MyMusicPlaylist)</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">playlist</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">global</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">Home</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">XBMC.Skin.ToggleSetting(HomeViewToggle)</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">info</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">XBMC.ActivateWindow(SystemInfo)</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">info</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">clear</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">XBMC.ActivateWindow(Weather)</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">clear</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">blue</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">XBMC.ActivateWindow(Settings)</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">blue</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">red</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">FullScreen</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">red</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">FullScreen</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">Home</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">MyFiles</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">clear</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Delete</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">clear</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">MyFiles</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">MyMusicPlaylist</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Playlist</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span>      <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">Close playlist </span><span class="org-comment-delimiter">--&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">clear</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Delete</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">clear</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">MyMusicPlaylist</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">MyMusicPlaylistEditor</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">zero</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Queue</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">zero</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">MyMusicPlaylistEditor</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">MyMusicFiles</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">zero</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Queue</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">zero</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">star</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Queue</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">star</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">start</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">ContextMenu</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">start</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">MyMusicFiles</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">MyMusicLibrary</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">zero</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Queue</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">zero</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">star</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Queue</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">star</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">MyMusicLibrary</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">FullscreenVideo</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">FullScreen</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">zero</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Number0</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">zero</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">one</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Number1</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">one</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">two</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Number2</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">two</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">three</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Number3</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">three</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">four</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Number4</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">four</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">five</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Number5</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">five</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">six</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Number6</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">six</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">seven</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Number7</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">seven</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">eight</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Number8</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">eight</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">nine</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Number9</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">nine</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">left</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Rewind</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">left</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">right</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">FastForward</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">right</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">up</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Play</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">up</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">down</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Pause</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">down</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">yellow</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">StepForward</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">yellow</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">green</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">StepBack</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">green</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">blue</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">CodecInfo</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">blue</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">OSD</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">start</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">OSD</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">start</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">info</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">XBMC.ActivateWindow(PVROSDChannels)</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">info</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">title</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">XBMC.ActivateWindow(PVROSDChannels)</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">title</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">display</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">AspectRatio</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">display</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">select</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Info</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">select</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">teletext</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">XBMC.ActivateWindow(Teletext)</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">teletext</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">channelplus</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">SkipNext</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">channelplus</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">channelminus</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">SkipPrevious</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">channelminus</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">record</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">XBMC.PlayerControl(Record)</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">record</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">FullscreenVideo</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">FullscreenInfo</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">FullScreen</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">left</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Rewind</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">left</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">right</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">FastForward</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">right</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">up</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Play</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">up</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">down</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Pause</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">down</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">yellow</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">StepForward</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">yellow</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">green</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">StepBack</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">green</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">display</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">AspectRatio</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">display</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">info</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">CodecInfo</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">info</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">select</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Close</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">select</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">OSD</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">FullscreenInfo</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">PlayerControls</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Close</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Close</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">PlayerControls</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">Visualisation</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">universalremote</span><span class="org-nxml-tag-delimiter">&gt;</span>
       <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">obc151</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">XBMC.ActivateWindow(MyMusicPlaylist)</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">obc151</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">universalremote</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">red</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">FullScreen</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">red</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">yellow</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">AnalogSeekForward</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">yellow</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">green</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">AnalogSeekBack</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">green</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">blue</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">CodecInfo</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">blue</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">left</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Rewind</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">left</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">right</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">FastForward</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">right</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">pageplus</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">SkipNext</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">pageplus</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">pageminus</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">SkipPrevious</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">pageminus</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">up</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Play</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">up</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">down</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Pause</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">down</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">info</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">XBMC.ActivateWindow(PVROSDChannels)</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">info</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">XBMC.ActivateWindow(MyMusicPlaylist)</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">select</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Info</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">select</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">XBMC.ActivateWindow(MusicOSD)</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">start</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">XBMC.ActivateWindow(MusicOSD)</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">start</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">Visualisation</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">MusicOSD</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Close</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Close</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">start</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Close</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">start</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">info</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">CodecInfo</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">info</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">MusicOSD</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">VisualisationSettings</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Close</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Close</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">VisualisationSettings</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">VisualisationPresetList</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Close</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Close</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">VisualisationPresetList</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">SlideShow</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">zero</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">ZoomNormal</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">zero</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">one</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">ZoomLevel1</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">one</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">two</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">ZoomLevel2</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">two</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">three</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">ZoomLevel3</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">three</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">four</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">ZoomLevel4</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">four</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">five</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">ZoomLevel5</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">five</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">six</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">ZoomLevel6</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">six</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">seven</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">ZoomLevel7</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">seven</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">eight</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">ZoomLevel8</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">eight</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">nine</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">ZoomLevel9</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">nine</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">info</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">CodecInfo</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">info</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">pageplus</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">ZoomIn</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">pageplus</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">pageminus</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">ZoomOut</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">pageminus</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">select</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Rotate</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">select</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">up</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Pause</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">up</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">down</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Play</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">down</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">PreviousMenu</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">SlideShow</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">ScreenCalibration</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">select</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">NextCalibration</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">select</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">enter</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">NextCalibration</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">enter</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">zero</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">ResetCalibration</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">zero</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">display</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">NextResolution</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">display</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">xbox</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">NextResolution</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">xbox</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">ScreenCalibration</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">GUICalibration</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">select</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">NextCalibration</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">select</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">enter</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">NextCalibration</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">enter</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">zero</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">ResetCalibration</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">zero</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">GUICalibration</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">SelectDialog</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Close</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">SelectDialog</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">VideoOSD</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">PreviousMenu</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Close</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">start</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Close</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">start</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">VideoOSD</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">VideoMenu</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">OSD</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">PreviousMenu</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">info</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Info</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">info</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">title</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">CodecInfo</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">title</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">zero</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Number0</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">zero</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">one</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Number1</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">one</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">two</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Number2</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">two</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">three</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Number3</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">three</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">four</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Number4</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">four</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">five</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Number5</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">five</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">six</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Number6</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">six</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">seven</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Number7</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">seven</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">eight</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Number8</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">eight</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">nine</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Number9</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">nine</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">VideoMenu</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">OSDVideoSettings</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Close</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Close</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">start</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Close</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">start</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">OSDVideoSettings</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">OSDAudioSettings</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Close</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Close</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">start</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Close</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">start</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">OSDAudioSettings</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">VideoBookmarks</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Close</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Close</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">start</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Close</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">start</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">zero</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Delete</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">zero</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">VideoBookmarks</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">MyVideoLibrary</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">zero</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Queue</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">zero</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">clear</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Delete</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">clear</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">green</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">ToggleWatched</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">green</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">yellow</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Queue</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">yellow</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">MyVideoLibrary</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">MyVideoFiles</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">zero</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Queue</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">zero</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">star</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Queue</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">star</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">blue</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">ContextMenu</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">blue</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">green</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">ToggleWatched</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">green</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">yellow</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Queue</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">yellow</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">MyVideoFiles</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">MyPictures</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">zero</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Queue</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">zero</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">star</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Queue</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">star</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">start</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">ContextMenu</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">start</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">MyPictures</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">MyVideoPlaylist</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Playlist</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span>      <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">Close playlist </span><span class="org-comment-delimiter">--&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">clear</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Delete</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">clear</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">zero</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Delete</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">zero</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">MyVideoPlaylist</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">VirtualKeyboard</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">BackSpace</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">star</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Shift</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">star</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">hash</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Symbols</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">hash</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">zero</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Number0</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">zero</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">one</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Number1</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">one</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">two</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Number2</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">two</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">three</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Number3</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">three</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">four</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Number4</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">four</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">five</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Number5</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">five</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">six</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Number6</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">six</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">seven</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Number7</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">seven</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">eight</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Number8</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">eight</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">nine</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Number9</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">nine</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">pageminus</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">CursorLeft</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">pageminus</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">pageplus</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">CursorRight</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">pageplus</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">VirtualKeyboard</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">ContextMenu</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">blue</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Close</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">blue</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Close</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">ContextMenu</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">FileStackingDialog</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Close</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">FileStackingDialog</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">Scripts</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">info</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">XBMC.ActivateWindow(ScriptsDebugInfo)</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">info</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">Scripts</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">ScriptsDebugInfo</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">info</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Info</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">info</span><span class="org-nxml-tag-delimiter">&gt;</span>      <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">clears debug python info </span><span class="org-comment-delimiter">--&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">ScriptsDebugInfo</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">NumericInput</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">zero</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Number0</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">zero</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">one</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Number1</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">one</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">two</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Number2</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">two</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">three</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Number3</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">three</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">four</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Number4</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">four</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">five</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Number5</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">five</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">six</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Number6</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">six</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">seven</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Number7</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">seven</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">eight</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Number8</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">eight</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">nine</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Number9</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">nine</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">BackSpace</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">NumericInput</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">Weather</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">PreviousMenu</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">Weather</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">Settings</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">PreviousMenu</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">Settings</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">MyPicturesSettings</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">PreviousMenu</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">MyPicturesSettings</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">MyProgramsSettings</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">PreviousMenu</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">MyProgramsSettings</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">MyWeatherSettings</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">PreviousMenu</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">MyWeatherSettings</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">MyMusicSettings</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">PreviousMenu</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">MyMusicSettings</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">SystemSettings</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">PreviousMenu</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">SystemSettings</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">MyVideosSettings</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">PreviousMenu</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">MyVideosSettings</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">NetworkSettings</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">PreviousMenu</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">NetworkSettings</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">AppearanceSettings</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">PreviousMenu</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">AppearanceSettings</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">Profiles</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">PreviousMenu</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">Profiles</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">systeminfo</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">PreviousMenu</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">systeminfo</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">shutdownmenu</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">PreviousMenu</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">shutdownmenu</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">submenu</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">PreviousMenu</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">submenu</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">MusicInformation</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Close</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">MusicInformation</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">MovieInformation</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Close</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">MovieInformation</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">LockSettings</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Close</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">PreviousMenu</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">LockSettings</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">ProfileSettings</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Close</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">PreviousMenu</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">ProfileSettings</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">PictureInfo</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">skipplus</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">NextPicture</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">skipplus</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">skipminus</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">PreviousPicture</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">skipminus</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">info</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Close</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">info</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Close</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">PictureInfo</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">Teletext</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">zero</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">number0</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">zero</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">one</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">number1</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">one</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">two</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">number2</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">two</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">three</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">number3</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">three</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">four</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">number4</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">four</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">five</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">number5</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">five</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">six</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">number6</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">six</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">seven</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">number7</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">seven</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">eight</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">number8</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">eight</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">nine</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">number9</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">nine</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">red</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Red</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">red</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">green</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Green</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">green</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">yellow</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Yellow</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">yellow</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">blue</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Blue</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">blue</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">info</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Info</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">info</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Close</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Close</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">menu</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">start</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Close</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">start</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">teletext</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Close</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">teletext</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">Teletext</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">Favourites</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
      <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span><span class="org-nxml-text">Close</span><span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">back</span><span class="org-nxml-tag-delimiter">&gt;</span>
    <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">remote</span><span class="org-nxml-tag-delimiter">&gt;</span>
  <span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">Favourites</span><span class="org-nxml-tag-delimiter">&gt;</span>
<span class="org-nxml-tag-delimiter">&lt;</span><span class="org-nxml-tag-slash">/</span><span class="org-nxml-element-local-name">keymap</span><span class="org-nxml-tag-delimiter">&gt;</span>
</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div id="outline-container-org2bf6a82" class="outline-3">
<h3 id="org2bf6a82"><span class="section-number-3">6.39.</span> dvd</h3>
<div class="outline-text-3" id="text-6-39">
</div>
<div id="outline-container-org648c3c3" class="outline-4">
<h4 id="org648c3c3"><span class="section-number-4">6.39.1.</span> tasks</h4>
<div class="outline-text-4" id="text-6-39-1">
</div>
<ul class="org-ul">
<li><a id="orgaf30444"></a>install libdvd-pkg, allow programs to eject optical media<br />
<div class="outline-text-5" id="text-orgaf30444">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment">---</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">file: roles/dvd/tasks/main.yml</span>

<span class="org-comment-delimiter">#</span><span class="org-comment">- name: preconfigure libdvd-pkg</span>
<span class="org-comment-delimiter">#  </span><span class="org-comment">shell: |</span>
<span class="org-comment-delimiter">#    </span><span class="org-comment">echo 'libdvd-pkg libdvd-pkg/post-invoke_hook-install boolean true' | debconf-set-selections</span>
<span class="org-comment-delimiter">#    </span><span class="org-comment">echo 'libdvd-pkg libdvd-pkg/build boolean true' | debconf-set-selections</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> apt | install libdvd-pkg</span>
  <span class="org-keyword">apt</span>:
    <span class="org-variable-name">name</span>: libdvd-pkg
    <span class="org-variable-name">state</span>: present
    <span class="org-variable-name">install_recommends</span>: <span class="org-constant">no</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> reconfigure libdvd-pkg</span>
  <span class="org-variable-name">dpkg_reconfigure</span>:
    <span class="org-variable-name">pkg</span>: libdvd-pkg
    <span class="org-variable-name">answers</span>: |
     <span class="org-string">libdvd-pkg/post-invoke_hook-install: boolean true</span>
<span class="org-string">     libdvd-pkg/build: boolean true</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> change udev rule to allow KODI to eject optical disks</span>
  <span class="org-keyword">shell</span>: sed <span class="org-string">'s/--lock-media //'</span> /lib/udev/rules.d/60-cdrom_id.rules &gt; /etc/udev/rules.d/60-cdrom_id.rules
  <span class="org-builtin">args</span>:
    <span class="org-variable-name">creates</span>: /etc/udev/rules.d/60-cdrom_id.rules
    <span class="org-variable-name">warn</span>: <span class="org-constant">false</span>
</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div id="outline-container-orge4953ae" class="outline-3">
<h3 id="orge4953ae"><span class="section-number-3">6.40.</span> vdr-epg-daemon</h3>
<div class="outline-text-3" id="text-6-40">
<p>
This role installs the vdr-epg-daemon
</p>
</div>
<div id="outline-container-orgf400dd9" class="outline-4">
<h4 id="orgf400dd9"><span class="section-number-4">6.40.1.</span> defaults</h4>
<div class="outline-text-4" id="text-6-40-1">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment">---</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">file: roles/epgd/defaults/main.yml</span>

<span class="org-variable-name">epgd_dbhost</span>: localhost
<span class="org-variable-name">epgd_dbport</span>: 3306
<span class="org-variable-name">epgd_dbname</span>: epg2vdr
<span class="org-variable-name">epgd_dbuser</span>: epg2vdr
<span class="org-variable-name">epgd_dbpass</span>: epg
<span class="org-variable-name">epgd_epgview</span>: eventsview.sql
<span class="org-variable-name">epgd_epgviewweb</span>: eventsviewplain.sql
<span class="org-variable-name">epgd_thetvdbview</span>: thetvdbview.sql
<span class="org-variable-name">epgd_checkinitial</span>: 1
<span class="org-variable-name">epgd_daysinadvance</span>: 8
<span class="org-variable-name">epgd_daystoupdate</span>: 4
<span class="org-variable-name">epgd_updatetime</span>: 12
<span class="org-variable-name">epgd_updatethreshold</span>: 500
<span class="org-variable-name">epgd_xmlstoretofs</span>: 0
<span class="org-variable-name">epgd_getepgimages</span>: 1
<span class="org-comment-delimiter"># </span><span class="org-comment">EpgImageSize</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">0 = 174x130</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">1 = 329x245</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">2 = 525x400</span>
<span class="org-variable-name">epgd_epgimagesize</span>: 2
<span class="org-variable-name">epgd_maximagesperevent</span>: 1
<span class="org-variable-name">epgd_seriesenabled</span>: 1
<span class="org-variable-name">epgd_seriesport</span>: 2006
<span class="org-variable-name">epgd_seriesstoretofs</span>: 0
<span class="org-variable-name">epgd_seriesurl</span>: www.eplists.de
<span class="org-variable-name">epgd_scrapepg</span>: 1
<span class="org-variable-name">epgd_scrapRecordings</span>: 1
<span class="org-comment-delimiter">#</span><span class="org-comment">epgd_scrapmoviedbapikey: ""</span>
<span class="org-variable-name">epgd_cachepath</span>: /var/cache/epgd/
<span class="org-variable-name">epgd_epghttpd_port</span>: 9999
<span class="org-comment-delimiter">#</span><span class="org-comment">epgd_httpproxy: 127.0.0.1:8000</span>
<span class="org-variable-name">epgd_httpproxy_username</span>: <span class="org-string">""</span>
<span class="org-variable-name">epgd_httpproxy_password</span>: <span class="org-string">""</span>
<span class="org-variable-name">epgd_LogLevel</span>: 1
<span class="org-variable-name">epgd_epgdata_url</span>: http://www.epgdata.com
<span class="org-variable-name">epgd_epgdata_pin</span>: insert-your-pin-here
<span class="org-variable-name">epgd_epgdata_timeout</span>: 180
</pre>
</div>
</div>
</div>

<div id="outline-container-org9fc5032" class="outline-4">
<h4 id="org9fc5032"><span class="section-number-4">6.40.2.</span> tasks</h4>
<div class="outline-text-4" id="text-6-40-2">
<div class="org-src-container">
<pre class="src src-yml">---
# file: roles/epgd/tasks/main.yml

#Installing mariadb, epg-daemon and epg2vdr.
#bind-address is set to 0.0.0.0 --&gt; 99-epgd.cnf.
#The root SQL password is only stored (NONE), because the epgd-tool
#is expecting it. But it is not really used,
#because the connection is established via a socket without a password.
#Normal users must use sudo if they want to access mysql as root.
#TODO:
    # - Create channelmap if channels.conf is present.
    #   (the script already exists at mld.)
    # - because skindesigner-logos delivers only svg-logos, logoSuffix svg should be the preset --&gt; vdr-epg-daemon / lib / parameters.c
    # - customize epgd-tool for mariadb


- name: MariaDB and Plugin | install
  apt:
    name: ['mariadb-server', 'mariadb-plugin-epglv', 'python3-pymysql']
    state: present

- name: copy file | epgd mariadb config
  template:
    src: templates/etc_mysql_mariadb.conf.d_99-epgd.cnf.j2
    dest: /etc/mysql/mariadb.conf.d/99-epgd.cnf
    owner: root
    group: root

- name: create /root/.ssh if it doesn't exist yes
  file:
    path: /root/.ssh
    state: directory
    owner: root
    group: root
    mode: 0700

- name: copy file | mysqlpasswd
  template:
    src: templates/root_.ssh_mysqlpasswd.j2
    dest: /root/.ssh/mysqlpasswd
    owner: root
    group: root
    mode: 0600
    backup: yes

- name: Restart mariadb
  systemd:
    name: mariadb.service
    state: restarted
    enabled: yes
    masked: no

- name: Create a new database for epgd
  mysql_db:
    name: "{{ epgd_dbname }}"
    encoding: utf8
    state: present
    login_unix_socket: /var/run/mysqld/mysqld.sock

- name: Create User for epgd database
  mysql_user:
    name: "{{ epgd_dbuser }}"
    password: "{{ epgd_dbpass }}"
    host: '%'
    priv: '{{ epgd_dbname }}.*:ALL'
    state: present
    login_unix_socket: /var/run/mysqld/mysqld.sock

- name: Create User for epgd database
  mysql_user:
    name: "{{ epgd_dbuser }}"
    password: "{{ epgd_dbpass }}"
    host: 'localhost'
    priv: '{{ epgd_dbname }}.*:ALL'
    state: present
    login_unix_socket: /var/run/mysqld/mysqld.sock

- name: create epgd config folder
  file:
   path: /etc/epgd
   state: directory

- name: epgd config
  template:
    src: templates/etc_epgd_epgd.conf.j2
    dest: /etc/epgd/epgd.conf

- name: epgd | install
  apt:
    name: ['vdr-epg-daemon', 'vdr-plugin-epg2vdr', 'skindesigner-logos']
    state: present

#- name: epgd | start
#  systemd:
#    name: epgd_service
#    state: started
#    enabled: yes
#    masked: no
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb544327" class="outline-4">
<h4 id="orgb544327"><span class="section-number-4">6.40.3.</span> templates</h4>
<div class="outline-text-4" id="text-6-40-3">
</div>
<ol class="org-ol">
<li><a id="orgd827276"></a>Template for /etc/mysql/mariadb.conf.d/99-epgd.cnf<br />
<div class="outline-text-5" id="text-6-40-3-1">
<p>
to allow Database access from all hosts on network
<code>file: roles/epgd/templates/etc_mysql_mariadb.conf.d_99-epgd.cnf.j2</code>
</p>
<div class="org-src-container">
<pre class="src src-jinja2"><span class="org-type">{{</span> <span class="org-variable-name">ansible_managed </span><span class="org-keyword">| </span><span class="org-warning">comment</span> <span class="org-type">}}</span>
[mysqld]
bind-address            = 0.0.0.0
</pre>
</div>
</div>
</li>
<li><a id="org145b03f"></a>template for <code>/root/.ssh/mysqlpasswd</code> so epgd-tool is happy<br />
<div class="outline-text-5" id="text-6-40-3-2">
<p>
<code>file: roles/epgd/templates/root_.ssh_mysqlpasswd.j2</code>
</p>
<div class="org-src-container">
<pre class="src src-jinja2"><span class="org-type">{{</span> <span class="org-variable-name">ansible_managed </span><span class="org-keyword">| </span><span class="org-warning">comment</span> <span class="org-type">}}</span>
PASSWORD=<span class="org-builtin">NONE</span> 
</pre>
</div>
</div>
</li>
<li><a id="org6ff753b"></a>template for /etc/epgd/epgd.conf<br />
<div class="outline-text-5" id="text-6-40-3-3">
<p>
<code>file: roles/epgd/templates/etc_epgd_epgd.conf.j2</code>
</p>
<div class="org-src-container">
<pre class="src src-jinja2"><span class="org-type">{{</span> <span class="org-variable-name">ansible_managed </span><span class="org-keyword">| </span><span class="org-warning">comment</span> <span class="org-type">}}</span>
# ------------------------------------
# Configuration of EPG Daemon
# ------------------------------------

DbHost = <span class="org-type">{{</span> <span class="org-variable-name">epgd_dbhost</span> <span class="org-type">}}</span>
DbPort = <span class="org-type">{{</span> <span class="org-variable-name">epgd_dbport</span> <span class="org-type">}}</span>
DbName = <span class="org-type">{{</span> <span class="org-variable-name">epgd_dbname</span> <span class="org-type">}}</span>
DbUser = <span class="org-type">{{</span> <span class="org-variable-name">epgd_dbuser</span> <span class="org-type">}}</span>
DbPass = <span class="org-type">{{</span> <span class="org-variable-name">epgd_dbpass</span> <span class="org-type">}}</span>

EpgView = <span class="org-type">{{</span> <span class="org-variable-name">epgd_epgview</span> <span class="org-type">}}</span>
EpgViewWeb = <span class="org-type">{{</span> <span class="org-variable-name">epgd_epgviewweb</span> <span class="org-type">}}</span>
TheTvDBView = <span class="org-type">{{</span> <span class="org-variable-name">epgd_thetvdbview</span> <span class="org-type">}}</span>

CheckInitial = <span class="org-type">{{</span> <span class="org-variable-name">epgd_checkinitial</span> <span class="org-type">}}</span>
DaysInAdvance = <span class="org-type">{{</span> <span class="org-variable-name">epgd_daysinadvance</span> <span class="org-type">}}</span>
DaysToUpdate = <span class="org-type">{{</span> <span class="org-variable-name">epgd_daystoupdate</span> <span class="org-type">}}</span>
UpdateTime = <span class="org-type">{{</span> <span class="org-variable-name">epgd_updatetime</span> <span class="org-type">}}</span>
UpdateThreshold = <span class="org-type">{{</span> <span class="org-variable-name">epgd_updatethreshold</span> <span class="org-type">}}</span>

XmlStoreToFs = <span class="org-type">{{</span> <span class="org-variable-name">epgd_xmlstoretofs</span> <span class="org-type">}}</span>

GetEPGImages = <span class="org-type">{{</span> <span class="org-variable-name">epgd_getepgimages</span> <span class="org-type">}}</span>
# EpgImageSize
# 0 = 174x130
# 1 = 329x245
# 2 = 525x400
EpgImageSize = <span class="org-type">{{</span> <span class="org-variable-name">epgd_epgimagesize</span> <span class="org-type">}}</span>
MaxImagesPerEvent = <span class="org-type">{{</span> <span class="org-variable-name">epgd_maximagesperevent</span> <span class="org-type">}}</span>

SeriesEnabled = <span class="org-type">{{</span> <span class="org-variable-name">epgd_seriesenabled</span> <span class="org-type">}}</span>
SeriesPort = <span class="org-type">{{</span> <span class="org-variable-name">epgd_seriesport</span> <span class="org-type">}}</span>
SeriesStoreToFs = <span class="org-type">{{</span> <span class="org-variable-name">epgd_seriesstoretofs</span> <span class="org-type">}}</span>
SeriesUrl = <span class="org-type">{{</span> <span class="org-variable-name">epgd_seriesurl</span> <span class="org-type">}}</span>

ScrapEpg = <span class="org-type">{{</span> <span class="org-variable-name">epgd_scrapepg</span> <span class="org-type">}}</span>
ScrapRecordings = <span class="org-type">{{</span> <span class="org-variable-name">epgd_scrapRecordings</span> <span class="org-type">}}</span>
<span class="org-function-name">{%</span> <span class="org-keyword">if</span> epgd_scrapmoviedbapikey <span class="org-builtin">is</span> defined <span class="org-function-name">%}</span>
ScrapMovieDbApiKey = <span class="org-type">{{</span> <span class="org-variable-name">epgd_scrapmoviedbapikey</span> <span class="org-type">}}</span>
<span class="org-function-name">{%</span> <span class="org-keyword">else</span> <span class="org-function-name">%}</span>
#ScrapMovieDbApiKey =
<span class="org-function-name">{%</span> <span class="org-keyword">endif</span> <span class="org-function-name">%}</span>

<span class="org-function-name">{%</span> <span class="org-keyword">if</span> epgd_netdevice <span class="org-builtin">is</span> defined <span class="org-function-name">%}</span>
NetDevice = <span class="org-type">{{</span> <span class="org-variable-name">epgd_netdevice</span> <span class="org-type">}}</span>
<span class="org-function-name">{%</span> <span class="org-keyword">else</span> <span class="org-function-name">%}</span>
# NetDevice = eth0
<span class="org-function-name">{%</span> <span class="org-keyword">endif</span> <span class="org-function-name">%}</span>

CachePath = <span class="org-type">{{</span> <span class="org-variable-name">epgd_cachepath</span> <span class="org-type">}}</span>
HttpPort = <span class="org-type">{{</span> <span class="org-variable-name">epgd_epghttpd_port</span> <span class="org-type">}}</span>

<span class="org-function-name">{%</span> <span class="org-keyword">if</span> epgd_httpproxy <span class="org-builtin">is</span> defined <span class="org-function-name">%}</span>
HttpProxy = <span class="org-type">{{</span> <span class="org-variable-name">epgd_httpproxy</span> <span class="org-type">}}</span>
UserName = <span class="org-type">{{</span> <span class="org-variable-name">epgd_httpproxy_username</span> <span class="org-type">}}</span>
Password = <span class="org-type">{{</span> <span class="org-variable-name">epgd_httpproxy_password</span> <span class="org-type">}}</span>
<span class="org-function-name">{%</span> <span class="org-keyword">else</span> <span class="org-function-name">%}</span>
# HttpProxy = 127.0.0.1:8000
# UserName =
# Password =
<span class="org-function-name">{%</span> <span class="org-keyword">endif</span> <span class="org-function-name">%}</span>

LogLevel = <span class="org-type">{{</span> <span class="org-variable-name">epgd_LogLevel</span> <span class="org-type">}}</span>

# ---------------
# epgdata plugin
# ---------------

epgdata.<span class="org-builtin">url</span> = <span class="org-type">{{</span> <span class="org-variable-name">epgd_epgdata_url</span> <span class="org-type">}}</span>
epgdata.pin = <span class="org-type">{{</span> <span class="org-variable-name">epgd_epgdata_pin</span> <span class="org-type">}}</span> 

# Download timeout <span class="org-builtin">in</span> seconds (default 180)
epgdata.timeout = <span class="org-type">{{</span> <span class="org-variable-name">epgd_epgdata_timeout</span> <span class="org-type">}}</span>
</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div id="outline-container-orgb22d1b8" class="outline-3">
<h3 id="orgb22d1b8"><span class="section-number-3">6.41.</span> install-sundtek</h3>
<div class="outline-text-3" id="text-6-41">
<p>
This role checks for USB IDs <code>2659:*</code> and <code>ab1a:5*</code>. If you want to force installation of sundtek packages (e.g. for accessing network tuners), set <code>sundtek.force_install</code> to <code>True</code>.
</p>

<p>
There are two ways to configure the VDR to use sundtek devices:
</p>
<ul class="org-ul">
<li>delay starting the VDR until the sundtek <code>mediasrv</code> has initialized all local devices -&gt; set <code>sundtek.wait_for_devices</code> to <code>True</code> (default)</li>
<li>use the vdr plugins <code>vdr-plugin-dynamite</code> and <code>vdr-plugin-sundtek</code> to allow the VDR to add (and remove) those tuners at runtime -&gt; set <code>sundtek.wait_for_devices</code> to <code>False</code></li>
</ul>

<p>
If you need to statically mount network tuners via <code>/etc/sundtek.conf</code>, set <code>sundtek.wait_for_network</code> to <code>True</code>. Please note that in this case the server has to be always avaible while the client is running.
</p>

<p>
Each program accessing sundtek tuners over device nodes in <code>/dev/dvb</code> needs to be started with the environment variable <code>LD_PRELOAD=/opt/lib/libmediaclient.so</code>. E.g. when using <code>w_scan</code>:
</p>
<div class="org-src-container">
<pre class="src src-shell">sudo <span class="org-variable-name">LD_PRELOAD</span>=/opt/lib/libmediaclient.so w_scan -f c -c de &gt; new_channels.conf
</pre>
</div>
</div>

<div id="outline-container-org186439a" class="outline-4">
<h4 id="org186439a"><span class="section-number-4">6.41.1.</span> dependencies</h4>
<div class="outline-text-4" id="text-6-41-1">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment">---</span>
<span class="org-variable-name">dependencies</span>:
  - { <span class="org-variable-name">role</span>: collect-facts }

</pre>
</div>
</div>
</div>
<div id="outline-container-org3cb6ba6" class="outline-4">
<h4 id="org3cb6ba6"><span class="section-number-4">6.41.2.</span> defaults</h4>
<div class="outline-text-4" id="text-6-41-2">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment">---</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">file: roles/install-sundtek/defaults/main.yml</span>

<span class="org-variable-name">sundtek</span>:
  <span class="org-variable-name">force_install</span>: <span class="org-constant">false</span>
  <span class="org-variable-name">wait_for_devices</span>: <span class="org-constant">true</span>
  <span class="org-variable-name">wait_for_network</span>: <span class="org-constant">false</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb2e42a9" class="outline-4">
<h4 id="orgb2e42a9"><span class="section-number-4">6.41.3.</span> tasks</h4>
<div class="outline-text-4" id="text-6-41-3">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment">---</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">file roles/install-sundtek/tasks/main.yml</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> check for connected sundtek devices</span>
  <span class="org-keyword">set_fact</span>:
    <span class="org-variable-name">install_sundtek</span>: <span class="org-string">"</span><span class="org-builtin">{{</span><span class="org-function-name"> (usb | select('match', '2659:') | list | length | bool) or (usb | select('match', 'eb1a:5') | list | length | bool) or (sundtek.force_install | bool) </span><span class="org-builtin">}}</span><span class="org-string">"</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> Preconfigure sundtek drivers</span>
  <span class="org-variable-name">block</span>:
    - <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> override udev rule installed by dvb-driver-sundtek</span>
      <span class="org-keyword">template</span>:
        <span class="org-variable-name">src</span>: templates/udev/80-mediasrv-sundtek.rules.j2
        <span class="org-variable-name">dest</span>: /etc/udev/rules.d/80-mediasrv-sundtek.rules

    - <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> expand template for custom sundtek.service</span>
      <span class="org-keyword">template</span>:
        <span class="org-variable-name">src</span>: templates/systemd/sundtek.service.j2
        <span class="org-variable-name">dest</span>: /etc/systemd/system/sundtek.service

    - <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> set LD_PRELOAD for sundtek driver to VDR's environment</span>
      <span class="org-keyword">template</span>:
        <span class="org-variable-name">src</span>: templates/systemd/vdr.service.d/sundtek.conf.j2
        <span class="org-variable-name">dest</span>: /etc/systemd/system/vdr.service.d/sundtek_LD_PRELOAD.conf
      <span class="org-builtin">notify</span>: [<span class="org-string">'Reload Units'</span>, <span class="org-string">'Restart VDR'</span>]

  <span class="org-builtin">when</span>: install_sundtek | bool

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> apt | install sundtek dvb driver</span>
  <span class="org-keyword">apt</span>:
    <span class="org-variable-name">name</span>: dvb-driver-sundtek
    <span class="org-variable-name">state</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> "present" if install_sundtek | bool else "absent" </span><span class="org-builtin">}}</span><span class="org-string">'</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> apt | install vdr-plugins for dynamic sundtek configuration else uninstall</span>
  <span class="org-keyword">apt</span>:
    <span class="org-variable-name">name</span>:
    - vdr-plugin-dynamite
    - vdr-plugin-sundtek
    <span class="org-variable-name">state</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> "absent" if sundtek.wait_for_devices or not install_sundtek else "present" </span><span class="org-builtin">}}</span><span class="org-string">'</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> install and run sundtek.service</span>
  <span class="org-variable-name">block</span>:
    - <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> check if sundtek.service is running</span>
      <span class="org-keyword">systemd</span>:
        <span class="org-variable-name">name</span>: sundtek.service
        <span class="org-variable-name">state</span>: started
      <span class="org-variable-name">check_mode</span>: <span class="org-constant">yes</span>
      <span class="org-builtin">register</span>: sundtek_service_state

    - <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> get mediasrv pids</span>
      <span class="org-keyword">command</span>: pgrep mediasrv
      <span class="org-builtin">register</span>: mediasrv_pids

    - <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> systemd | start sundtek.service</span>
      <span class="org-keyword">systemd</span>:
        <span class="org-variable-name">name</span>: sundtek.service
        <span class="org-variable-name">state</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> "started" if (mediasrv_pids.stdout_lines and not sundtek_service_state.changed) or not mediasrv_pids.stdout_lines else "stopped" </span><span class="org-builtin">}}</span><span class="org-string">'</span>
        <span class="org-variable-name">enabled</span>: <span class="org-constant">yes</span>
        <span class="org-variable-name">masked</span>: <span class="org-constant">no</span>
        <span class="org-variable-name">daemon-reload</span>: <span class="org-constant">yes</span>
  <span class="org-builtin">when</span>: install_sundtek | bool

<span class="org-comment-delimiter"># </span><span class="org-comment">TODO: Scan for local and remote sundtek sticks and create</span>
<span class="org-comment-delimiter">#       </span><span class="org-comment">/etc/sundtek.conf - needs yavdr-hardware-sundtek</span>
<span class="org-comment-delimiter">#</span><span class="org-comment">- name: detect local and remote sundtek devices</span>
<span class="org-comment-delimiter">#  </span><span class="org-comment">command: scansundtek</span>
<span class="org-comment-delimiter">#  </span><span class="org-comment">register: sundtek_scan</span>
<span class="org-comment-delimiter">#</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">- name: set variable sundtek_scan</span>
<span class="org-comment-delimiter">#   </span><span class="org-comment">set_fact:</span>
<span class="org-comment-delimiter">#     </span><span class="org-comment">sundtek_devices: "</span><span class="org-builtin">{{</span><span class="org-function-name"> sundtek_scan.stdout | from_json </span><span class="org-builtin">}}</span><span class="org-comment">"</span>
<span class="org-comment-delimiter">#</span>
<span class="org-comment-delimiter">#</span><span class="org-comment">- name: create /etc/sundtek.conf</span>
<span class="org-comment-delimiter">#  </span><span class="org-comment">template:</span>
<span class="org-comment-delimiter">#    </span><span class="org-comment">src: templates/sundtek.conf.j2</span>
<span class="org-comment-delimiter">#    </span><span class="org-comment">dest: /etc/sundtek.conf</span>
<span class="org-comment-delimiter">#  </span><span class="org-comment">notify: Restart sundtek.service</span>

<span class="org-comment-delimiter"># </span><span class="org-comment">TODO: install yavdr-hardware-sundtek</span>
<span class="org-comment-delimiter">#</span><span class="org-comment">- name: apt | install yavdr-hardware-sundtek</span>
<span class="org-comment-delimiter">#  </span><span class="org-comment">apt:</span>
<span class="org-comment-delimiter">#    </span><span class="org-comment">name: yavdr-hardware-sundtek</span>

<span class="org-comment-delimiter"># </span><span class="org-comment">TODO: enable sundtek-avahi-mounter (needs to be ported to python3 and</span>
<span class="org-comment-delimiter">#       </span><span class="org-comment">work indenpendently of yavdrhw.db files)</span>
<span class="org-comment-delimiter">#</span><span class="org-comment">- name: systemd | start sundtek-avahi-mounter.service</span>
<span class="org-comment-delimiter">#  </span><span class="org-comment">systemd:</span>
<span class="org-comment-delimiter">#    </span><span class="org-comment">name: sundtek-avahi-mounter.service</span>
<span class="org-comment-delimiter">#    </span><span class="org-comment">state: started</span>
<span class="org-comment-delimiter">#    </span><span class="org-comment">masked: no</span>
<span class="org-comment-delimiter">#    </span><span class="org-comment">enabled: yes</span>
<span class="org-comment-delimiter">#    </span><span class="org-comment">daemon-reload: yes</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org4b84b35" class="outline-4">
<h4 id="org4b84b35"><span class="section-number-4">6.41.4.</span> templates</h4>
<div class="outline-text-4" id="text-6-41-4">
</div>
<ol class="org-ol">
<li><a id="orgf85c79a"></a>udev rule to force sundtek mediaclient to start the mediasrv using systemd<br />
<div class="outline-text-5" id="text-6-41-4-1">
<div class="org-src-container">
<pre class="src src-systemd">{{ ansible_managed | comment }}

{% if install_sundtek %}
<span class="org-comment-delimiter">#</span><span class="org-comment">SUBSYSTEM=="usb", ACTION=="add", RUN+="/opt/bin/mediaclient --start=5 --systemdcheck"</span>
{% endif %}
</pre>
</div>
</div>
</li>
<li><a id="org735483e"></a>LD_PRELOAD for vdr.service<br />
<div class="outline-text-5" id="text-6-41-4-2">
<div class="org-src-container">
<pre class="src src-systemd">{{ ansible_managed | comment }}

{% if install_sundtek %}
<span class="org-type">[Service]</span>
<span class="org-keyword">Environment</span>=LD_PRELOAD=/opt/lib/libmediaclient.so
{% endif %}
</pre>
</div>
</div>
</li>
<li><a id="org900d764"></a>/etc/systemd/system/sundtek.service<br />
<div class="outline-text-5" id="text-6-41-4-3">
<div class="org-src-container">
<pre class="src src-systemd">{{ ansible_managed | comment }}

<span class="org-type">[Unit]</span>
<span class="org-keyword">Description</span>=Sundtek mediasrv
{% if sundtek.wait_for_network %}
<span class="org-keyword">After</span>=network-online.target
{% endif %}

<span class="org-keyword">Before</span>=vdr.service
<span class="org-type">[Service]</span>
<span class="org-keyword">Type</span>=<span class="org-builtin">forking</span>
<span class="org-keyword">ExecStart</span>=/opt/bin/mediasrv -d --pluginpath=/opt/bin {% if sundtek.wait_for_devices %}--wait-for-devices{% endif%}

<span class="org-keyword">ExecStop</span>=/opt/bin/mediaclient --shutdown
<span class="org-keyword">Restart</span>=<span class="org-builtin">on-failure</span>
<span class="org-type">[Install]</span>
<span class="org-keyword">WantedBy</span>=multi-user.target
</pre>
</div>
</div>
</li>
<li><a id="org4de5a14"></a>/etc/sundtek.conf<br />
<div class="outline-text-5" id="text-6-41-4-4">
<div class="org-src-container">
<pre class="src src-jinja2"><span class="org-type">{{</span> <span class="org-variable-name">ansible_managed </span><span class="org-keyword">| </span><span class="org-warning">comment</span> <span class="org-type">}}</span>
# ----- GLOBAL SECTION -----
#<span class="org-builtin">Set</span> loglevel <span class="org-keyword">for</span> logging to /var/log/mediasrv.log
#autoupdate=[on<span class="org-keyword">|</span><span class="org-warning">off</span>]                    #enable automatic driver update, default off
autoupdate=off
#loglevel=[off<span class="org-keyword">|</span><span class="org-warning">min</span><span class="org-keyword">|</span><span class="org-warning">full</span>]            #default: off
                    #max .. little bit more
loglevel=off
#pluginpath=/path/to/drivers            #<span class="org-builtin">set</span> path to drivers
#dvb_api_version=x.y                    #default API version will be parsed <span class="org-builtin">from</span>
                                        #/usr/<span class="org-builtin">include</span>/linux/dvb/version.h, <span class="org-keyword">if</span> no such file <span class="org-builtin">is</span>
                                        #available the latest internally supported API ::version will be
                                        #used (which will be quite new)
#audio_skip_bytes=N                     #when changing analogTV channels,
                                        #skip N bytes to suppress audio noise
#bulk_notification[on<span class="org-keyword">|</span><span class="org-warning">off</span>]              #default off, bulk_notification will only trigger device_attach once
                                        #after the the first device scan when the driver <span class="org-builtin">is</span> started up
                                        #after this first scan, the notification will be triggered
                                        #normally again <span class="org-keyword">for</span> each device.
                                        #
                                        #<span class="org-keyword">for</span> example when 2 devices are attached to the system only one
                                        #notification will be triggered initially, any at a later time
                                        #attached device will generate another device_attach notification
                                        #by default each device will <span class="org-keyword">call</span> the script which <span class="org-builtin">is</span> <span class="org-builtin">set</span> up <span class="org-keyword">with</span>
                                        #device_attach
#use_tvvideo=[on<span class="org-keyword">|</span><span class="org-warning">off</span>]                   #use /dev/tvvideoN instead of /dev/video
                                        #this works around a new Adobe Flash bug <span class="org-builtin">in</span> 2012, where flash crashes
                                        #<span class="org-keyword">if</span> files (/dev/videoN) other than /dev/video0 are available

#use_hwpidfilter=[on<span class="org-keyword">|</span><span class="org-warning">off</span>]               #<span class="org-keyword">For</span> DVB-C, DVB-T, DVB-S/S2
                                        #enable PID <span class="org-keyword">filter</span>, please be careful <span class="org-keyword">with</span> that, there are only 15 HW Pid filters available
                                        #when more than 15 pids are <span class="org-builtin">set</span> up the pid <span class="org-keyword">filter</span> will be disabled automatically

#dmhwpidfilter=[on<span class="org-keyword">|</span><span class="org-warning">off</span>]                 #default on, <span class="org-builtin">in</span> some cases off might be useful to disable hw pid <span class="org-keyword">filter</span> <span class="org-keyword">for</span> settopboxes
                                        #<span class="org-keyword">if</span> you get a black image when capturing a TV channel <span class="org-builtin">and</span> watching another channel on the
                                        #same transponder - try this option <span class="org-builtin">and</span> reboot

#usb_transaction_delay=[0-20]           #throttle the USB setup transactions, this can solve problems <span class="org-keyword">with</span> weak USB stacks <span class="org-keyword">for</span>
                                        #example <span class="org-keyword">for</span> embedded boards, unit <span class="org-builtin">is</span> milliseconds

#usb_timeout=[0 - N]                    #USB timeout <span class="org-keyword">for</span> each transaction <span class="org-builtin">in</span> milliseconds, 0 default infinite
#voltage_tone_off=[1 <span class="org-builtin">or</span> 0]              #0 .. default, normal behaviour
                                        #1 .. force DVB-S/S2 to <span class="org-builtin">not</span> use any Voltage <span class="org-builtin">or</span> Tone (<span class="org-builtin">ignore</span> any user parameters)

#ir_disabled=[1 <span class="org-builtin">or</span> 0]                   #0 .. enable remote control polling, the driver will permanently check <span class="org-keyword">for</span> remote control keys
                                        #1 .. disable remote control polling, might fix bugs <span class="org-keyword">with</span> weak USB stacks on embedded boards

#
#Enable listening on network
#enablenetwork=[on<span class="org-keyword">|</span><span class="org-warning">off</span>]         #default: off

#Lowest adapter number to start <span class="org-keyword">with</span>, e.g. /dev/dvb/adapter5/frontend0
#first_adapter=5

#<span class="org-keyword">Call</span> attach script when new device appears
#device_attach=[PATH_TO_SCRIPT] [PARAMETER<span class="org-keyword">|</span><span class="org-warning">DEVID</span>]   #<span class="org-string">"DEVID"</span> will automatically be replaced <span class="org-keyword">with</span> the device ID
device_attach=/usr/bin/sundtek_attach

#<span class="org-keyword">Call</span> detach script when device disappears
#device_detach=[PATH_TO_SCRIPT] [PARAMETER<span class="org-keyword">|</span><span class="org-warning">DEVID</span>]   #<span class="org-string">"DEVID"</span> will automatically be replaced <span class="org-keyword">with</span> the device ID
device_detach=/usr/bin/sundtek_detach


<span class="org-function-name">{%</span> <span class="org-keyword">if</span> sundtek_devices <span class="org-builtin">is</span> definded <span class="org-function-name">%}</span>
<span class="org-function-name">{%</span> <span class="org-keyword">for</span> device <span class="org-builtin">in</span> sundtek_devices.local <span class="org-function-name">%}</span>
<span class="org-function-name">{%</span> <span class="org-keyword">if</span> device.serial <span class="org-builtin">is</span> defined <span class="org-function-name">%}</span>
[<span class="org-type">{{</span> <span class="org-variable-name">device.serial</span> <span class="org-type">}}</span>]

#Infrared protocol to use
#ir_protocol=[RC5<span class="org-keyword">|</span><span class="org-warning">NEC</span><span class="org-keyword">|</span><span class="org-warning">RC6</span>]          #default: NEC
<span class="org-function-name">{%</span> <span class="org-keyword">if</span> device.ir_protocol<span class="org-keyword">|</span><span class="org-function-name">default</span>(<span class="org-string">""</span>) <span class="org-function-name">%}</span>
ir_protocol=<span class="org-type">{{</span> <span class="org-variable-name">device.ir_protocol</span> <span class="org-type">}}</span>
<span class="org-function-name">{%</span> <span class="org-keyword">endif</span> <span class="org-function-name">%}</span>

#Keymap to use, e.g. <span class="org-string">"/lib/udev/rc_keymaps/vp702x"</span>
#rcmap=[PATH_TO_KEYMAP]         #default: keymap which comes <span class="org-keyword">with</span> the device
<span class="org-function-name">{%</span> <span class="org-keyword">if</span> device.rcmap<span class="org-keyword">|</span><span class="org-function-name">default</span>(<span class="org-string">""</span>) <span class="org-function-name">%}</span>
rcmap=<span class="org-type">{{</span> <span class="org-variable-name">device.rcmap</span> <span class="org-type">}}</span>
<span class="org-function-name">{%</span> <span class="org-keyword">endif</span> <span class="org-function-name">%}</span>

#Choose initial DVB mode <span class="org-keyword">for</span> hybrid DVB-T/DVB-C devices only
#initial_dvb_mode=[DVBC<span class="org-keyword">|</span><span class="org-warning">DVBT</span>]
<span class="org-function-name">{%</span> <span class="org-keyword">if</span> device.initial_dvb_mode<span class="org-keyword">|</span><span class="org-function-name">default</span>(<span class="org-string">""</span>) <span class="org-function-name">%}</span>
initial_dvb_mode=<span class="org-type">{{</span> <span class="org-variable-name">device.dvb_mode</span> <span class="org-type">}}</span>
<span class="org-function-name">{%</span> <span class="org-keyword">endif</span> <span class="org-function-name">%}</span>

#<span class="org-keyword">Call</span> attach script when new device appears
#device_attach=[PATH_TO_SCRIPT] [PARAMETER<span class="org-keyword">|</span><span class="org-warning">DEVID</span>]   #<span class="org-string">"DEVID"</span> will automatically be replaced <span class="org-keyword">with</span> the device ID
device_attach=/usr/bin/sundtek_attach

#<span class="org-keyword">Call</span> detach script when device disappears
#device_detach=[PATH_TO_SCRIPT] [PARAMETER<span class="org-keyword">|</span><span class="org-warning">DEVID</span>]   #<span class="org-string">"DEVID"</span> will automatically be replaced <span class="org-keyword">with</span> the device ID
device_detach=/usr/bin/sundtek_detach

<span class="org-function-name">{%</span> <span class="org-keyword">if</span> device.capabilites.analog_tv <span class="org-function-name">%}</span>
disable_analogtv=1                                      #disable initialization of analogTV Frontend
<span class="org-function-name">{%</span> <span class="org-keyword">endif</span> <span class="org-function-name">%}</span>

<span class="org-function-name">{%</span> <span class="org-keyword">endif</span> <span class="org-function-name">%}</span>
<span class="org-function-name">{%</span> <span class="org-keyword">endfor</span> <span class="org-function-name">%}</span>
<span class="org-function-name">{%</span> <span class="org-keyword">endif</span> <span class="org-function-name">%}</span>
</pre>
</div>
</div>
</li>
</ol>
</div>
</div>

<div id="outline-container-org3d30aa8" class="outline-3">
<h3 id="org3d30aa8"><span class="section-number-3">6.42.</span> channel logos</h3>
<div class="outline-text-3" id="text-6-42">
<p>
This role loads the channel logos from <a href="https://github.com/Jasmeet181/mediaportal-de-logos">https://github.com/Jasmeet181/mediaportal-de-logos</a> and links them to <code>/var/lib/vdr/channellogos</code>. Please note, that all files in this directory will be replaced by this role.
</p>
</div>
<div id="outline-container-org5306da3" class="outline-4">
<h4 id="org5306da3"><span class="section-number-4">6.42.1.</span> default</h4>
<div class="outline-text-4" id="text-6-42-1">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment">---</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">file: roles/channellogos/defaults/main.yml</span>

<span class="org-variable-name">channellogo_languages</span>: []
</pre>
</div>
</div>
</div>
<div id="outline-container-org2297d16" class="outline-4">
<h4 id="org2297d16"><span class="section-number-4">6.42.2.</span> tasks</h4>
<div class="outline-text-4" id="text-6-42-2">
<div class="org-src-container">
<pre class="src src-yaml">- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> apt | install dependencies</span>
  <span class="org-keyword">apt</span>:
    <span class="org-variable-name">name</span>:
      - git
      - python3-lxml
    <span class="org-variable-name">state</span>: present

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> copy channel_linker script</span>
  <span class="org-keyword">template</span>:
    <span class="org-variable-name">src</span>: roles/channellogos/templates/channel_linker.py.j2
    <span class="org-variable-name">dest</span>: /usr/local/bin/channel_linker
    <span class="org-variable-name">mode</span>: 0755

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> get current mediaportal channel logos</span>
  <span class="org-keyword">git</span>:
    <span class="org-variable-name">repo</span>: <span class="org-string">"https://github.com/Jasmeet181/mediaportal-</span><span class="org-builtin">{{</span><span class="org-function-name"> item </span><span class="org-builtin">}}</span><span class="org-string">-logos.git"</span>
    <span class="org-variable-name">dest</span>: <span class="org-string">"/usr/local/lib/mediaportal-</span><span class="org-builtin">{{</span><span class="org-function-name"> item </span><span class="org-builtin">}}</span><span class="org-string">-logos"</span>
    <span class="org-variable-name">clone</span>: <span class="org-constant">yes</span>
    <span class="org-variable-name">depth</span>: 1
    <span class="org-variable-name">update</span>: <span class="org-constant">yes</span>
  <span class="org-variable-name">loop</span>: <span class="org-string">"</span><span class="org-builtin">{{</span><span class="org-function-name"> channellogo_languages </span><span class="org-builtin">}}</span><span class="org-string">"</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> update channel logo links</span>
  <span class="org-keyword">command</span>: /usr/local/bin/channel_linker <span class="org-string">"</span><span class="org-builtin">{{</span><span class="org-function-name"> channellogo_languages | map('quote') | join(' ') </span><span class="org-builtin">}}</span><span class="org-string">"</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgae32b70" class="outline-4">
<h4 id="orgae32b70"><span class="section-number-4">6.42.3.</span> templaces</h4>
<div class="outline-text-4" id="text-6-42-3">
<div class="org-src-container">
<pre class="src src-python">{{ ansible_managed | comment }}
<span class="org-keyword">import</span> shutil
<span class="org-keyword">import</span> sys
<span class="org-keyword">from</span> collections <span class="org-keyword">import</span> defaultdict
<span class="org-keyword">from</span> pathlib <span class="org-keyword">import</span> Path
<span class="org-keyword">from</span> lxml <span class="org-keyword">import</span> etree


<span class="org-variable-name">target</span> = Path(<span class="org-string">"/var/lib/vdr/channellogos"</span>)

<span class="org-variable-name">logo_dir</span> = {
    <span class="org-string">"au"</span>: <span class="org-string">".Light"</span>,
    <span class="org-string">"be"</span>: <span class="org-string">".Light"</span>,
    <span class="org-string">"cz"</span>: <span class="org-string">".Light"</span>,
    <span class="org-string">"de"</span>: <span class="org-string">".Light"</span>,
    <span class="org-string">"es"</span>: <span class="org-string">".Light"</span>,
    <span class="org-string">"ie"</span>: <span class="org-string">".Light"</span>,
    <span class="org-string">"il"</span>: <span class="org-string">".Light"</span>,
    <span class="org-string">"it"</span>: <span class="org-string">".Light"</span>,
    <span class="org-string">"nordic"</span>: <span class="org-string">".Light"</span>,
    <span class="org-string">"nz"</span>: <span class="org-string">".Light"</span>,
    <span class="org-string">"ru"</span>: <span class="org-string">".Light"</span>,
    <span class="org-string">"uk"</span>: <span class="org-string">".Light"</span>,
    <span class="org-string">"us"</span>: <span class="org-string">".Light"</span>,
}

<span class="org-variable-name">languages</span> = []
<span class="org-keyword">for</span> lang <span class="org-keyword">in</span> sys.argv[1:]:
    <span class="org-keyword">if</span> lang <span class="org-keyword">in</span> logo_dir:
        languages.append(lang)
    <span class="org-keyword">else</span>:
        <span class="org-keyword">print</span>(f<span class="org-string">"language {lang} is not supported"</span>)

<span class="org-keyword">if</span> languages:
    shutil.rmtree(target, ignore_errors=<span class="org-constant">True</span>)

target.mkdir(parents=<span class="org-constant">True</span>, exist_ok=<span class="org-constant">True</span>)

<span class="org-keyword">for</span> language <span class="org-keyword">in</span> languages:
    <span class="org-variable-name">origin</span> = Path(f<span class="org-string">"/usr/local/lib/mediaportal-{language}-logos"</span>)
    <span class="org-variable-name">tree</span> = etree.parse(<span class="org-builtin">str</span>(origin / <span class="org-string">"LogoMapping.xml"</span>))
    <span class="org-variable-name">channels</span> = defaultdict(<span class="org-builtin">set</span>)
    <span class="org-keyword">for</span> t <span class="org-keyword">in</span> (<span class="org-string">"TV"</span>, <span class="org-string">"Radio"</span>):
        <span class="org-variable-name">base_path</span> = Path(origin) / Path(t) / logo_dir[language]
        <span class="org-keyword">for</span> channel <span class="org-keyword">in</span> tree.xpath(f<span class="org-string">'{t}/Channel'</span>):
            <span class="org-keyword">for</span> channel_item <span class="org-keyword">in</span> channel.findall(<span class="org-string">"Item"</span>):
                <span class="org-variable-name">channel_name</span> = channel_item.get(<span class="org-string">"Name"</span>)
                <span class="org-variable-name">channel_file_node</span> = channel.find(<span class="org-string">"File"</span>)
                <span class="org-keyword">if</span> channel_file_node <span class="org-keyword">is</span> <span class="org-constant">None</span>:
                    <span class="org-keyword">continue</span>
                <span class="org-variable-name">channel_file</span> = base_path / Path(channel_file_node.text)
                <span class="org-variable-name">suffix</span> = channel_file.suffix
                channels[channel_file].add(target / (f<span class="org-string">"{channel_name}{suffix}"</span>.lower()))

    <span class="org-keyword">for</span> channel_logo, channel_names <span class="org-keyword">in</span> channels.items():
        <span class="org-keyword">for</span> channel_name <span class="org-keyword">in</span> channel_names:
            <span class="org-keyword">try</span>:
                channel_name.parent.mkdir(parents=<span class="org-constant">True</span>, exist_ok=<span class="org-constant">True</span>)
                channel_name.symlink_to(channel_logo)
            <span class="org-keyword">except</span> <span class="org-type">IOError</span> <span class="org-keyword">as</span> err:
                <span class="org-keyword">if</span> err.errno == 17:
                    <span class="org-keyword">pass</span>
                <span class="org-keyword">else</span>:
                    <span class="org-keyword">print</span>(err)
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org61912f1" class="outline-3">
<h3 id="org61912f1"><span class="section-number-3">6.43.</span> rpi</h3>
<div class="outline-text-3" id="text-6-43">
<p>
This role installs <code>vdr-plugin-rpihddevice</code> and configures the output to use <code>tty7</code>. A Systemd User session allows to use <code>udiskie</code> and other programs within a systemd user session. Please note that <code>kodi</code> is not supported at the moment on the Raspberry Pi platform since it requires a special build.
</p>
</div>

<div id="outline-container-orgf412928" class="outline-4">
<h4 id="orgf412928"><span class="section-number-4">6.43.1.</span> tasks</h4>
<div class="outline-text-4" id="text-6-43-1">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment">---</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">this role is used to configure the output for a raspberry pi 2 or 3</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> ensure /etc/systemd/system/vdr.service.d/ exists</span>
  <span class="org-keyword">file</span>:
    <span class="org-variable-name">path</span>: /etc/systemd/system/vdr.service.d/
    <span class="org-variable-name">state</span>: directory

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> let vdr run on tty7</span>
  <span class="org-keyword">template</span>:
    <span class="org-variable-name">src</span>: templates/rpi.conf.j2
    <span class="org-variable-name">dest</span>: /etc/systemd/system/vdr.service.d/99-rpi.conf
  <span class="org-builtin">notify</span>: [<span class="org-string">'Reload Units'</span>, <span class="org-string">'Restart VDR'</span>]
  <span class="org-builtin">tags</span>:
    - config

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> install vdr-plugin-rpihddevice</span>
  <span class="org-keyword">apt</span>:
    <span class="org-variable-name">name</span>:
      - libraspberrypi-dev
      - vdr-plugin-rpihddevice
    <span class="org-variable-name">state</span>: present
  <span class="org-builtin">tags</span>:
    - packages

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> set preferred_frontend to rpihddevice</span>
  <span class="org-keyword">set_fact</span>:
    <span class="org-variable-name">preferred_frontend</span>: rpihddevice
    <span class="org-variable-name">automatically_installed_output_plugin</span>: vdr-plugin-rpihddevice

<span class="org-comment-delimiter"># </span><span class="org-comment">Note: this needs to be in config.txt, because the early firmware loader ingores include directives</span>
- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> set gpu_mem firmware option</span>
  <span class="org-keyword">lineinfile</span>:
    <span class="org-variable-name">path</span>: /boot/firmware/config.txt
    <span class="org-variable-name">regexp</span>: <span class="org-string">'^gpu_mem='</span>
    <span class="org-variable-name">line</span>: <span class="org-string">"gpu_mem=</span><span class="org-builtin">{{</span><span class="org-function-name"> rpi_gpu_mem | default(256) | int if 16 &lt;= rpi_gpu_mem | default(256) | int &lt;= 512 else 256 </span><span class="org-builtin">}}</span><span class="org-string">"</span>
    <span class="org-variable-name">state</span>: present

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> set firmware options for decoder keys, rpi ir receiver</span>
  <span class="org-keyword">template</span>:
    <span class="org-variable-name">src</span>: templates/usercfg.txt.j2
    <span class="org-variable-name">dest</span>: /boot/firmware/usercfg.txt
  <span class="org-builtin">notify</span>: [<span class="org-string">'reboot required'</span>]
</pre>
</div>
</div>
</div>
<div id="outline-container-org6b3d128" class="outline-4">
<h4 id="org6b3d128"><span class="section-number-4">6.43.2.</span> templates</h4>
<div class="outline-text-4" id="text-6-43-2">
<div class="org-src-container">
<pre class="src src-jinja2"><span class="org-type">{{</span> <span class="org-variable-name">ansible_managed </span><span class="org-keyword">| </span><span class="org-warning">comment</span> <span class="org-type">}}</span>
[Unit]
Conflicts=getty@tty7.service

[Service]
StandardInput=tty-force
StandardOutput=syslog
TTYPath=/dev/tty7
TTYReset=no
TTYVHangup=yes
ExecStartPre=/usr/bin/chvt 7
</pre>
</div>

<div class="org-src-container">
<pre class="src src-jinja2"><span class="org-type">{{</span><span class="org-variable-name">ansible_managed </span><span class="org-keyword">| </span><span class="org-warning">comment</span> <span class="org-type">}}</span>
# Place <span class="org-string">"config.txt"</span> changes (dtparam, dtoverlay, disable_overscan, etc.) <span class="org-builtin">in</span>
# this file. Please refer to the README file <span class="org-keyword">for</span> a description of the various
# configuration files on the boot partition.
<span class="org-function-name">{%</span> <span class="org-keyword">if</span> rpi_decode_mpg2 <span class="org-builtin">is</span> defined <span class="org-function-name">%}</span>
decode_MPG2=<span class="org-type">{{</span> <span class="org-variable-name">rpi_decode_mpg2</span> <span class="org-type">}}</span>
<span class="org-function-name">{%</span> <span class="org-keyword">endif</span> <span class="org-function-name">%}</span>
<span class="org-function-name">{%</span> <span class="org-keyword">if</span> rpi_decode_wvc1 <span class="org-builtin">is</span> defined <span class="org-function-name">%}</span>
decode_WVC1=<span class="org-type">{{</span> <span class="org-variable-name">rpi_decode_wvc1</span> <span class="org-type">}}</span>
<span class="org-function-name">{%</span> <span class="org-keyword">endif</span> <span class="org-function-name">%}</span>
<span class="org-function-name">{%</span> <span class="org-keyword">if</span> rpi_ir_gpio_pin <span class="org-builtin">is</span> defined <span class="org-function-name">%}</span>
dtoverlay=gpio-ir,gpio_pin=<span class="org-type">{{</span> <span class="org-variable-name">rpi_ir_gpio_pin</span> <span class="org-type">}}</span><span class="org-function-name">{%</span> <span class="org-keyword">if</span> rpi_gpio_<span class="org-builtin">in</span>_pullup<span class="org-keyword">|</span><span class="org-function-name">default</span>(<span class="org-builtin">False</span>)<span class="org-keyword">|</span><span class="org-warning">bool</span> <span class="org-function-name">%}</span>,gpio_<span class="org-builtin">in</span>_pullup=up<span class="org-function-name">{%</span> <span class="org-keyword">endif</span> <span class="org-function-name">%}</span>
<span class="org-function-name">{%</span> <span class="org-keyword">endif</span> <span class="org-function-name">%}</span>
<span class="org-function-name">{%</span> <span class="org-keyword">if</span> rpi_ir_gpio_pin_tx <span class="org-builtin">is</span> defined <span class="org-function-name">%}</span>
dtoverlay=gpio-ir-tx,gpio_pin=<span class="org-type">{{</span> <span class="org-variable-name">rpi_ir_gpio_pin_tx</span> <span class="org-type">}}</span>
<span class="org-function-name">{%</span> <span class="org-keyword">endif</span> <span class="org-function-name">%}</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org1fe233e" class="outline-3">
<h3 id="org1fe233e"><span class="section-number-3">6.44.</span> channelpedia upload</h3>
<div class="outline-text-3" id="text-6-44">
<p>
This role requires three variables to be set (otherwise it won&rsquo;t do anything):
</p>
<dl class="org-dl">
<dt>channelpedia_url</dt><dd>the url the data will be uploaded to</dd>
<dt>channelpedia_username</dt><dd>the username required for authentication</dd>
<dt>channelpedia_password</dt><dd>the password required for authentication</dd>
</dl>

<p>
If you are a channelpedia contributor, you should already know the required url (as of 07/2019 https is supported) and authentication data.
</p>
</div>

<div id="outline-container-orga1bdd3e" class="outline-4">
<h4 id="orga1bdd3e"><span class="section-number-4">6.44.1.</span> tasks</h4>
<div class="outline-text-4" id="text-6-44-1">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment">---</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">file roles/channelpedia/tasks/main.yml</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> upload channels.conf to channelpedia once a day</span>
  <span class="org-variable-name">block</span>:
    - <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> ensure curl is installed</span>
      <span class="org-keyword">apt</span>:
        <span class="org-variable-name">name</span>: curl
        <span class="org-variable-name">state</span>: present

    - <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> expand template for channelpedia.service</span>
      <span class="org-keyword">template</span>:
        <span class="org-variable-name">src</span>: templates/channelpedia.service.j2
        <span class="org-variable-name">dest</span>: /etc/systemd/system/channelpedia.service

    - <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> expand template for channelpedia.timer</span>
      <span class="org-keyword">template</span>:
        <span class="org-variable-name">src</span>: templates/channelpedia.timer.j2
        <span class="org-variable-name">dest</span>: /etc/systemd/system/channelpedia.timer

    - <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> create credentials file</span>
      <span class="org-keyword">template</span>:
        <span class="org-variable-name">src</span>: templates/channelpedia_credentials.j2
        <span class="org-variable-name">dest</span>: /root/.channelpedia_credentials
        <span class="org-variable-name">mode</span>: 0700

    - <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> start channelpedia timer and service</span>
      <span class="org-keyword">systemd</span>:
        <span class="org-variable-name">name</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> item </span><span class="org-builtin">}}</span><span class="org-string">'</span>
        <span class="org-variable-name">state</span>: started
        <span class="org-variable-name">enabled</span>: <span class="org-constant">yes</span>
        <span class="org-variable-name">masked</span>: <span class="org-constant">no</span>
      <span class="org-variable-name">loop</span>:
        - channelpedia.service
        - channelpedia.timer

  <span class="org-builtin">when</span>:
    - channelpedia_url is defined
    - channelpedia_username is defined
    - channelpedia_password is defined
</pre>
</div>
</div>
</div>
<div id="outline-container-org1ec7bbe" class="outline-4">
<h4 id="org1ec7bbe"><span class="section-number-4">6.44.2.</span> templates</h4>
<div class="outline-text-4" id="text-6-44-2">
</div>
<ol class="org-ol">
<li><a id="orged5eda2"></a>channelpedia.service<br />
<div class="outline-text-5" id="text-6-44-2-1">
<div class="org-src-container">
<pre class="src src-jinja2">[Unit]
Description=Upload channels.conf to channelpedia.yavdr.com
After=network-online.target
Requires=network-online.target

[Service]
EnvironmentFile=/root/.channelpedia_credentials
Type=oneshot
DynamicUser=<span class="org-builtin">true</span>
ExecStart=/usr/bin/curl  -F <span class="org-string">"channels=@/var/lib/vdr/channels.conf;type=text/plain"</span> -F <span class="org-string">"user=${user}"</span> -F <span class="org-string">"password=${password}"</span> <span class="org-string">"${url}"</span>
</pre>
</div>
</div>
</li>
<li><a id="org1894f19"></a>channelpedia.timer<br />
<div class="outline-text-5" id="text-6-44-2-2">
<div class="org-src-container">
<pre class="src src-jinja2">[Unit]
Description=Upload channels.conf to channelpedia.yavdr.com

[Timer]
OnCalendar=daily
Persistent=<span class="org-builtin">true</span>

[Install]
WantedBy=timers.target
</pre>
</div>
</div>
</li>
<li><a id="org9e00ba6"></a>.channelpedia_credentials<br />
<div class="outline-text-5" id="text-6-44-2-3">
<div class="org-src-container">
<pre class="src src-jinja2"><span class="org-builtin">url</span>=<span class="org-type">{{</span> <span class="org-variable-name">channelpedia_url</span> <span class="org-type">}}</span>
user=<span class="org-type">{{</span> <span class="org-variable-name">channelpedia_username</span> <span class="org-type">}}</span>
password=<span class="org-type">{{</span> <span class="org-variable-name">channelpedia_password</span> <span class="org-type">}}</span>
</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div id="outline-container-org34959dc" class="outline-3">
<h3 id="org34959dc"><span class="section-number-3">6.45.</span> template-test</h3>
<div class="outline-text-3" id="text-6-45">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment">---</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> show vars</span>
  <span class="org-keyword">debug</span>:
    <span class="org-variable-name">var</span>: <span class="org-string">'</span><span class="org-builtin">{{</span><span class="org-function-name"> system </span><span class="org-builtin">}}</span><span class="org-string">'</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> test templates</span>
  <span class="org-keyword">template</span>:
    <span class="org-variable-name">src</span>: templates/test.j2
    <span class="org-variable-name">dest</span>: /tmp/test.txt
</pre>
</div>
<div class="org-src-container">
<pre class="src src-shell">{{ ansible_managed | comment }}

Section <span class="org-string">"ServerLayout"</span>
    Identifier     <span class="org-string">"Layout0"</span>
    Screen      0  <span class="org-string">"Screen0"</span>
    {% if system.x11.dualhead.enabled %}
    Screen      1  <span class="org-string">"Screen1"</span> RightOf <span class="org-string">"Screen0"</span>
    {% endif %}
    InputDevice    <span class="org-string">"Keyboard0"</span> <span class="org-string">"CoreKeyboard"</span>
    InputDevice    <span class="org-string">"Mouse0"</span> <span class="org-string">"CorePointer"</span>
EndSection

Section <span class="org-string">"InputDevice"</span>
    <span class="org-comment-delimiter"># </span><span class="org-comment">generated from default</span>
    Identifier     <span class="org-string">"Mouse0"</span>
    Driver         <span class="org-string">"mouse"</span>
    Option         <span class="org-string">"Protocol"</span> <span class="org-string">"auto"</span>
    Option         <span class="org-string">"Device"</span> <span class="org-string">"/dev/psaux"</span>
    Option         <span class="org-string">"Emulate3Buttons"</span> <span class="org-string">"no"</span>
    Option         <span class="org-string">"ZAxisMapping"</span> <span class="org-string">"4 5"</span>
EndSection

<span class="org-comment-delimiter"># </span><span class="org-comment">ignore devices with eventlircd tag</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">ENV{ID_INPUT.tags}+="eventlircd"</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">must be set by an udev rule</span>
Section <span class="org-string">"InputClass"</span>
    Identifier <span class="org-string">"ignore eventlircd devices"</span>
    MatchTag <span class="org-string">"eventlircd"</span>
    Option <span class="org-string">"Ignore"</span> <span class="org-string">"True"</span>
EndSection



Section <span class="org-string">"InputDevice"</span>
    <span class="org-comment-delimiter"># </span><span class="org-comment">generated from default</span>
    Identifier     <span class="org-string">"Keyboard0"</span>
    Driver         <span class="org-string">"kbd"</span>
EndSection


Section <span class="org-string">"Monitor"</span>
    Identifier     <span class="org-string">"Monitor0"</span>
    VendorName     <span class="org-string">"Unknown"</span>
    ModelName      <span class="org-string">"Unknown"</span>
{% if system.x11.display.0.default == <span class="org-string">"VGA2Scart_4_3"</span> or system.x11.display.0.default == <span class="org-string">"VGA2Scart_16_9"</span> %}
    HorizSync       14-17
    VertRefresh     49-61
    {% if system.x11.display.0.default == <span class="org-string">"VGA2Scart_4_3"</span> %}
    Modeline <span class="org-string">"VGA2Scart_4_3"</span> 13.875 720 744 808 888 576 580 585 625 -HSync -Vsync interlace
    {% elif system.x11.display.0.default == <span class="org-string">"VGA2Scart_16_9"</span> %}
    Modeline <span class="org-string">"VGA2Scart_16_9"</span> 19 1024 1032 1120 1216 576 581 586 625 -Hsync -Vsync interlace
    {% endif %}
{% endif %}
    Option         <span class="org-string">"DPMS"</span>
    Option         <span class="org-string">"ExactModeTimingsDVI"</span> <span class="org-string">"True"</span>
EndSection


{% if system.x11.dualhead.enabled == <span class="org-string">"1"</span> %}
Section <span class="org-string">"Monitor"</span>
    Identifier     <span class="org-string">"Monitor1"</span>
    VendorName     <span class="org-string">"Unknown"</span>
    ModelName      <span class="org-string">"Unknown"</span>
{% if system.x11.display.1.default<span class="org-keyword"> in</span> (<span class="org-string">"VGA2Scart_4_3"</span>,  <span class="org-string">"VGA2Scart_16_9"</span>) %}
    HorizSync       14-17
    VertRefresh     49-61
    {% if system.x11.display.1.default == <span class="org-string">"VGA2Scart_4_3"</span> %}
    Modeline <span class="org-string">"VGA2Scart_4_3"</span> 13.875 720 744 808 888 576 580 585 625 -HSync -Vsync interlace
    {% elif system.x11.display.1.default == <span class="org-string">"VGA2Scart_16_9"</span> %}
    Modeline <span class="org-string">"VGA2Scart_16_9"</span> 19 1024 1032 1120 1216 576 581 586 625 -Hsync -Vsync interlace
    {% endif %}
    Option         <span class="org-string">"DPMS"</span>
    Option         <span class="org-string">"ExactModeTimingsDVI"</span> <span class="org-string">"True"</span>
{% endif %}
EndSection
{% endif %}

Section <span class="org-string">"Device"</span>
    Identifier     <span class="org-string">"Device0"</span>
{% if system.hardware.nvidia.detected %}
    Driver         <span class="org-string">"nvidia"</span>
    VendorName     <span class="org-string">"NVIDIA Corporation"</span>
{% endif %}
    Screen          0
    Option         <span class="org-string">"DPI"</span> <span class="org-string">"100x100"</span>
{% if system.hardware.nvidia.busid %}
    BusID          <span class="org-string">"PCI: {{ system.hardware.nvidia.busid }}"</span>
{% endif %}
    Option         <span class="org-string">"NoLogo"</span> <span class="org-string">"True"</span>
    Option         <span class="org-string">"UseEvents"</span> <span class="org-string">"True"</span>
    Option         <span class="org-string">"TripleBuffer"</span> <span class="org-string">"False"</span>
    Option         <span class="org-string">"AddARGBGLXVisuals"</span> <span class="org-string">"True"</span>
    Option         <span class="org-string">"TwinView"</span> <span class="org-string">"0"</span>
    Option         <span class="org-string">"DynamicTwinView"</span> <span class="org-string">"0"</span>
    Option         <span class="org-string">"OnDemandVBlankinterrupts"</span> <span class="org-string">"on"</span>
    Option         <span class="org-string">"FlatPanelProperties"</span> <span class="org-string">"Scaling = Native"</span>
EndSection

{% if system.x11.dualhead.enabled == <span class="org-string">"1"</span> %}
Section <span class="org-string">"Device"</span>
    Identifier     <span class="org-string">"Device1"</span>
    {% if system.hardware.nvidia.detected %}
    Driver         <span class="org-string">"nvidia"</span>
    VendorName     <span class="org-string">"NVIDIA Corporation"</span>
    {% endif %}
    Screen          1
    {% if system.hardware.nvidia.busid %}
    BusID          <span class="org-string">"PCI: {{ system.hardware.nvidia.busid }}"</span>
    {% endif %}
    Option         <span class="org-string">"NoLogo"</span> <span class="org-string">"True"</span>
    Option         <span class="org-string">"UseEvents"</span> <span class="org-string">"True"</span>
    Option         <span class="org-string">"TripleBuffer"</span> <span class="org-string">"False"</span>
    Option         <span class="org-string">"AddARGBGLXVisuals"</span> <span class="org-string">"True"</span>
    Option         <span class="org-string">"TwinView"</span> <span class="org-string">"0"</span>
    Option         <span class="org-string">"DynamicTwinView"</span> <span class="org-string">"0"</span>
EndSection
{% endif %}


Section <span class="org-string">"Screen"</span>
    Identifier     <span class="org-string">"Screen0"</span>
    Device         <span class="org-string">"Device0"</span>
    Monitor        <span class="org-string">"Monitor0"</span>
    DefaultDepth    24
    SubSection     <span class="org-string">"Display"</span>
        Depth       24
{% if system.x11.display.0.default is defined and system.x11.display.0.default %}
        Modes      <span class="org-string">"{{ system.x11.display.0.default }}"</span>{% for mode<span class="org-keyword"> in</span> system.x11.display.0.mode %}{% if mode != system.x11.display.0.default %} <span class="org-string">"{{ mode }}"</span>{% endif %}{% endfor %}

{% elif system.hardware.nvidia.detected == 1 %}
        Modes      <span class="org-string">"nvidia-auto-select"</span>
{% endif %}
    EndSubSection
{% if system.x11.display.0.default or system.x11.default %}
    {% if system.x11.display.0.device is defined and system.x11.display.0.device %}
    Option         <span class="org-string">"ConnectedMonitor"</span> {{ system.x11.display.0.device }}
    {% else %}
    Option         <span class="org-string">"ConnectedMonitor"</span> {{ system.x11.default }}
    {% endif %}
    <span class="org-comment-delimiter">#     </span><span class="org-comment">Option         "ConnectedMonitor" "&lt;?cs if:(?system.x11.display.0.device) ?&gt;&lt;?cs call:fix_display_name(system.x11.display.0.device) ?&gt;&lt;?cs else ?&gt;&lt;?cs var:system.x11.default ?&gt;&lt;?cs /if ?&gt;&lt;?cs if:(?system.x11.dualhead.enabled &amp;&amp; system.x11.dualhead.enabled == 1) ?&gt;, &lt;?cs call:fix_display_name(system.x11.display.1.device) ?&gt;&lt;?cs /if ?&gt;"</span>
    <span class="org-comment-delimiter">#</span><span class="org-comment">Option         "ConnectedMonitor"</span>
    <span class="org-string">"&lt;?cs if:(?system.x11.display.0.device) ?&gt;</span>
<span class="org-string">          &lt;?cs call:fix_display_name(system.x11.display.0.device) ?&gt;</span>
<span class="org-string">     &lt;?cs else ?&gt;</span>
<span class="org-string">          &lt;?cs var:system.x11.default ?&gt;</span>
<span class="org-string">     &lt;?cs /if ?&gt;</span>
<span class="org-string">     &lt;?cs if:(?system.x11.dualhead.enabled &amp;&amp; system.x11.dualhead.enabled == 1) ?&gt;, &lt;?cs call:fix_display_name(system.x11.display.1.device) ?&gt;&lt;?cs /if ?&gt;"</span>
<span class="org-comment-delimiter">#     </span><span class="org-comment">Option         "UseDisplayDevice" "&lt;?cs if:(?system.x11.display.0.device) ?&gt;&lt;?cs call:fix_display_name(system.x11.display.0.device) ?&gt;&lt;?cs else ?&gt;&lt;?cs var:system.x11.default ?&gt;&lt;?cs /if ?&gt;"</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">&lt;?cs /if ?&gt;</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">&lt;?cs if:(?system.hardware.nvidia.0.edid &amp;&amp; system.hardware.nvidia.0.edid == "1") ?&gt;</span>
<span class="org-comment-delimiter">#     </span><span class="org-comment">Option         "CustomEDID" "&lt;?cs call:fix_display_name(system.x11.display.0.device) ?&gt;:/etc/X11/edid.0.yavdr"</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">&lt;?cs /if ?&gt;</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">&lt;?cs if:(system.hardware.nvidia.detected == 1 &amp;&amp; ?system.x11.display.0.device) ?&gt;</span>
<span class="org-comment-delimiter">#     </span><span class="org-comment">Option          "MetaModes" "&lt;?cs call:fix_display_name(system.x11.display.0.device) ?&gt;: &lt;?cs var:system.x11.display.0.default ?&gt; { ViewPortIn=&lt;?cs var:system.x11.display.0.viewport.in.x ?&gt;x&lt;?cs var:system.x11.display.0.viewport.in.y ?&gt;, ViewPortOut=&lt;?cs var:system.x11.display.0.viewport.out.x ?&gt;x&lt;?cs var:system.x11.display.0.viewport.out.y ?&gt;+&lt;?cs var:system.x11.display.0.viewport.out.plusx ?&gt;+&lt;?cs var:system.x11.display.0.viewport.out.plusy ?&gt; }"</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">&lt;?cs each:mode = system.x11.display.0.mode ?&gt;&lt;?cs if:(mode != system.x11.display.0.default) ?&gt;</span>
<span class="org-comment-delimiter">#     </span><span class="org-comment">Option          "MetaModes" "&lt;?cs call:fix_display_name(system.x11.display.0.device) ?&gt;: &lt;?cs var:mode ?&gt; { ViewPortIn=&lt;?cs var:system.x11.display.0.viewport.in.x ?&gt;x&lt;?cs var:system.x11.display.0.viewport.in.y ?&gt;, ViewPortOut=&lt;?cs var:system.x11.display.0.viewport.out.x ?&gt;x&lt;?cs var:system.x11.display.0.viewport.out.y ?&gt;+&lt;?cs var:system.x11.display.0.viewport.out.plusx ?&gt;+&lt;?cs var:system.x11.display.0.viewport.out.plusy ?&gt; }"&lt;?cs /if ?&gt;&lt;?cs /each ?&gt;</span>
{% endif %}
EndSection

{% if system.x11.dualhead.enabled == <span class="org-string">"1"</span> %}
Section <span class="org-string">"Screen"</span>

     Identifier     <span class="org-string">"Screen1"</span>
     Device         <span class="org-string">"Device1"</span>
     Monitor        <span class="org-string">"Monitor1"</span>
     DefaultDepth    24
     SubSection     <span class="org-string">"Display"</span>
         Depth       24
{% if system.x11.display.0.default is defined and system.x11.display.0.default %}
         Modes      <span class="org-string">"{{ system.x11.display.1.default }}"</span>{% for mode<span class="org-keyword"> in</span> system.x11.display.1.mode %}{% if mode != system.x11.display.1.default %} <span class="org-string">"{{ mode }}"</span>{% endif %}{% endfor %}

{% elif system.hardware.nvidia.detected == <span class="org-string">"1"</span> %}
         Modes      <span class="org-string">"nvidia-auto-select"</span>
{% endif %}
      EndSubSection

<span class="org-comment-delimiter"># </span><span class="org-comment">&lt;?cs if:(?system.x11.display.1.default &amp;&amp; system.x11.display.1.default != "" &amp;&amp; system.x11.display.1.default != "disabled") ?&gt;</span>
<span class="org-comment-delimiter">#     </span><span class="org-comment">Option         "UseDisplayDevice" "&lt;?cs call:fix_display_name(system.x11.display.1.device) ?&gt;"</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">&lt;?cs /if ?&gt;</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">&lt;?cs if:(?system.hardware.nvidia.1.edid &amp;&amp; system.hardware.nvidia.1.edid == "1") ?&gt;</span>
<span class="org-comment-delimiter">#     </span><span class="org-comment">Option         "CustomEDID" "&lt;?cs call:fix_display_name(system.x11.display.1.device) ?&gt;:/etc/X11/edid.1.yavdr"</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">&lt;?cs /if ?&gt;</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">&lt;?cs if:(system.hardware.nvidia.detected == 1 &amp;&amp; ?system.x11.display.1.device) ?&gt;</span>
<span class="org-comment-delimiter">#     </span><span class="org-comment">Option          "MetaModes" "&lt;?cs call:fix_display_name(system.x11.display.1.device) ?&gt;: &lt;?cs var:system.x11.display.1.default ?&gt; { ViewPortIn=&lt;?cs var:system.x11.display.1.viewport.in.x ?&gt;x&lt;?cs var:system.x11.display.1.viewport.in.y ?&gt;, ViewPortOut=&lt;?cs var:system.x11.display.1.viewport.out.x ?&gt;x&lt;?cs var:system.x11.display.1.viewport.out.y ?&gt;+&lt;?cs var:system.x11.display.1.viewport.out.plusx ?&gt;+&lt;?cs var:system.x11.display.1.viewport.out.plusy ?&gt; }"</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">&lt;?cs each:mode = system.x11.display.1.mode ?&gt;&lt;?cs if:(mode != system.x11.display.1.default) ?&gt;</span>
<span class="org-comment-delimiter">#     </span><span class="org-comment">Option          "MetaModes" "&lt;?cs call:fix_display_name(system.x11.display.1.device) ?&gt;: &lt;?cs var:mode ?&gt; { ViewPortIn=&lt;?cs var:system.x11.display.1.viewport.in.x ?&gt;x&lt;?cs var:system.x11.display.1.viewport.in.y ?&gt;, ViewPortOut=&lt;?cs var:system.x11.display.1.viewport.out.x ?&gt;x&lt;?cs var:system.x11.display.1.viewport.out.y ?&gt;+&lt;?cs var:system.x11.display.1.viewport.out.plusx ?&gt;+&lt;?cs var:system.x11.display.1.viewport.out.plusy ?&gt; }"&lt;?cs /if ?&gt;&lt;?cs /each ?&gt;</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">&lt;?cs /if ?&gt;</span>
EndSection
{% endif %}

{% if not system.x11.use_compositing %}
Section <span class="org-string">"Extensions"</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">if not open-gl OSD is needed (e.g. for vdr-sxfe):</span>
    Option         <span class="org-string">"Composite"</span> <span class="org-string">"Disable"</span>
EndSection
{% endif %}
</pre>
</div>
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-variable-name">foo</span>:
  - bar
  - baz
  - spam

<span class="org-variable-name">system</span>:
  <span class="org-variable-name">hardware</span>:
    <span class="org-variable-name">nvidia</span>:
      <span class="org-variable-name">detected</span>: <span class="org-string">"1"</span>
      <span class="org-variable-name">busid</span>: <span class="org-string">"000:2304:234"</span>
  <span class="org-variable-name">x11</span>:
    <span class="org-variable-name">dualhead</span>:
      <span class="org-variable-name">enabled</span>: <span class="org-string">"0"</span>
    <span class="org-variable-name">display</span>:
      <span class="org-variable-name">0</span>:
        <span class="org-variable-name">mode</span>:
          - <span class="org-string">"1920x1080_50"</span>
        <span class="org-variable-name">default</span>: <span class="org-string">"nvidia-auto"</span>

      <span class="org-variable-name">1</span>:
        <span class="org-variable-name">mode</span>:
          - <span class="org-string">"1280x720_60"</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org96c79e1" class="outline-3">
<h3 id="org96c79e1"><span class="section-number-3">6.46.</span> wakeup</h3>
<div class="outline-text-3" id="text-6-46">
</div>
<div id="outline-container-org9dac324" class="outline-4">
<h4 id="org9dac324"><span class="section-number-4">6.46.1.</span> defaults</h4>
<div class="outline-text-4" id="text-6-46-1">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment">---</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">file roles/wakeup/defaults/main.yml</span>

<span class="org-comment-delimiter"># </span><span class="org-comment">Method can be 'acpiwakeup' or 'stm32wakeup'</span>
<span class="org-variable-name">wakeup_method</span>: <span class="org-string">"acpiwakeup"</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">How many minutes to start the VDR ahead?</span>
<span class="org-variable-name">wakeup_start_ahead</span>: 5

<span class="org-comment-delimiter"># </span><span class="org-comment">Days of the week for regular wake-ups (empty=Disabled, 1=Monday...7=Sunday)</span>
<span class="org-variable-name">wakeup_days</span>: <span class="org-string">""</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">Time of each day for regular wake-ups (&lt;24-hours&gt;:&lt;minutes&gt;, e.g. "01:00")</span>
<span class="org-variable-name">wakeup_time</span>: <span class="org-string">""</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org0d40b3c" class="outline-4">
<h4 id="org0d40b3c"><span class="section-number-4">6.46.2.</span> variables</h4>
<div class="outline-text-4" id="text-6-46-2">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment-delimiter"># </span><span class="org-comment">vars file for wakeup role</span>

<span class="org-comment-delimiter"># </span><span class="org-comment">name of add-on package(s) to install (it can be made a list of packages)</span>
<span class="org-variable-name">wakeup_addon_packages</span>:
  <span class="org-variable-name">acpiwakeup</span>: vdr-addon-acpiwakeup
  <span class="org-variable-name">stm32wakeup</span>: vdr-addon-stm32irmp-wakeup

<span class="org-comment-delimiter"># </span><span class="org-comment">path to configuration file, corresponding template is called like the</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">file's basename with .j2</span>
<span class="org-variable-name">wakeup_addon_confs</span>:
  <span class="org-variable-name">acpiwakeup</span>: /etc/vdr/vdr-addon-acpiwakeup.conf
  <span class="org-variable-name">stm32wakeup</span>: /etc/vdr/vdr-addon-stm32irmp-wakeup.conf
</pre>
</div>
</div>
</div>
<div id="outline-container-org33b481c" class="outline-4">
<h4 id="org33b481c"><span class="section-number-4">6.46.3.</span> tasks</h4>
<div class="outline-text-4" id="text-6-46-3">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment">---</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">file roles/wakeup/tasks/main.yml</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> install package {{ wakeup_addon_packages[wakeup_method] }}</span>
  <span class="org-keyword">apt</span>:
    <span class="org-variable-name">name</span>: <span class="org-string">"</span><span class="org-builtin">{{</span><span class="org-function-name"> wakeup_addon_packages[wakeup_method] </span><span class="org-builtin">}}</span><span class="org-string">"</span>
    <span class="org-variable-name">state</span>: present

<span class="org-comment-delimiter"># </span><span class="org-comment">we expand all templates so that any add-on can be disabled if needed</span>
- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> expand template for each wakeup add-on config file</span>
  <span class="org-keyword">template</span>:
    <span class="org-variable-name">src</span>: <span class="org-string">"</span><span class="org-builtin">{{</span><span class="org-function-name"> item.value | basename </span><span class="org-builtin">}}</span><span class="org-string">.j2"</span>
    <span class="org-variable-name">dest</span>: <span class="org-string">"</span><span class="org-builtin">{{</span><span class="org-function-name"> item.value </span><span class="org-builtin">}}</span><span class="org-string">"</span>
  <span class="org-variable-name">loop</span>: <span class="org-string">"</span><span class="org-builtin">{{</span><span class="org-function-name"> wakeup_addon_confs | dict2items </span><span class="org-builtin">}}</span><span class="org-string">"</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org0dfb767" class="outline-4">
<h4 id="org0dfb767"><span class="section-number-4">6.46.4.</span> templates</h4>
<div class="outline-text-4" id="text-6-46-4">
</div>
<ol class="org-ol">
<li><a id="org35e17df"></a>acpiwakeup<br />
<div class="outline-text-5" id="text-6-46-4-1">
<div class="org-src-container">
<pre class="src src-jinja2"><span class="org-type">{{</span> <span class="org-variable-name">ansible_managed </span><span class="org-keyword">| </span><span class="org-warning">comment</span> <span class="org-type">}}</span>

# Activate/deactivate ACPIWakeup <span class="org-keyword">with</span> yes/no:
<span class="org-variable-name">ACPI_ENABLED</span>="<span class="org-function-name">{%</span> <span class="org-keyword">if</span> wakeup_method == <span class="org-string">'acpiwakeup'</span> <span class="org-function-name">%}</span>yes<span class="org-function-name">{%</span> <span class="org-keyword">else</span> <span class="org-function-name">%}</span>no<span class="org-function-name">{%</span> <span class="org-keyword">endif</span> <span class="org-function-name">%}</span><span class="org-string">"</span>

<span class="org-string"># How many minutes should the machine wake up before the timer starts:</span>
<span class="org-string">ACPI_START_AHEAD=</span><span class="org-type">{{</span><span class="org-string"> </span><span class="org-variable-name">wakeup_start_ahead</span><span class="org-string"> </span><span class="org-type">}}</span>

<span class="org-string"># If you want your VDR machine to wakeup in regular intervals (i.e. for</span>
<span class="org-string"># updating EPG data), specify the days of the week and the wakeup time.</span>
<span class="org-string">#</span>
<span class="org-string"># Days of the week for regular wakeup (not set=Disabled, 1=Monday...7=Sunday)</span>
<span class="org-function-name">{%</span><span class="org-string"> if wakeup_days </span><span class="org-function-name">%}</span>
<span class="org-string">ACPI_REGULAR_DAYS="</span><span class="org-type">{{</span> <span class="org-variable-name">wakeup_days</span> <span class="org-type">}}</span><span class="org-string">"</span>
<span class="org-function-name">{%</span><span class="org-string"> else </span><span class="org-function-name">%}</span>
<span class="org-string"># ACPI_REGULAR_DAYS="</span>1 2 3 4 5 6 7<span class="org-string">"</span>
<span class="org-function-name">{%</span><span class="org-string"> endif </span><span class="org-function-name">%}</span>

<span class="org-string"># Wakeup time</span>
<span class="org-function-name">{%</span><span class="org-string"> if wakeup_time </span><span class="org-function-name">%}</span>
<span class="org-string">ACPI_REGULAR_TIME="</span><span class="org-type">{{</span> <span class="org-variable-name">wakeup_time</span> <span class="org-type">}}</span>"
<span class="org-function-name">{%</span> <span class="org-keyword">else</span> <span class="org-function-name">%}</span>
# ACPI_REGULAR_TIME=01:00  # HH:MM
<span class="org-function-name">{%</span> <span class="org-keyword">endif</span> <span class="org-function-name">%}</span>
</pre>
</div>
</div>
</li>
<li><a id="org5c3e565"></a>st32wakeup<br />
<div class="outline-text-5" id="text-6-46-4-2">
<div class="org-src-container">
<pre class="src src-jinja2"><span class="org-type">{{</span> <span class="org-variable-name">ansible_managed </span><span class="org-keyword">| </span><span class="org-warning">comment</span> <span class="org-type">}}</span>

# Activate/deactivate STM32Wakeup <span class="org-keyword">with</span> yes/no:
<span class="org-variable-name">WAKEUP_ENABLED</span>="<span class="org-function-name">{%</span> <span class="org-keyword">if</span> wakeup_method == <span class="org-string">'stm32wakeup'</span> <span class="org-function-name">%}</span>yes<span class="org-function-name">{%</span> <span class="org-keyword">else</span> <span class="org-function-name">%}</span>no<span class="org-function-name">{%</span> <span class="org-keyword">endif</span> <span class="org-function-name">%}</span><span class="org-string">"</span>

<span class="org-string"># How many minutes should the machine wake up before the timer starts:</span>
<span class="org-string">WAKEUP_START_AHEAD=</span><span class="org-type">{{</span><span class="org-string"> </span><span class="org-variable-name">wakeup_start_ahead</span><span class="org-string"> </span><span class="org-type">}}</span>

<span class="org-string"># If you want your VDR machine to wakeup in regular intervals (i.e. for</span>
<span class="org-string"># updating EPG data), specify the days of the week and the wakeup time.</span>
<span class="org-string">#</span>
<span class="org-string"># Days of the week for regular wakeup (not set=Disabled, 1=Monday...7=Sunday)</span>
<span class="org-function-name">{%</span><span class="org-string"> if wakeup_days </span><span class="org-function-name">%}</span>
<span class="org-string">WAKEUP_REGULAR_DAYS="</span><span class="org-type">{{</span> <span class="org-variable-name">wakeup_days</span> <span class="org-type">}}</span><span class="org-string">"</span>
<span class="org-function-name">{%</span><span class="org-string"> else </span><span class="org-function-name">%}</span>
<span class="org-string"># WAKEUP_REGULAR_DAYS="</span>1 2 3 4 5 6 7<span class="org-string">"</span>
<span class="org-function-name">{%</span><span class="org-string"> endif </span><span class="org-function-name">%}</span>

<span class="org-string"># Wakeup time</span>
<span class="org-function-name">{%</span><span class="org-string"> if wakeup_time </span><span class="org-function-name">%}</span>
<span class="org-string">WAKEUP_REGULAR_TIME="</span><span class="org-type">{{</span> <span class="org-variable-name">wakeup_time</span> <span class="org-type">}}</span>"
<span class="org-function-name">{%</span> <span class="org-keyword">else</span> <span class="org-function-name">%}</span>
# WAKEUP_REGULAR_TIME=01:00  # HH:MM
<span class="org-function-name">{%</span> <span class="org-keyword">endif</span> <span class="org-function-name">%}</span>
</pre>
</div>
</div>
</li>
</ol>
</div>
</div>

<div id="outline-container-orgccbefad" class="outline-3">
<h3 id="orgccbefad"><span class="section-number-3">6.47.</span> grub-config</h3>
<div class="outline-text-3" id="text-6-47">
</div>
<div id="outline-container-org1669c04" class="outline-4">
<h4 id="org1669c04"><span class="section-number-4">6.47.1.</span> default variables</h4>
<div class="outline-text-4" id="text-6-47-1">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-variable-name">system</span>:
  <span class="org-variable-name">shutdown</span>: poweroff
<span class="org-variable-name">grub</span>:
  <span class="org-variable-name">timeout</span>: 0
  <span class="org-variable-name">boot_options</span>: quiet nosplash
<span class="org-variable-name">intel_boot_options</span>: <span class="org-string">""</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgfcecb09" class="outline-4">
<h4 id="orgfcecb09"><span class="section-number-4">6.47.2.</span> tasks</h4>
<div class="outline-text-4" id="text-6-47-2">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment">---</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> custom grub configuration for timeout and reboot halt</span>
  <span class="org-keyword">template</span>:
    <span class="org-variable-name">src</span>: templates/50_custom.j2
    <span class="org-variable-name">dest</span>: /etc/grub.d/50_custom
    <span class="org-variable-name">mode</span>: <span class="org-string">'0775'</span>
  <span class="org-builtin">notify</span>: [ <span class="org-string">'Update GRUB'</span> ]

<span class="org-comment-delimiter"># </span><span class="org-comment">TODO: add special case if plymouth is used</span>
- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> let the system boot quietly</span>
  <span class="org-keyword">lineinfile</span>:
      <span class="org-variable-name">dest</span>: /etc/default/grub
      <span class="org-variable-name">state</span>: present
      <span class="org-variable-name">regexp</span>: <span class="org-string">'^(GRUB_CMDLINE_LINUX_DEFAULT=")'</span>
      <span class="org-variable-name">line</span>: <span class="org-string">'\1</span><span class="org-builtin">{{</span><span class="org-function-name"> grub.boot_options </span><span class="org-builtin">}}{{</span><span class="org-function-name"> intel_boot_options </span><span class="org-builtin">}}</span><span class="org-string">"'</span>
      <span class="org-variable-name">backrefs</span>: <span class="org-constant">yes</span>
  <span class="org-builtin">notify</span>: [ <span class="org-string">'Update GRUB'</span> ]

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> set GRUB_TIMEOUT</span>
  <span class="org-keyword">lineinfile</span>:
      <span class="org-variable-name">dest</span>: /etc/default/grub
      <span class="org-variable-name">state</span>: present
      <span class="org-variable-name">regexp</span>: <span class="org-string">'^(GRUB_TIMEOUT=)'</span>
      <span class="org-variable-name">line</span>: <span class="org-string">'GRUB_TIMEOUT=</span><span class="org-builtin">{{</span><span class="org-function-name"> grub.timeout </span><span class="org-builtin">}}</span><span class="org-string">'</span>
      <span class="org-variable-name">backrefs</span>: <span class="org-constant">yes</span>
  <span class="org-builtin">notify</span>: [ <span class="org-string">'Update GRUB'</span> ]

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> set GRUB_TIMEOUT_STYLE</span>
  <span class="org-keyword">lineinfile</span>:
      <span class="org-variable-name">dest</span>: /etc/default/grub
      <span class="org-variable-name">state</span>: present
      <span class="org-variable-name">regexp</span>: <span class="org-string">'^(GRUB_TIMEOUT_STYLE=)'</span>
      <span class="org-variable-name">line</span>: <span class="org-string">'\1</span><span class="org-builtin">{{</span><span class="org-function-name"> "hidden" if grub.timeout == 0 else "menu" </span><span class="org-builtin">}}</span><span class="org-string">'</span>
      <span class="org-variable-name">backrefs</span>: <span class="org-constant">yes</span>
  <span class="org-builtin">notify</span>: [ <span class="org-string">'Update GRUB'</span> ]
</pre>
</div>
</div>
</div>
<div id="outline-container-orgd58b2ce" class="outline-4">
<h4 id="orgd58b2ce"><span class="section-number-4">6.47.3.</span> templates</h4>
<div class="outline-text-4" id="text-6-47-3">
<div class="org-src-container">
<pre class="src src-jinja2"><span class="org-type">{{</span> <span class="org-variable-name">ansible_managed </span><span class="org-keyword">| </span><span class="org-warning">comment</span> <span class="org-type">}}</span>

exec tail -n +3 $0

<span class="org-function-name">{%</span> <span class="org-keyword">if</span> system.shutdown <span class="org-builtin">is</span> defined <span class="org-builtin">and</span> system.shutdown == <span class="org-string">'reboot'</span> <span class="org-function-name">%}</span>
menuentry <span class="org-string">"PowerOff"</span> {
    halt
}
<span class="org-function-name">{%</span> <span class="org-keyword">endif</span> <span class="org-function-name">%}</span>

<span class="org-keyword">if</span> [ <span class="org-string">"${recordfail}"</span> = 1 ]; then
    <span class="org-builtin">set</span> timeout=<span class="org-type">{{</span> <span class="org-variable-name">3 if grub.timeout &lt; 3 else grub.timeout</span> <span class="org-type">}}</span>
<span class="org-keyword">else</span>
    <span class="org-builtin">set</span> timeout=<span class="org-type">{{</span> <span class="org-variable-name">grub.timeout if grub.timeout is defined else 0</span> <span class="org-type">}}</span>
fi
</pre>
</div>
</div>
</div>
<div id="outline-container-orgfbdf61d" class="outline-4">
<h4 id="orgfbdf61d"><span class="section-number-4">6.47.4.</span> handlers</h4>
<div class="outline-text-4" id="text-6-47-4">
<div class="org-src-container">
<pre class="src src-yaml"><span class="org-comment">---</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> Update Initramfs</span>
  <span class="org-keyword">command</span>: <span class="org-string">"update-initramfs -u"</span>
  <span class="org-variable-name">failed_when</span>: (<span class="org-string">'error'</span> in initramfs_register_update.stderr)
  <span class="org-builtin">register</span>: initramfs_register_update

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> Update GRUB</span>
  <span class="org-keyword">command</span>: update-grub
  <span class="org-variable-name">failed_when</span>: (<span class="org-string">'error'</span> in grub_register_update.stderr)
  <span class="org-builtin">register</span>: grub_register_update

  <span class="org-comment-delimiter"># </span><span class="org-comment">TODO: Do we need to use grub-set-default?</span>
  <span class="org-comment-delimiter"># </span><span class="org-comment">https://github.com/yavdr/yavdr-utils/blob/master/events/actions/update-grub</span>
</pre>
</div>
</div>
</div>
</div>
</div>
<div id="outline-container-org124b23a" class="outline-2">
<h2 id="org124b23a"><span class="section-number-2">7.</span> Modules</h2>
<div class="outline-text-2" id="text-7">
<p>
This section contains custom modules for the yaVDR Playbooks. They are used to collect facts about the system and configure applications and daemons.
</p>
</div>
<div id="outline-container-org271a24c" class="outline-3">
<h3 id="org271a24c"><span class="section-number-3">7.1.</span> hardware_facts.py</h3>
<div class="outline-text-3" id="text-7-1">
<div class="org-src-container">
<pre class="src src-python"><span class="org-comment-delimiter"># </span><span class="org-comment">This Module collects the vendor- and device ids for USB- and PCI(e)-devices and currently loaded kernel modules.</span>
<span class="org-variable-name">DOCUMENTATION</span> = <span class="org-string">'''</span>
<span class="org-string">  ---</span>
<span class="org-string">  module: hardware_facts</span>
<span class="org-string">  short_description: collects facts for kernel modules, usb and pci devices</span>
<span class="org-string">  description:</span>
<span class="org-string">       - This Module collects the vendor- and device ids for USB- and PCI(e)-devices and</span>
<span class="org-string">         currently loaded kernel modules.</span>
<span class="org-string">  options:</span>
<span class="org-string">      usb:</span>
<span class="org-string">          required: False</span>
<span class="org-string">          default: True</span>
<span class="org-string">          description:</span>
<span class="org-string">            - return a list of vendor- and device ids for usb devices in '04x:04x' notation</span>

<span class="org-string">    pci:</span>
<span class="org-string">        required: False</span>
<span class="org-string">        default: True</span>
<span class="org-string">        description:</span>
<span class="org-string">          - return a list of vendor- and device ids for pci devices in '04x:04x' notation</span>

<span class="org-string">    modules:</span>
<span class="org-string">        required: False</span>
<span class="org-string">        default: True</span>
<span class="org-string">        description:</span>
<span class="org-string">          - return a list of currently loaded kernel modules</span>

<span class="org-string">    gpus:</span>
<span class="org-string">        required: False</span>
<span class="org-string">        default: True</span>
<span class="org-string">        description:</span>
<span class="org-string">          - return a list of devices of the pci gpu class (0x030000)</span>

<span class="org-string">    serial:</span>
<span class="org-string">        required: False</span>
<span class="org-string">        default: True</span>
<span class="org-string">        description:</span>
<span class="org-string">          - return a list of serial connections which provide an address and an interrupt</span>

<span class="org-string">    acpi_power_modes:</span>
<span class="org-string">        required: False</span>
<span class="org-string">        default: True</span>
<span class="org-string">        description:</span>
<span class="org-string">          - return a list of supported acpi power saving modes</span>
<span class="org-string">notes:</span>
<span class="org-string">   - requires python3-pyusb and python3-kmodpy</span>
<span class="org-string">requirements: [ ]</span>
<span class="org-string">author: "Alexander Grothe <a href="mailto:seahawk1986%40gmx.de">&lt;seahawk1986@gmx.de&gt;</a>"</span>
<span class="org-string">'''</span>

<span class="org-variable-name">EXAMPLES</span> = <span class="org-string">'''</span>
<span class="org-string">- name: get information about usb and pci hardware and loaded kernel modules</span>
<span class="org-string">  hardware_facts:</span>
<span class="org-string">    usb: True</span>
<span class="org-string">    pci: True</span>
<span class="org-string">    serial: True</span>
<span class="org-string">    modules: True</span>
<span class="org-string">    acpi_power_modes: True</span>
<span class="org-string">- debug:</span>
<span class="org-string">    var: usb</span>
<span class="org-string">- debug:</span>
<span class="org-string">    var: pci</span>
<span class="org-string">- debug:</span>
<span class="org-string">    var: modules</span>
<span class="org-string">- debug:</span>
<span class="org-string">    var: serial</span>
<span class="org-string">- debug:</span>
<span class="org-string">    var: gpus</span>
<span class="org-string">- debug:</span>
<span class="org-string">    var: acpi_power_modes</span>
<span class="org-string">'''</span>

<span class="org-keyword">import</span> glob
<span class="org-keyword">import</span> json
<span class="org-keyword">import</span> os
<span class="org-keyword">import</span> sys
<span class="org-keyword">import</span> usb.core
<span class="org-keyword">from</span> collections <span class="org-keyword">import</span> namedtuple
<span class="org-keyword">from</span> itertools <span class="org-keyword">import</span> chain

<span class="org-keyword">import</span> kmodpy
<span class="org-keyword">from</span> ansible.module_utils.basic <span class="org-keyword">import</span> *


<span class="org-variable-name">PCIDevice</span> = namedtuple(<span class="org-string">"PCIDevice"</span>, <span class="org-string">'idVendor idProduct idClass pciPath'</span>)

<span class="org-variable-name">vendor_dict</span> = {
    0x10de: <span class="org-string">'nvidia'</span>,
    0x8086: <span class="org-string">'intel'</span>,
    0x1002: <span class="org-string">'amd'</span>,
    0x80ee: <span class="org-string">'virtualbox'</span>,
    }

<span class="org-keyword">def</span> <span class="org-function-name">get_pci_devices</span>():
    <span class="org-keyword">for</span> device <span class="org-keyword">in</span> chain(glob.glob(<span class="org-string">'/sys/devices/pci*/*:*:*/'</span>), glob.glob(<span class="org-string">'/sys/devices/pci*/*:*:*/*:*:*/'</span>)):
        <span class="org-keyword">try</span>:
            <span class="org-keyword">with</span> <span class="org-builtin">open</span>(os.path.join(device, <span class="org-string">'device'</span>)) <span class="org-keyword">as</span> d:
                <span class="org-variable-name">product_id</span> = <span class="org-builtin">int</span>(d.read().strip(), 16)
            <span class="org-keyword">with</span> <span class="org-builtin">open</span>(os.path.join(device, <span class="org-string">'vendor'</span>)) <span class="org-keyword">as</span> d:
                <span class="org-variable-name">vendor_id</span> = <span class="org-builtin">int</span>(d.read().strip(), 16)
            <span class="org-keyword">with</span> <span class="org-builtin">open</span>(os.path.join(device, <span class="org-string">'class'</span>)) <span class="org-keyword">as</span> d:
                <span class="org-variable-name">class_id</span> = <span class="org-builtin">int</span>(d.read().strip(), 16)
            <span class="org-keyword">yield</span> PCIDevice(idVendor=vendor_id, idProduct=product_id, idClass=class_id, pciPath=device)
        <span class="org-keyword">except</span> <span class="org-type">IOError</span>:
            <span class="org-keyword">pass</span>

<span class="org-keyword">def</span> <span class="org-function-name">format_device_list</span>(iterator):
    <span class="org-keyword">return</span> [<span class="org-string">"{:04x}:{:04x}"</span>.<span class="org-builtin">format</span>(d.idVendor, d.idProduct) <span class="org-keyword">for</span> d <span class="org-keyword">in</span> iterator]

<span class="org-keyword">def</span> <span class="org-function-name">format_gpu_device_list</span>(iterator):
    <span class="org-keyword">def</span> <span class="org-function-name">get_entries</span>(iterator):
        <span class="org-keyword">for</span> d <span class="org-keyword">in</span> iterator:
            <span class="org-keyword">if</span> d.idClass == 0x030000:
                <span class="org-keyword">yield</span> {<span class="org-string">"VendorName"</span>: vendor_dict.get(d.idVendor, <span class="org-string">"unknown"</span>),
                       <span class="org-string">"VendorID"</span>: d.idVendor, <span class="org-string">"ProductID"</span>: d.idProduct}
    <span class="org-keyword">return</span> [entry <span class="org-keyword">for</span> entry <span class="org-keyword">in</span> get_entries(iterator)]


<span class="org-keyword">def</span> <span class="org-function-name">get_serial_data</span>(name):
    <span class="org-doc">"""</span>
<span class="org-doc">    get the I/O and IRQ numbers for the serial port</span>
<span class="org-doc">    using the /sys/class/tty/ttyS&lt;X&gt;/ device nodes</span>
<span class="org-doc">    """</span>
    <span class="org-keyword">with</span> <span class="org-builtin">open</span>(os.path.join(name, <span class="org-string">'irq'</span>)) <span class="org-keyword">as</span> f:
        <span class="org-variable-name">irq</span> = <span class="org-builtin">int</span>(f.read().rstrip())
    <span class="org-keyword">with</span> <span class="org-builtin">open</span>(os.path.join(name, <span class="org-string">'port'</span>)) <span class="org-keyword">as</span> f:
        <span class="org-variable-name">port</span> = <span class="org-builtin">int</span>(f.read().rstrip(), base=16)
    <span class="org-keyword">return</span> port, irq

<span class="org-keyword">def</span> <span class="org-function-name">get_serial_devices</span>():
    <span class="org-variable-name">devices</span> = {}
    <span class="org-variable-name">p</span> = <span class="org-string">'/sys/class/tty/'</span>
    <span class="org-keyword">for</span> d <span class="org-keyword">in</span> <span class="org-builtin">sorted</span>(glob.glob(os.path.join(p, <span class="org-string">'ttyS[0-9]*'</span>))):
        <span class="org-variable-name">port</span>, <span class="org-variable-name">irq</span> = get_serial_data(d)
        <span class="org-keyword">if</span> port <span class="org-keyword">and</span> irq:
            <span class="org-comment-delimiter"># </span><span class="org-comment">TODO: check if a serial receiver is attached</span>
            <span class="org-variable-name">devices</span>[os.path.basename(d)] = {<span class="org-string">'port'</span>: <span class="org-string">'0x{:x}'</span>.<span class="org-builtin">format</span>(port), <span class="org-string">'irq'</span>: irq}
    <span class="org-keyword">return</span> devices


<span class="org-keyword">def</span> <span class="org-function-name">list_acpi_power_modes</span>():
    <span class="org-variable-name">acpi_power_modes</span> = []
    <span class="org-keyword">try</span>:
        <span class="org-keyword">with</span> <span class="org-builtin">open</span>(<span class="org-string">'/sys/power/state'</span>) <span class="org-keyword">as</span> f:
            <span class="org-variable-name">acpi_power_modes</span> = [l <span class="org-keyword">for</span> l <span class="org-keyword">in</span> f.readline().split()]
    <span class="org-keyword">except</span> <span class="org-type">IOError</span>:
        <span class="org-keyword">pass</span>
    <span class="org-keyword">return</span> acpi_power_modes

<span class="org-variable-name">arg_specs</span> = {
    <span class="org-string">'usb'</span>: <span class="org-builtin">dict</span>(default=<span class="org-constant">True</span>, <span class="org-builtin">type</span>=<span class="org-string">'bool'</span>, required=<span class="org-constant">False</span>),
    <span class="org-string">'pci'</span>: <span class="org-builtin">dict</span>(default=<span class="org-constant">True</span>, <span class="org-builtin">type</span>=<span class="org-string">'bool'</span>, required=<span class="org-constant">False</span>),
    <span class="org-string">'modules'</span>: <span class="org-builtin">dict</span>(default=<span class="org-constant">True</span>, <span class="org-builtin">type</span>=<span class="org-string">'bool'</span>, required=<span class="org-constant">False</span>),
    <span class="org-string">'gpus'</span>: <span class="org-builtin">dict</span>(default=<span class="org-constant">True</span>, <span class="org-builtin">type</span>=<span class="org-string">'bool'</span>, required=<span class="org-constant">False</span>),
    <span class="org-string">'serial'</span>: <span class="org-builtin">dict</span>(default=<span class="org-constant">True</span>, <span class="org-builtin">type</span>=<span class="org-string">'bool'</span>, required=<span class="org-constant">False</span>),
    <span class="org-string">'acpi_power_modes'</span>: <span class="org-builtin">dict</span>(default=<span class="org-constant">True</span>, <span class="org-builtin">type</span>=<span class="org-string">'bool'</span>, required=<span class="org-constant">False</span>),
    }


<span class="org-keyword">def</span> <span class="org-function-name">main</span>():
    <span class="org-variable-name">module</span> = AnsibleModule(argument_spec=arg_specs, supports_check_mode=<span class="org-constant">True</span>,)
    <span class="org-variable-name">collect_usb</span> = module.params[<span class="org-string">'usb'</span>]
    <span class="org-variable-name">collect_pci</span> = module.params[<span class="org-string">'pci'</span>]
    <span class="org-variable-name">collect_modules</span> = module.params[<span class="org-string">'modules'</span>]
    <span class="org-variable-name">collect_gpus</span> = module.params[<span class="org-string">'gpus'</span>]
    <span class="org-variable-name">collect_serial</span> = module.params[<span class="org-string">'serial'</span>]
    <span class="org-variable-name">collect_acpi_power_modes</span> = module.params[<span class="org-string">'acpi_power_modes'</span>]

    <span class="org-variable-name">usb_devices</span> = []
    <span class="org-variable-name">pci_devices</span> = []
    <span class="org-variable-name">modules</span> = []
    <span class="org-variable-name">gpus</span> = []
    <span class="org-variable-name">nvidia_detected</span> = <span class="org-constant">False</span>
    <span class="org-variable-name">intel_detected</span> = <span class="org-constant">False</span>
    <span class="org-variable-name">amd_detected</span> = <span class="org-constant">False</span>
    <span class="org-variable-name">virtualbox_detected</span> = <span class="org-constant">False</span>
    <span class="org-variable-name">serial_devices</span> = []
    <span class="org-variable-name">acpi_power_modes</span> = []

    <span class="org-keyword">if</span> collect_usb:
        <span class="org-variable-name">usb_devices</span> = format_device_list(usb.core.find(find_all=<span class="org-constant">True</span>))

    <span class="org-keyword">if</span> collect_pci:
        <span class="org-variable-name">pci_devices</span> = format_device_list(get_pci_devices())

    <span class="org-keyword">if</span> collect_modules:
        <span class="org-variable-name">k</span> = kmodpy.Kmod()
        <span class="org-variable-name">modules</span> = [m[0] <span class="org-keyword">for</span> m <span class="org-keyword">in</span> k.loaded()]

    <span class="org-keyword">if</span> collect_gpus:
        <span class="org-variable-name">gpus</span> = format_gpu_device_list(get_pci_devices())
        <span class="org-variable-name">nvidia_detected</span> = <span class="org-builtin">any</span>((<span class="org-constant">True</span> <span class="org-keyword">for</span> gpu <span class="org-keyword">in</span> gpus <span class="org-keyword">if</span> gpu[<span class="org-string">'VendorName'</span>] == <span class="org-string">'nvidia'</span>))
        <span class="org-variable-name">intel_detected</span> = <span class="org-builtin">any</span>((<span class="org-constant">True</span> <span class="org-keyword">for</span> gpu <span class="org-keyword">in</span> gpus <span class="org-keyword">if</span> gpu[<span class="org-string">'VendorName'</span>] == <span class="org-string">'intel'</span>))
        <span class="org-variable-name">amd_detected</span> = <span class="org-builtin">any</span>((<span class="org-constant">True</span> <span class="org-keyword">for</span> gpu <span class="org-keyword">in</span> gpus <span class="org-keyword">if</span> gpu[<span class="org-string">'VendorName'</span>] == <span class="org-string">'amd'</span>))
        <span class="org-variable-name">virtualbox_detected</span> = <span class="org-builtin">any</span>((<span class="org-constant">True</span> <span class="org-keyword">for</span> gpu <span class="org-keyword">in</span> gpus <span class="org-keyword">if</span> gpu[<span class="org-string">'VendorName'</span>] == <span class="org-string">'virtualbox'</span>))

    <span class="org-keyword">if</span> collect_serial:
        <span class="org-variable-name">serial_devices</span> = get_serial_devices()

    <span class="org-keyword">if</span> collect_acpi_power_modes:
        <span class="org-variable-name">acpi_power_modes</span> = list_acpi_power_modes()

    <span class="org-variable-name">data</span> = {<span class="org-string">'usb'</span>: usb_devices,
            <span class="org-string">'pci'</span>: pci_devices,
            <span class="org-string">'modules'</span>: modules,
            <span class="org-string">'gpus'</span>: gpus,
            <span class="org-string">'serial'</span>: serial_devices,
            <span class="org-string">'acpi_power_modes'</span>: acpi_power_modes,
            <span class="org-string">'nvidia_detected'</span>: nvidia_detected,
            <span class="org-string">'intel_detected'</span>: intel_detected,
            <span class="org-string">'amd_detected'</span>: amd_detected,
            <span class="org-string">'virtualbox_detected'</span>: virtualbox_detected,
    }
    module.exit_json(changed=<span class="org-constant">False</span>, ansible_facts=data, msg=data)


<span class="org-keyword">if</span> <span class="org-builtin">__name__</span> == <span class="org-string">'__main__'</span>:
    main()
</pre>
</div>
</div>
</div>
<div id="outline-container-orgb8e23fd" class="outline-3">
<h3 id="orgb8e23fd"><span class="section-number-3">7.2.</span> pci_facts.py</h3>
<div class="outline-text-3" id="text-7-2">
<div class="org-src-container">
<pre class="src src-python">
<span class="org-comment-delimiter"># </span><span class="org-comment">This module parses the output of lspci for detailed information about available (sub) devices.</span>
<span class="org-variable-name">DOCUMENTATION</span> = <span class="org-string">'''</span>
<span class="org-string">  ---</span>
<span class="org-string">  module: pci_facts</span>
<span class="org-string">  short_description: parses lspci output for detailed (sub) devices data</span>
<span class="org-string">  description:</span>
<span class="org-string">      - This module parses the output of lspci for detailed information about available (sub) devices.</span>
<span class="org-string">      - returns a list with a dict for each device</span>

<span class="org-string">notes:</span>
<span class="org-string">    - requires lspci (package pciutils)</span>

<span class="org-string">'''</span>

<span class="org-variable-name">EXAMPLES</span> = <span class="org-string">'''</span>
<span class="org-string">- name: get detailled pci device infos</span>
<span class="org-string">  pci_facts:</span>

<span class="org-string">- debug:</span>
<span class="org-string">    var: pci_devices</span>
<span class="org-string">'''</span>


<span class="org-keyword">import</span> argparse
<span class="org-keyword">import</span> shlex
<span class="org-keyword">import</span> subprocess
<span class="org-keyword">from</span> collections <span class="org-keyword">import</span> namedtuple

<span class="org-keyword">from</span> ansible.module_utils.basic <span class="org-keyword">import</span> *

<span class="org-keyword">def</span> <span class="org-function-name">convert2hex</span>(arg):
    <span class="org-variable-name">arg</span> = arg.strip(<span class="org-string">'"'</span>)
    <span class="org-keyword">if</span> arg:
        <span class="org-keyword">return</span> <span class="org-builtin">int</span>(arg, 16)
    <span class="org-keyword">else</span>:
        <span class="org-keyword">return</span> <span class="org-constant">None</span>

<span class="org-keyword">def</span> <span class="org-function-name">parse_lspci_data</span>():
    <span class="org-variable-name">parser</span> = argparse.ArgumentParser()
    parser.add_argument(<span class="org-string">'-r'</span>, <span class="org-string">'--revision'</span>, <span class="org-builtin">help</span>=<span class="org-string">'revision'</span>, <span class="org-builtin">type</span>=convert2hex)
    parser.add_argument(<span class="org-string">'-p'</span>, <span class="org-string">'--progif'</span>, <span class="org-builtin">help</span>=<span class="org-string">'proginf'</span>, <span class="org-builtin">type</span>=convert2hex)
    parser.add_argument(<span class="org-string">'slot'</span>)
    parser.add_argument(<span class="org-string">'device_class'</span>, <span class="org-builtin">type</span>=convert2hex)
    parser.add_argument(<span class="org-string">'vendor_id'</span>, <span class="org-builtin">type</span>=convert2hex)
    parser.add_argument(<span class="org-string">'device_id'</span>, <span class="org-builtin">type</span>=convert2hex)
    parser.add_argument(<span class="org-string">'sub_vendor_id'</span>, <span class="org-builtin">type</span>=convert2hex)
    parser.add_argument(<span class="org-string">'sub_device_id'</span>, <span class="org-builtin">type</span>=convert2hex)
    parser.add_argument(<span class="org-string">'other'</span>, nargs=<span class="org-string">'*'</span>, default=[])

    <span class="org-variable-name">devices</span> = []
    <span class="org-keyword">for</span> line <span class="org-keyword">in</span> subprocess.check_output([<span class="org-string">'lspci'</span>, <span class="org-string">'-nm'</span>], universal_newlines=<span class="org-constant">True</span>).splitlines():
        <span class="org-variable-name">args</span> = parser.parse_args(args=shlex.split(line))
        devices.append(<span class="org-builtin">vars</span>(args))
    <span class="org-keyword">return</span> devices


<span class="org-keyword">def</span> <span class="org-function-name">main</span>():
    <span class="org-variable-name">arg_specs</span> = {}
    <span class="org-variable-name">module</span> = AnsibleModule(argument_spec=arg_specs, supports_check_mode=<span class="org-constant">True</span>,)
    <span class="org-keyword">try</span>:
        <span class="org-variable-name">pci_devices</span> = parse_lspci_data()
    <span class="org-keyword">except</span>:
        module.fail_json(msg=<span class="org-string">"Something fatal happened"</span>)
    <span class="org-variable-name">data</span> = {<span class="org-string">'pci_devices'</span>: pci_devices}
    module.exit_json(changed=<span class="org-constant">False</span>, ansible_facts=data, msg=data)

<span class="org-keyword">if</span> <span class="org-builtin">__name__</span> == <span class="org-string">'__main__'</span>:
    main()
</pre>
</div>
</div>
</div>
<div id="outline-container-org5208666" class="outline-3">
<h3 id="org5208666"><span class="section-number-3">7.3.</span> satip_facts.py</h3>
<div class="outline-text-3" id="text-7-3">
<div class="org-src-container">
<pre class="src src-python"><span class="org-variable-name">DOCUMENTATION</span> = <span class="org-string">'''</span>
<span class="org-string">---</span>
<span class="org-string">module: hardware_facts</span>
<span class="org-string">short_description: "check if at least one SAT&gt;IP server responds on the network"</span>
<span class="org-string">description:</span>
<span class="org-string">     - This script sends a multicast message and awaits responses by Sat&gt;IP servers.</span>
<span class="org-string">       Returns a list of detected SAT&gt;IP servers with their name and capabilites.</span>
<span class="org-string">'''</span>
<span class="org-variable-name">EXAMPLES</span> = <span class="org-string">'''</span>
<span class="org-string">- name: "detect SAT&gt;IP Server on the network"</span>
<span class="org-string">  action: satip_facts</span>

<span class="org-string">- debug:</span>
<span class="org-string">    var: satip_devices</span>
<span class="org-string">'''</span>

<span class="org-keyword">import</span> json
<span class="org-keyword">import</span> socket
<span class="org-keyword">import</span> sys
<span class="org-keyword">import</span> time
<span class="org-keyword">import</span> xml.etree.ElementTree <span class="org-keyword">as</span> ET
<span class="org-keyword">import</span> requests
<span class="org-keyword">from</span> contextlib <span class="org-keyword">import</span> contextmanager
<span class="org-keyword">from</span> ansible.module_utils.basic <span class="org-keyword">import</span> *

<span class="org-variable-name">SSDP_BIND</span> = <span class="org-string">"0.0.0.0"</span>
<span class="org-variable-name">SSDP_ADDR</span> = <span class="org-string">"239.255.255.250"</span>
<span class="org-variable-name">SSDP_PORT</span> = 1900
<span class="org-comment-delimiter"># </span><span class="org-comment">SSDP_MX = max delay for server response</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">a value of 2s is recommended by the SAT&gt;IP specification 1.2.2</span>
<span class="org-variable-name">SSDP_MX</span> = 2
<span class="org-variable-name">SSDP_ST</span> = <span class="org-string">"urn:ses-com:device:SatIPServer:1"</span>

<span class="org-variable-name">ssdpRequest</span> = <span class="org-string">"\r\n"</span>.join((
    <span class="org-string">"M-SEARCH * HTTP/1.1"</span>,
    <span class="org-string">"HOST: %s:%d"</span> % (SSDP_ADDR, SSDP_PORT),
    <span class="org-string">"MAN: \"ssdp:discover\""</span>,
    <span class="org-string">"MX: %d"</span> % (SSDP_MX),
    <span class="org-string">"ST: %s"</span> % (SSDP_ST),
    <span class="org-string">"\r\n"</span>)).encode(<span class="org-string">'utf-8'</span>)

<span class="org-type">@contextmanager</span>
<span class="org-keyword">def</span> <span class="org-function-name">socket_manager</span>(*args, **kwargs):
    <span class="org-doc">"""provide a context manager for socket"""</span>
    <span class="org-variable-name">sock</span> = socket.socket(*args, **kwargs)
    sock.setblocking(<span class="org-constant">False</span>)
    sock.setsockopt(socket.IPPROTO_IP, socket.IP_MULTICAST_TTL, 2)
    sock.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)
    <span class="org-keyword">try</span>:
        sock.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEPORT, 1)
    <span class="org-keyword">except</span> socket.error:
        <span class="org-keyword">pass</span>
    sock.settimeout(SSDP_MX + 0.5)
    sock.bind((SSDP_BIND, SSDP_PORT))
    <span class="org-keyword">try</span>:
        <span class="org-keyword">yield</span> sock
    <span class="org-keyword">finally</span>:
        sock.close()


<span class="org-keyword">def</span> <span class="org-function-name">parse_satip_xml</span>(data):
    <span class="org-doc">""" Parse SAT&gt;IP XML data.</span>
<span class="org-doc">    Args:</span>
<span class="org-doc">        data (str): XML input data..</span>
<span class="org-doc">    Returns:</span>
<span class="org-doc">        dict: Parsed SAT&gt;IP device name and frontend information.</span>
<span class="org-doc">    """</span>
    <span class="org-variable-name">result</span> = {<span class="org-string">'name'</span>: <span class="org-string">''</span>, <span class="org-string">'frontends'</span>: {}}
    <span class="org-keyword">if</span> data:
        <span class="org-variable-name">root</span> = ET.fromstring(data)
        <span class="org-variable-name">name</span> = root.find(<span class="org-string">'.//*/{urn:schemas-upnp-org:device-1-0}friendlyName'</span>)
        <span class="org-variable-name">result</span>[<span class="org-string">'name'</span>] = name.text
        <span class="org-variable-name">satipcap</span> = root.find(<span class="org-string">'.//*/{urn:ses-com:satip}X_SATIPCAP'</span>)
        <span class="org-keyword">if</span> satipcap <span class="org-keyword">is</span> <span class="org-constant">None</span>:
            <span class="org-keyword">raise</span> <span class="org-type">ValueError</span>(<span class="org-string">"Invalid SAT&gt;IP device description"</span>)
        <span class="org-variable-name">caps</span> = {}
        <span class="org-keyword">for</span> system <span class="org-keyword">in</span> satipcap.text.split(<span class="org-string">","</span>):
            <span class="org-variable-name">cap</span> = system.split(<span class="org-string">"-"</span>)
            <span class="org-keyword">if</span> cap:
                <span class="org-variable-name">count</span> = <span class="org-builtin">int</span>(cap[1])
                <span class="org-keyword">if</span> cap[0] <span class="org-keyword">in</span> caps:
                    <span class="org-variable-name">count</span> = count + caps[cap[0]]
                caps[cap[0]] = count
        <span class="org-variable-name">result</span>[<span class="org-string">'frontends'</span>] = caps
    <span class="org-keyword">return</span> result


<span class="org-keyword">def</span> <span class="org-function-name">main</span>():
    <span class="org-variable-name">description_urls</span> = []
    <span class="org-variable-name">device_list</span> = []
    <span class="org-variable-name">module</span> = AnsibleModule(argument_spec={}, supports_check_mode=<span class="org-constant">True</span>,)
    <span class="org-keyword">with</span> socket_manager(socket.AF_INET, socket.SOCK_DGRAM) <span class="org-keyword">as</span> sock:
        <span class="org-comment-delimiter"># </span><span class="org-comment">according to Sat&gt;IP Specification 1.2.2, p. 20</span>
        <span class="org-comment-delimiter"># </span><span class="org-comment">a client should send three requests within 100 ms with a ttl of 2</span>

        <span class="org-keyword">for</span> _ <span class="org-keyword">in</span> <span class="org-builtin">range</span>(3):
            sock.sendto(ssdpRequest, (SSDP_ADDR, SSDP_PORT))
            time.sleep(0.03)
        <span class="org-keyword">try</span>:
            <span class="org-variable-name">response</span> = sock.recv(1024).decode()
            <span class="org-keyword">if</span> response <span class="org-keyword">and</span> <span class="org-string">"SERVER:"</span> <span class="org-keyword">in</span> response:
                <span class="org-keyword">for</span> line <span class="org-keyword">in</span> response.splitlines():
                    <span class="org-keyword">if</span> <span class="org-string">"LOCATION"</span> <span class="org-keyword">in</span> line:
                        <span class="org-variable-name">url</span> = line.split()[-1].strip()
                        <span class="org-keyword">if</span> url <span class="org-keyword">not</span> <span class="org-keyword">in</span> description_urls:
                            description_urls.append(url)
                            <span class="org-variable-name">info</span> = requests.get(url, timeout=2)
                            device_list.append(parse_satip_xml(info.text))
            <span class="org-keyword">else</span>:
                <span class="org-keyword">raise</span> <span class="org-type">ValueError</span>(<span class="org-string">'No satip server detected'</span>)
        <span class="org-keyword">except</span> (socket.timeout, <span class="org-type">ValueError</span>, ET.ParseError):
            <span class="org-keyword">pass</span>

    module.exit_json(changed=<span class="org-constant">False</span>, ansible_facts={<span class="org-string">'satip_devices'</span>: device_list})

<span class="org-keyword">if</span> <span class="org-builtin">__name__</span> == <span class="org-string">'__main__'</span>:
    main()
</pre>
</div>
</div>
</div>
<div id="outline-container-org1625d41" class="outline-3">
<h3 id="org1625d41"><span class="section-number-3">7.4.</span> xrandr_facts.py</h3>
<div class="outline-text-3" id="text-7-4">
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> support multiple screens (-d :0.0 .. :0.n)</li>
</ul>

<div class="org-src-container">
<pre class="src src-python"><span class="org-comment-delimiter">#</span><span class="org-comment">!/usr/bin/env python2</span>
<span class="org-keyword">from</span> __future__ <span class="org-keyword">import</span> print_function
<span class="org-keyword">import</span> ast
<span class="org-keyword">import</span> binascii
<span class="org-keyword">import</span> csv
<span class="org-keyword">import</span> os
<span class="org-keyword">import</span> re
<span class="org-keyword">import</span> subprocess
<span class="org-keyword">from</span> collections <span class="org-keyword">import</span> namedtuple
<span class="org-keyword">from</span> glob <span class="org-keyword">import</span> glob

<span class="org-keyword">from</span> ansible.module_utils.basic <span class="org-keyword">import</span> AnsibleModule

<span class="org-variable-name">DOCUMENTATION</span> = <span class="org-string">'''</span>
<span class="org-string">---</span>
<span class="org-string">module: xrandr_facts</span>
<span class="org-string">short_description: "gather facts about connected monitors and available modelines"</span>
<span class="org-string">description:</span>
<span class="org-string">     - This module needs a running x-server on a given display in</span>
<span class="org-string">       order to successfully call xrandr. Returns the dictionary</span>
<span class="org-string">       "xrandr", wich contains all screens with output states,</span>
<span class="org-string">       connected displays, EDID info and their modes and a</span>
<span class="org-string">       recommendation for the best fitting tv mode, the dictionary</span>
<span class="org-string">       "xorg" with a recommendation for the primary and secondary</span>
<span class="org-string">       output and a "drm" dictionary whose "primary" key associates</span>
<span class="org-string">       the primary device name of the drm subsystem with the one from</span>
<span class="org-string">       the xrandr output by comparing the edid data and a list of</span>
<span class="org-string">       "ignored_devices". Note that the proprietary nvidia driver</span>
<span class="org-string">       doesn't support KMS/drm, so in this case the dictionary is</span>
<span class="org-string">       always empty.</span>
<span class="org-string">options:</span>
<span class="org-string">    display:</span>
<span class="org-string">        required: False</span>
<span class="org-string">        default: ":0"</span>
<span class="org-string">        description:</span>
<span class="org-string">          - the DISPLAY variable to use when calling xrandr</span>
<span class="org-string">    preferred_outputs:</span>
<span class="org-string">        required: False</span>
<span class="org-string">        default: ["HDMI", "DP", "eDP", "DVI", "VGA", "TV", "Virtual"]</span>
<span class="org-string">        description:</span>
<span class="org-string">          - ranking of the preferred display connectors</span>
<span class="org-string">    preferred_refreshrates:</span>
<span class="org-string">        required: False</span>
<span class="org-string">        default: ["50", "60", "75", "30", "25"]</span>
<span class="org-string">        description:</span>
<span class="org-string">          - ranking of the preferred display refreshrate</span>
<span class="org-string">    preferred_resolutions:</span>
<span class="org-string">        required: False</span>
<span class="org-string">        default: ["7680x4320", "3840x2160", "1920x1080", "1280x720", "720x576"]</span>
<span class="org-string">        description:</span>
<span class="org-string">           - ranking of the preferred display resolutions</span>
<span class="org-string">    write_edids:</span>
<span class="org-string">        required: False</span>
<span class="org-string">        default: True</span>
<span class="org-string">        description:</span>
<span class="org-string">           - write edid data to /etc/X11/edid.{connector}.bin</span>
<span class="org-string">           - the dictionary "drm" can only be filled with data if write_edids is enabled</span>
<span class="org-string">'''</span>
<span class="org-variable-name">EXAMPLES</span> = <span class="org-string">'''</span>
<span class="org-string">- name: "collect facts for connected displays"</span>
<span class="org-string">  action: xserver_facts</span>
<span class="org-string">    display: ":0"</span>

<span class="org-string">- debug:</span>
<span class="org-string">    var: xrandr</span>

<span class="org-string">- debug:</span>
<span class="org-string">    var: xorg</span>

<span class="org-string">- debug:</span>
<span class="org-string">    var: drm</span>
<span class="org-string">'''</span>

<span class="org-variable-name">ARG_SPECS</span> = {
    <span class="org-string">'display'</span>: <span class="org-builtin">dict</span>(default=<span class="org-string">":0"</span>, <span class="org-builtin">type</span>=<span class="org-string">'str'</span>, required=<span class="org-constant">False</span>),
    <span class="org-string">'preferred_outputs'</span>: <span class="org-builtin">dict</span>(
        default=[<span class="org-string">"HDMI"</span>, <span class="org-string">"DP"</span>, <span class="org-string">"eDP"</span>, <span class="org-string">"DVI"</span>, <span class="org-string">"VGA"</span>, <span class="org-string">"TV"</span>, <span class="org-string">"Virtual"</span>],
        <span class="org-builtin">type</span>=<span class="org-string">'list'</span>, elements=<span class="org-string">'str'</span>, required=<span class="org-constant">False</span>
    ),
    <span class="org-string">'preferred_refreshrates'</span>: <span class="org-builtin">dict</span>(
        default=[50, 60, 75, 30, 25], <span class="org-builtin">type</span>=<span class="org-string">'list'</span>, elements=<span class="org-string">'int'</span>, required=<span class="org-constant">False</span>),
    <span class="org-string">'preferred_resolutions'</span>: <span class="org-builtin">dict</span>(
        default=[
            <span class="org-string">"7680x4320"</span>, <span class="org-string">"3840x2160"</span>, <span class="org-string">"1920x1080"</span>, <span class="org-string">"1280x720"</span>, <span class="org-string">"720x576"</span>],
        <span class="org-builtin">type</span>=<span class="org-string">'list'</span>, elements=<span class="org-string">'str'</span>, required=<span class="org-constant">False</span>),
    <span class="org-string">'write_edids'</span>: <span class="org-builtin">dict</span>(default=<span class="org-constant">True</span>, <span class="org-builtin">type</span>=<span class="org-string">'bool'</span>, required=<span class="org-constant">False</span>),
}

<span class="org-variable-name">SCREEN_REGEX</span> = re.<span class="org-builtin">compile</span>(r<span class="org-string">"^(?P&lt;screen&gt;Screen\s\d+:)(?:.*)"</span>)
<span class="org-variable-name">CONNECTOR_REGEX</span> = re.<span class="org-builtin">compile</span>(
    r<span class="org-string">"^(?P&lt;connector&gt;.*-?\d+)\s(?P&lt;connection_state&gt;connected|disconnected)\s(?P&lt;primary&gt;primary)?"</span>)
<span class="org-variable-name">MODE_REGEX</span> = re.<span class="org-builtin">compile</span>(r<span class="org-string">"^\s+(?P&lt;resolution&gt;\d{3,}x\d{3,}).*"</span>)

<span class="org-variable-name">Mode</span> = namedtuple(<span class="org-string">'Mode'</span>, [<span class="org-string">'connection'</span>, <span class="org-string">'resolution'</span>, <span class="org-string">'refreshrate'</span>])


<span class="org-keyword">def</span> <span class="org-function-name">check_for_screen</span>(line):
    <span class="org-doc">"""check line for screen information"""</span>
    <span class="org-variable-name">match</span> = re.match(SCREEN_REGEX, line)
    <span class="org-keyword">if</span> match:
        <span class="org-keyword">return</span> match.groupdict()[<span class="org-string">'screen'</span>]


<span class="org-keyword">def</span> <span class="org-function-name">check_for_connection</span>(line):
    <span class="org-doc">"""check line for connection name and state"""</span>
    <span class="org-variable-name">match</span> = re.match(CONNECTOR_REGEX, line)
    <span class="org-variable-name">connector</span> = <span class="org-constant">None</span>
    <span class="org-variable-name">is_connected</span> = <span class="org-constant">False</span>
    <span class="org-keyword">if</span> match:
        <span class="org-variable-name">match</span> = match.groupdict()
        <span class="org-variable-name">connector</span> = match[<span class="org-string">'connector'</span>]
        <span class="org-variable-name">is_connected</span> = <span class="org-constant">True</span> <span class="org-keyword">if</span> match[<span class="org-string">'connection_state'</span>] == <span class="org-string">'connected'</span> <span class="org-keyword">else</span> <span class="org-constant">False</span>
    <span class="org-keyword">return</span> connector, is_connected


<span class="org-keyword">def</span> <span class="org-function-name">get_indentation</span>(line):
    <span class="org-doc">"""return the number of leading whitespace characters"""</span>
    <span class="org-keyword">return</span> <span class="org-builtin">len</span>(line) - <span class="org-builtin">len</span>(line.lstrip())


<span class="org-keyword">def</span> <span class="org-function-name">sort_mode</span>(mode):
    <span class="org-doc">"""rate modes by several criteria"""</span>
    <span class="org-variable-name">connection_score</span> = 0
    <span class="org-variable-name">rrate_score</span> = 0
    <span class="org-variable-name">resolution_score</span> = 0
    <span class="org-variable-name">preferred_rrates</span> = module.params[<span class="org-string">'preferred_refreshrates'</span>]
    <span class="org-comment-delimiter"># </span><span class="org-comment">[50, 60]</span>
    <span class="org-variable-name">preferred_resolutions</span> = module.params[<span class="org-string">'preferred_resolutions'</span>]
    <span class="org-comment-delimiter"># </span><span class="org-comment">["7680x4320", "3840x2160", "1920x1080", "1280x720", "720x576"]</span>
    <span class="org-variable-name">preferred_outputs</span> = module.params[<span class="org-string">'preferred_outputs'</span>]
    <span class="org-comment-delimiter"># </span><span class="org-comment">["HDMI", "DP", "DVI", "VGA"]</span>
    <span class="org-keyword">if</span> mode.refreshrate <span class="org-keyword">in</span> preferred_rrates:
        <span class="org-variable-name">rrate_score</span> = <span class="org-builtin">len</span>(preferred_rrates) - preferred_rrates.index(mode.refreshrate)
    <span class="org-keyword">if</span> mode.resolution <span class="org-keyword">in</span> preferred_resolutions:
        <span class="org-variable-name">resolution_score</span> = <span class="org-builtin">len</span>(preferred_resolutions) - preferred_resolutions.index(mode.resolution)
    <span class="org-variable-name">x_resolution</span>, <span class="org-variable-name">y_resolution</span> = (<span class="org-builtin">int</span>(n) <span class="org-keyword">for</span> n <span class="org-keyword">in</span> mode.resolution.split(<span class="org-string">'x'</span>))
    <span class="org-variable-name">connection</span> = mode.connection.split(<span class="org-string">'-'</span>)[0]
    <span class="org-keyword">if</span> connection <span class="org-keyword">in</span> preferred_outputs:
        <span class="org-variable-name">connection_score</span> = <span class="org-builtin">len</span>(preferred_outputs) - preferred_outputs.index(connection)
    <span class="org-keyword">return</span> (rrate_score, resolution_score, x_resolution, y_resolution, connection_score)


<span class="org-keyword">def</span> <span class="org-function-name">parse_xrandr_verbose</span>(iterator):
    <span class="org-doc">"""parse the output of xrandr --verbose using an iterator delivering single lines"""</span>
    <span class="org-variable-name">xorg</span> = {}
    <span class="org-variable-name">is_connected</span> = <span class="org-constant">False</span>
    <span class="org-keyword">for</span> line <span class="org-keyword">in</span> iterator:
        <span class="org-keyword">if</span> line.startswith(<span class="org-string">"Screen"</span>):
            <span class="org-variable-name">screen</span> = check_for_screen(line)
            <span class="org-variable-name">xorg</span>[screen] = {}
        <span class="org-keyword">elif</span> <span class="org-string">"connected"</span> <span class="org-keyword">in</span> line:
            <span class="org-variable-name">connector</span>, <span class="org-variable-name">is_connected</span> = check_for_connection(line)
            xorg[screen][connector] = {
                <span class="org-string">"is_connected"</span>: is_connected,
                <span class="org-string">"EDID"</span>: <span class="org-string">""</span>,
                <span class="org-string">"modes"</span>: {},
                <span class="org-string">"modelines"</span>: {},
                <span class="org-string">"preferred"</span>: <span class="org-string">""</span>,
                <span class="org-string">"current"</span>: <span class="org-string">""</span>,
                <span class="org-string">"auto"</span>: <span class="org-string">""</span>,
            }
        <span class="org-keyword">elif</span> is_connected <span class="org-keyword">and</span> <span class="org-string">"EDID:"</span> <span class="org-keyword">in</span> line:
            <span class="org-variable-name">edid_str</span> = <span class="org-string">""</span>
            <span class="org-variable-name">outer_indentation</span> = get_indentation(line)
            <span class="org-keyword">while</span> <span class="org-constant">True</span>:
                <span class="org-variable-name">line</span> = <span class="org-builtin">next</span>(iterator)
                <span class="org-keyword">if</span> get_indentation(line) &gt; outer_indentation:
                    <span class="org-variable-name">edid_str</span> += line.strip()
                <span class="org-keyword">else</span>:
                    <span class="org-keyword">break</span>
            xorg[screen][connector][<span class="org-string">"EDID"</span>] = edid_str
        <span class="org-keyword">elif</span> is_connected <span class="org-keyword">and</span> <span class="org-string">"MHz"</span> <span class="org-keyword">in</span> line <span class="org-keyword">and</span> <span class="org-string">"Interlace"</span> <span class="org-keyword">not</span> <span class="org-keyword">in</span> line:
            <span class="org-variable-name">match</span> = re.match(MODE_REGEX, line)
            <span class="org-keyword">if</span> match:
                <span class="org-variable-name">match</span> = match.groupdict()
                <span class="org-variable-name">preferred</span> = <span class="org-builtin">bool</span>(<span class="org-string">"+preferred"</span> <span class="org-keyword">in</span> line)
                <span class="org-variable-name">current</span> = <span class="org-builtin">bool</span>(<span class="org-string">"*current"</span> <span class="org-keyword">in</span> line)
                resolution, mode_num, pixel_clk, *<span class="org-variable-name">flags</span> = line.split()
                <span class="org-variable-name">flags</span> = [flag <span class="org-keyword">for</span> flag <span class="org-keyword">in</span> flags <span class="org-keyword">if</span> flag <span class="org-keyword">not</span> <span class="org-keyword">in</span> (<span class="org-string">"*current"</span>, <span class="org-string">"+preferred"</span>)]
                <span class="org-variable-name">pixel_clk</span> = pixel_clk[:-3]

                <span class="org-keyword">while</span> <span class="org-constant">True</span>:
                    <span class="org-variable-name">line</span> = <span class="org-builtin">next</span>(iterator).strip()
                    <span class="org-keyword">if</span> line.startswith(<span class="org-string">"h:"</span>):
                        <span class="org-variable-name">_</span>, <span class="org-variable-name">_</span>, <span class="org-variable-name">h_width</span>, <span class="org-variable-name">_</span>, <span class="org-variable-name">h_start</span>, <span class="org-variable-name">_</span>, <span class="org-variable-name">h_end</span>, <span class="org-variable-name">_</span>, <span class="org-variable-name">h_total</span>, <span class="org-variable-name">_</span>, <span class="org-variable-name">h_skew</span>, <span class="org-variable-name">_</span>, <span class="org-variable-name">h_clock</span> = (
                            line.split()
                        )
                        <span class="org-variable-name">h_clock</span> = h_clock[:-3]

                    <span class="org-keyword">if</span> line.startswith(<span class="org-string">"v:"</span>):
                        <span class="org-variable-name">_</span>, <span class="org-variable-name">_</span>, <span class="org-variable-name">v_height</span>, <span class="org-variable-name">_</span>, <span class="org-variable-name">v_start</span>, <span class="org-variable-name">_</span>, <span class="org-variable-name">v_end</span>, <span class="org-variable-name">_</span>, <span class="org-variable-name">v_total</span>, <span class="org-variable-name">_</span>, <span class="org-variable-name">v_clock</span> = (
                            line.split()
                        )
                        <span class="org-variable-name">refresh_rate</span> = ast.literal_eval(v_clock[:-2])
                        <span class="org-variable-name">rrate</span> = <span class="org-builtin">int</span>(<span class="org-builtin">round</span>(refresh_rate))
                        <span class="org-keyword">if</span> (
                            xorg[screen][connector][<span class="org-string">"modes"</span>].get(match[<span class="org-string">"resolution"</span>])
                            <span class="org-keyword">is</span> <span class="org-constant">None</span>
                        ):
                            xorg[screen][connector][<span class="org-string">"modes"</span>][match[<span class="org-string">"resolution"</span>]] = []
                        <span class="org-keyword">if</span> (
                            rrate
                            <span class="org-keyword">not</span> <span class="org-keyword">in</span> xorg[screen][connector][<span class="org-string">"modes"</span>][match[<span class="org-string">"resolution"</span>]]
                        ):
                            xorg[screen][connector][<span class="org-string">"modes"</span>][
                                match[<span class="org-string">"resolution"</span>]
                            ].append(rrate)
                        <span class="org-variable-name">mode_name</span> = f<span class="org-string">'{match["resolution"]}_{rrate}'</span>
                        <span class="org-keyword">if</span> preferred:
                            xorg[screen][connector][<span class="org-string">"preferred"</span>] = mode_name
                        <span class="org-keyword">if</span> current:
                            xorg[screen][connector][<span class="org-string">"current"</span>] = mode_name
                        <span class="org-variable-name">modeline</span> = (
                            f<span class="org-string">'Modeline "{mode_name}"  {pixel_clk} {h_width} {h_start} {h_end} {h_total} {v_height} {v_start} {v_end} {v_total} {" ".join(flags)}'</span>
                        )
                        xorg[screen][connector][<span class="org-string">"modelines"</span>][mode_name] = modeline
                        <span class="org-keyword">break</span>
    <span class="org-keyword">return</span> xorg


<span class="org-variable-name">Modeline_Data</span> = namedtuple(<span class="org-string">"Modeline"</span>, [
    <span class="org-string">"pixelclock"</span>,
    <span class="org-string">"hdisp"</span>, <span class="org-string">"hsyncstart"</span>, <span class="org-string">"hsyncend"</span>, <span class="org-string">"htotal"</span>,
    <span class="org-string">"vdisp"</span>, <span class="org-string">"vsyncstart"</span>, <span class="org-string">"vsyncend"</span>, <span class="org-string">"vtotal"</span>,
    <span class="org-string">"flags"</span>])


<span class="org-keyword">def</span> <span class="org-function-name">parse_edid_data</span>(edid):
    <span class="org-variable-name">vendor</span> = <span class="org-string">"Unknown"</span>
    <span class="org-variable-name">model</span> = <span class="org-string">"Unknown"</span>
    <span class="org-variable-name">modelines</span> = []
    <span class="org-keyword">try</span>:
        <span class="org-variable-name">data</span> = subprocess.check_output([<span class="org-string">"edid-decode"</span>, <span class="org-string">"-LnpsX"</span>, edid],
                                       errors=<span class="org-string">'replace'</span>,
                                       universal_newlines=<span class="org-constant">True</span>)
    <span class="org-keyword">except</span> subprocess.CalledProcessError:
        <span class="org-keyword">pass</span>
    <span class="org-keyword">else</span>:
        <span class="org-keyword">for</span> line <span class="org-keyword">in</span> data.splitlines():
            <span class="org-variable-name">line</span> = line.strip()
            <span class="org-keyword">if</span> line.startswith(<span class="org-string">"Manufacturer:"</span>):
                <span class="org-variable-name">_</span>, <span class="org-variable-name">_</span>, <span class="org-variable-name">vendor</span> = line.partition(<span class="org-string">': '</span>)
            <span class="org-keyword">elif</span> line.startswith(<span class="org-string">"Display Product Name:"</span>):
                <span class="org-variable-name">_</span>, <span class="org-variable-name">_</span>, <span class="org-variable-name">model</span> = line.partition(<span class="org-string">': '</span>)
            <span class="org-keyword">elif</span> line.startswith(<span class="org-string">"Modeline"</span>):
                <span class="org-comment-delimiter"># </span><span class="org-comment">For the fields of a modeline see</span>
                <span class="org-comment-delimiter"># </span><span class="org-comment">https://en.wikipedia.org/wiki/XFree86_Modeline</span>
                <span class="org-keyword">print</span>(line)
                <span class="org-comment-delimiter"># </span><span class="org-comment">ignore 'Modeline "Mode N"' part of Modeline</span>
                <span class="org-variable-name">_</span>, <span class="org-variable-name">_</span>, <span class="org-variable-name">line</span> = line.split(<span class="org-string">'"'</span>, 2)
                <span class="org-keyword">if</span> <span class="org-keyword">not</span> line:
                    <span class="org-keyword">print</span>(<span class="org-string">"no timing information"</span>)
                    <span class="org-keyword">continue</span>
                <span class="org-keyword">try</span>:
                    <span class="org-variable-name">mode</span> = Modeline_Data(*line.split(<span class="org-constant">None</span>, 9))
                <span class="org-keyword">except</span> (<span class="org-type">ValueError</span>, <span class="org-type">TypeError</span>):
                    <span class="org-keyword">print</span>(<span class="org-string">"invalid timing information"</span>)
                    <span class="org-keyword">continue</span>
                <span class="org-variable-name">refresh</span> = <span class="org-builtin">round</span>(<span class="org-builtin">float</span>(mode.pixelclock) * 1E6 /
                                (<span class="org-builtin">float</span>(mode.htotal) * <span class="org-builtin">float</span>(mode.vtotal)))
                <span class="org-variable-name">interlaced</span> = <span class="org-string">"i"</span> <span class="org-keyword">if</span> <span class="org-string">"Interlace"</span> <span class="org-keyword">in</span> mode.flags <span class="org-keyword">else</span> <span class="org-string">""</span>
                <span class="org-variable-name">refresh</span> = <span class="org-builtin">int</span>(refresh)
                <span class="org-variable-name">modeline_name</span> = f<span class="org-string">'"{mode.hdisp}x{mode.vdisp}_{refresh}{interlaced}"'</span>
                modelines.append(f<span class="org-string">'Modeline {modeline_name} {line}'</span>)
    <span class="org-keyword">return</span> vendor, model, modelines


<span class="org-keyword">def</span> <span class="org-function-name">collect_nvidia_data</span>():
    <span class="org-variable-name">BusID_RE</span> = re.<span class="org-builtin">compile</span>((
        r<span class="org-string">'(?P&lt;domain&gt;[0-9a-fA-F]+)'</span>
        r<span class="org-string">':'</span>
        r<span class="org-string">'(?P&lt;bus&gt;[0-9a-fA-F]+)'</span>
        r<span class="org-string">':'</span>
        r<span class="org-string">'(?P&lt;device&gt;[0-9a-fA-F]+)'</span>
        r<span class="org-string">'\.'</span>
        r<span class="org-string">'(?P&lt;function&gt;[0-9a-fA-F]+)'</span>
    ))
    <span class="org-keyword">try</span>:
        <span class="org-variable-name">data</span> = subprocess.check_output([<span class="org-string">"nvidia-smi"</span>, <span class="org-string">"--query-gpu=name,pci.bus_id"</span>,
                                        <span class="org-string">"--format=csv"</span>, <span class="org-string">"-i0"</span>], universal_newlines=<span class="org-constant">True</span>)
    <span class="org-keyword">except</span> subprocess.CalledProcessError:
        <span class="org-keyword">pass</span>
    <span class="org-keyword">except</span> <span class="org-type">OSError</span>:
        <span class="org-comment-delimiter"># </span><span class="org-comment">nvidia-smi is not installed</span>
        <span class="org-keyword">pass</span>
    <span class="org-keyword">else</span>:
        <span class="org-keyword">for</span> row <span class="org-keyword">in</span> csv.DictReader(data.splitlines(), delimiter=<span class="org-string">','</span>, skipinitialspace=<span class="org-constant">True</span>):
            <span class="org-variable-name">name</span> = row[<span class="org-string">'name'</span>]
            <span class="org-variable-name">bus_id</span> = row[<span class="org-string">'pci.bus_id'</span>]
            <span class="org-comment-delimiter"># </span><span class="org-comment">pci.bus_id structure as reported by nvidia-smi: "domain:bus:device.function", in hex.</span>
            <span class="org-variable-name">match</span> = BusID_RE.search(bus_id)
            <span class="org-keyword">if</span> match:
                <span class="org-variable-name">domain</span>, <span class="org-variable-name">bus</span>, <span class="org-variable-name">device</span>, <span class="org-variable-name">function</span> = (<span class="org-builtin">int</span>(n, 16) <span class="org-keyword">for</span> n <span class="org-keyword">in</span> match.groups())
                <span class="org-variable-name">bus_id</span> = <span class="org-string">"PCI:{:d}@{:d}:{:d}:{:d}"</span>.<span class="org-builtin">format</span>(bus, domain, device, function)
                <span class="org-keyword">return</span> name, bus_id
    <span class="org-keyword">raise</span> <span class="org-type">ValueError</span>


<span class="org-keyword">def</span> <span class="org-function-name">find_drm_connectors</span>(connections):
    <span class="org-doc">"""</span>
<span class="org-doc">    returns a dict with the following schema (secondary may be empty):</span>
<span class="org-doc">    {</span>
<span class="org-doc">        'primary': {</span>
<span class="org-doc">            'edid': 'edid.HDMI-1.bin',</span>
<span class="org-doc">            'drm_connector': 'HDMI-A-1',</span>
<span class="org-doc">            'xrandr_connector': 'HDMI-1',</span>
<span class="org-doc">        },</span>
<span class="org-doc">        'secondary': {</span>
<span class="org-doc">            'edid': 'edid.eDP-1.bin',</span>
<span class="org-doc">            'drm_connector': 'eDP-1',</span>
<span class="org-doc">            'xrandr_connector': 'eDP-1',</span>
<span class="org-doc">        }</span>
<span class="org-doc">        'ignored_outputs': ['HDMI-A-2', 'DP-1']</span>
<span class="org-doc">    }</span>
<span class="org-doc">    """</span>
    <span class="org-variable-name">STATUS_GLOB</span> = <span class="org-string">'/sys/class/drm/card0*/status'</span>
    <span class="org-variable-name">CONNECTOR_RE</span> = re.<span class="org-builtin">compile</span>(<span class="org-string">'card0-(?P&lt;connector&gt;[^/]+)/status'</span>)

    <span class="org-keyword">def</span> <span class="org-function-name">read_edid_bytes</span>(edid_file):
        <span class="org-variable-name">edid_bytes</span> = b<span class="org-string">''</span>
        <span class="org-keyword">try</span>:
            <span class="org-keyword">with</span> <span class="org-builtin">open</span>(edid_file, <span class="org-string">'rb'</span>) <span class="org-keyword">as</span> f:
                <span class="org-variable-name">edid_bytes</span> = f.read()
        <span class="org-keyword">except</span> <span class="org-type">IOError</span>:
            <span class="org-keyword">pass</span>
        <span class="org-keyword">return</span> edid_bytes

    <span class="org-variable-name">xrandr_edid_bytes</span> = read_edid_bytes(connections.get(<span class="org-string">'primary'</span>, {}).get(<span class="org-string">'edid'</span>, <span class="org-string">""</span>))
    <span class="org-variable-name">secondary_xrandr_edid_bytes</span> = read_edid_bytes(connections.get(<span class="org-string">'secondary'</span>, {}).get(<span class="org-string">'edid'</span>, <span class="org-string">''</span>))

    <span class="org-variable-name">drm</span> = {<span class="org-string">'primary'</span>: {}, <span class="org-string">'secondary'</span>: {}, <span class="org-string">'ignored_outputs'</span>: []}
    <span class="org-keyword">for</span> status_p <span class="org-keyword">in</span> glob(STATUS_GLOB):
        <span class="org-variable-name">match</span> = re.search(CONNECTOR_RE, status_p)
        <span class="org-keyword">if</span> match:
            <span class="org-variable-name">drm_connector</span> = match.group(<span class="org-string">'connector'</span>)
        <span class="org-keyword">else</span>:
            <span class="org-keyword">continue</span>

        <span class="org-keyword">try</span>:
            <span class="org-keyword">with</span> <span class="org-builtin">open</span>(status_p) <span class="org-keyword">as</span> f:
                <span class="org-variable-name">connected</span> = f.read().strip() == <span class="org-string">'connected'</span>
        <span class="org-keyword">except</span> <span class="org-type">IOError</span>:
            <span class="org-keyword">continue</span>

        <span class="org-keyword">if</span> connected:
            <span class="org-variable-name">edid</span> = read_edid_bytes(os.path.join(
                os.path.dirname(status_p), <span class="org-string">'edid'</span>))
            <span class="org-keyword">if</span> edid:
                <span class="org-keyword">if</span> edid == xrandr_edid_bytes:
                    <span class="org-variable-name">drm</span>[<span class="org-string">'primary'</span>] = {
                        <span class="org-string">'edid'</span>: os.path.basename(connections[<span class="org-string">'primary'</span>].get(<span class="org-string">'edid'</span>, <span class="org-string">""</span>)),
                        <span class="org-string">'drm_connector'</span>: drm_connector,
                        <span class="org-string">'xrandr_connector'</span>: connections[<span class="org-string">'primary'</span>].get(<span class="org-string">'connector'</span>,<span class="org-string">''</span>),
                    }
                    <span class="org-keyword">continue</span>
                <span class="org-keyword">if</span> secondary_xrandr_edid_bytes:
                    <span class="org-variable-name">drm</span>[<span class="org-string">'secondary'</span>] = {
                        <span class="org-string">'edid'</span>: os.path.basename(connections.get(<span class="org-string">'secondary'</span>).get(<span class="org-string">'edid'</span>, <span class="org-string">''</span>)),
                        <span class="org-string">'drm_connector'</span>: drm_connector,
                        <span class="org-string">'xrandr_connector'</span>: connections[<span class="org-string">'secondary'</span>].get(<span class="org-string">'connector'</span>,<span class="org-string">''</span>),
                    }
                    <span class="org-keyword">continue</span>
        drm[<span class="org-string">'ignored_outputs'</span>].append(drm_connector)
    <span class="org-keyword">return</span> drm


<span class="org-keyword">def</span> <span class="org-function-name">output_data</span>(data, write_edids=<span class="org-constant">True</span>):
    <span class="org-variable-name">result</span> = {}
    <span class="org-variable-name">drm</span> = {}
    <span class="org-keyword">if</span> data:
        <span class="org-variable-name">modes</span> = []
        <span class="org-keyword">for</span> _, screen_data <span class="org-keyword">in</span> data.items():
            <span class="org-keyword">for</span> connector, connection_data <span class="org-keyword">in</span> screen_data.items():
                <span class="org-keyword">if</span> connection_data.get(<span class="org-string">'EDID'</span>) <span class="org-keyword">and</span> write_edids:
                    <span class="org-keyword">with</span> <span class="org-builtin">open</span>(<span class="org-string">'/etc/X11/edid.{}.bin'</span>.<span class="org-builtin">format</span>(connector), <span class="org-string">'wb'</span>) <span class="org-keyword">as</span> edid:
                        edid.write(binascii.a2b_hex(connection_data[<span class="org-string">'EDID'</span>]))
                <span class="org-keyword">for</span> resolution, refreshrates <span class="org-keyword">in</span> connection_data[<span class="org-string">'modes'</span>].items():
                    <span class="org-keyword">for</span> refreshrate <span class="org-keyword">in</span> refreshrates:
                        modes.append(Mode(connector, resolution, refreshrate))
        <span class="org-keyword">if</span> modes:
            <span class="org-keyword">try</span>:
                <span class="org-variable-name">gpu_name</span>, <span class="org-variable-name">bus_id</span> = collect_nvidia_data()
            <span class="org-keyword">except</span> <span class="org-type">ValueError</span>:
                <span class="org-variable-name">gpu_name</span> = <span class="org-constant">None</span>
                <span class="org-variable-name">bus_id</span> = <span class="org-constant">None</span>

            <span class="org-keyword">def</span> <span class="org-function-name">create_entry</span>(my_dict, name, connector, resolution, refreshrate, vendor, model, modelines):
                <span class="org-variable-name">my_dict</span>[name] = {
                    <span class="org-string">'connector'</span>: connector,
                    <span class="org-string">'resolution'</span>: resolution,
                    <span class="org-string">'refreshrate'</span>: refreshrate,
                    <span class="org-string">'edid'</span>: <span class="org-string">'/etc/X11/edid.{}.bin'</span>.<span class="org-builtin">format</span>(connector),
                    <span class="org-string">'mode'</span>: <span class="org-string">"{}_{}"</span>.<span class="org-builtin">format</span>(resolution, refreshrate),
                    <span class="org-string">'vendor'</span>: vendor,
                    <span class="org-string">'model'</span>: model,
                    <span class="org-string">'modelines'</span>: modelines,
                }
                <span class="org-keyword">if</span> gpu_name <span class="org-keyword">and</span> bus_id:
                    result[name][<span class="org-string">'gpu_name'</span>] = gpu_name
                    result[name][<span class="org-string">'bus_id'</span>] = bus_id

            <span class="org-variable-name">connector_0</span>, <span class="org-variable-name">resolution_0</span>, <span class="org-variable-name">refreshrate_0</span> = <span class="org-builtin">max</span>(modes, key=sort_mode)[:3]
            <span class="org-variable-name">connector_0_edid</span> = <span class="org-string">'/etc/X11/edid.{}.bin'</span>.<span class="org-builtin">format</span>(connector_0)
            <span class="org-variable-name">vendor_0</span>, <span class="org-variable-name">model_0</span>, <span class="org-variable-name">modelines_0</span> = parse_edid_data(connector_0_edid)
            create_entry(result, <span class="org-string">'primary'</span>, connector_0, resolution_0,
                         refreshrate_0, vendor_0, model_0, modelines_0)

            <span class="org-comment-delimiter"># </span><span class="org-comment">check if additional monitors exist</span>
            <span class="org-variable-name">other_modes</span> = [mode <span class="org-keyword">for</span> mode <span class="org-keyword">in</span> modes <span class="org-keyword">if</span> mode[0] != connector_0]
            <span class="org-keyword">if</span> other_modes:
                <span class="org-variable-name">connector_1</span>, <span class="org-variable-name">resolution_1</span>, <span class="org-variable-name">refreshrate_1</span> = <span class="org-builtin">max</span>(other_modes, key=sort_mode)[:3]
                <span class="org-variable-name">connector_1_edid</span> = <span class="org-string">'/etc/X11/edid.{}.bin'</span>.<span class="org-builtin">format</span>(connector_1)
                <span class="org-variable-name">vendor_1</span>, <span class="org-variable-name">model_1</span>, <span class="org-variable-name">modelines_1</span> = parse_edid_data(connector_1_edid)
                create_entry(result, <span class="org-string">'secondary'</span>, connector_1, resolution_1,
                             refreshrate_1, vendor_1, model_1, modelines_1)

            <span class="org-keyword">if</span> write_edids:
                <span class="org-variable-name">drm</span> = find_drm_connectors(result)


    module.exit_json(changed=<span class="org-constant">True</span> <span class="org-keyword">if</span> write_edids <span class="org-keyword">else</span> <span class="org-constant">False</span>,
                     ansible_facts={<span class="org-string">'xrandr'</span>: data, <span class="org-string">'xorg'</span>: result, <span class="org-string">'drm'</span>: drm})


<span class="org-keyword">if</span> <span class="org-builtin">__name__</span> == <span class="org-string">'__main__'</span>:
    <span class="org-variable-name">module</span> = AnsibleModule(argument_spec=ARG_SPECS, supports_check_mode=<span class="org-constant">False</span>,)
    <span class="org-keyword">try</span>:
        <span class="org-variable-name">d</span> = subprocess.check_output([<span class="org-string">'xrandr'</span>, <span class="org-string">'-d'</span>, module.params[<span class="org-string">'display'</span>], <span class="org-string">'--verbose'</span>],
                                    errors=<span class="org-string">'replace'</span>, universal_newlines=<span class="org-constant">True</span>).splitlines()
    <span class="org-keyword">except</span> subprocess.CalledProcessError:
        <span class="org-variable-name">xorg_data</span> = {}
    <span class="org-keyword">else</span>:
        <span class="org-variable-name">xorg_data</span> = parse_xrandr_verbose(<span class="org-builtin">iter</span>(d))
    output_data(xorg_data, module.params[<span class="org-string">'write_edids'</span>])
</pre>
</div>
</div>
</div>
<div id="outline-container-org4e9565b" class="outline-3">
<h3 id="org4e9565b"><span class="section-number-3">7.5.</span> rmmod.py</h3>
<div class="outline-text-3" id="text-7-5">
<div class="org-src-container">
<pre class="src src-python"><span class="org-comment-delimiter">#</span><span class="org-comment">!/usr/bin/python</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">-*- coding: utf-8 -*-</span>

<span class="org-comment-delimiter"># </span><span class="org-comment">Copyright: (c) 2019, Alexander Grothe <a href="mailto:seahawk1986%40gmx.de">&lt;seahawk1986@gmx.de&gt;</a></span>
<span class="org-comment-delimiter"># </span><span class="org-comment">GNU General Public License v3.0+ (see COPYING or https://www.gnu.org/licenses/gpl-3.0.txt)</span>

<span class="org-keyword">from</span> __future__ <span class="org-keyword">import</span> absolute_import, division, print_function
<span class="org-variable-name">__metaclass__</span> = <span class="org-builtin">type</span>
<span class="org-keyword">import</span> traceback

<span class="org-keyword">from</span> ansible.module_utils.basic <span class="org-keyword">import</span> AnsibleModule
<span class="org-keyword">from</span> ansible.module_utils._text <span class="org-keyword">import</span> to_native


<span class="org-variable-name">ANSIBLE_METADATA</span> = {<span class="org-string">'metadata_version'</span>: <span class="org-string">'1.1'</span>,
                    <span class="org-string">'status'</span>: [<span class="org-string">'preview'</span>],
                    <span class="org-string">'supported_by'</span>: <span class="org-string">'community'</span>}

<span class="org-variable-name">DOCUMENTATION</span> = <span class="org-string">'''</span>
<span class="org-string">---</span>
<span class="org-string">module: rmmod</span>
<span class="org-string">short_description: unload kernel modules with rmmod</span>
<span class="org-string">version_added: 2.7</span>
<span class="org-string">author:</span>
<span class="org-string">    - Alexander Grothe</span>
<span class="org-string">description:</span>
<span class="org-string">    - Unload kernel modules with rmmod.</span>
<span class="org-string">    - Builtin kernel modules can't be removed (will do nothing in this case).</span>
<span class="org-string">options:</span>
<span class="org-string">    name:</span>
<span class="org-string">        required: true</span>
<span class="org-string">        description:</span>
<span class="org-string">            - Name of kernel module to remove.</span>
<span class="org-string">'''</span>

<span class="org-variable-name">EXAMPLES</span> = <span class="org-string">'''</span>
<span class="org-string">- name: Unload nouveau module</span>
<span class="org-string">  rmmod:</span>
<span class="org-string">    name: nouveau</span>
<span class="org-string">'''</span>


<span class="org-keyword">def</span> <span class="org-function-name">main</span>():
    <span class="org-variable-name">module</span> = AnsibleModule(
        argument_spec=<span class="org-builtin">dict</span>(
            name=<span class="org-builtin">dict</span>(<span class="org-builtin">type</span>=<span class="org-string">'str'</span>, required=<span class="org-constant">True</span>),
        ),
        supports_check_mode=<span class="org-constant">True</span>,
    )

    <span class="org-variable-name">name</span> = module.params[<span class="org-string">'name'</span>]

    <span class="org-comment-delimiter"># </span><span class="org-comment">FIXME: Adding all parameters as result values is useless</span>
    <span class="org-variable-name">result</span> = <span class="org-builtin">dict</span>(
        changed=<span class="org-constant">False</span>,
        name=name,
    )

    <span class="org-comment-delimiter"># </span><span class="org-comment">Check if module is loaded</span>
    <span class="org-keyword">try</span>:
        <span class="org-variable-name">is_loaded</span> = <span class="org-constant">False</span>
        <span class="org-keyword">with</span> <span class="org-builtin">open</span>(<span class="org-string">'/proc/modules'</span>) <span class="org-keyword">as</span> modules:
            <span class="org-variable-name">module_name</span> = name.replace(<span class="org-string">'-'</span>, <span class="org-string">'_'</span>) + <span class="org-string">' '</span>
            <span class="org-keyword">for</span> line <span class="org-keyword">in</span> modules:
                <span class="org-keyword">if</span> line.startswith(module_name):
                    <span class="org-variable-name">is_loaded</span> = <span class="org-constant">True</span>
                    <span class="org-keyword">break</span>
    <span class="org-keyword">except</span> <span class="org-type">IOError</span> <span class="org-keyword">as</span> e:
        module.fail_json(msg=to_native(e), exception=traceback.format_exc(), **result)

    <span class="org-comment-delimiter"># </span><span class="org-comment">remove module if it is loaded</span>
    <span class="org-keyword">if</span> is_loaded:
        <span class="org-keyword">if</span> <span class="org-keyword">not</span> module.check_mode:
            <span class="org-variable-name">rc</span>, <span class="org-variable-name">out</span>, <span class="org-variable-name">err</span> = module.run_command([module.get_bin_path(<span class="org-string">'rmmod'</span>, <span class="org-constant">True</span>), name])
            <span class="org-keyword">if</span> rc != 0:
                module.fail_json(msg=err, rc=rc, stdout=out, stderr=err, **result)
        <span class="org-variable-name">result</span>[<span class="org-string">'changed'</span>] = <span class="org-constant">True</span>

    module.exit_json(**result)


<span class="org-keyword">if</span> <span class="org-builtin">__name__</span> == <span class="org-string">'__main__'</span>:
    main()
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgecc3bfb" class="outline-2">
<h2 id="orgecc3bfb"><span class="section-number-2">8.</span> Handlers</h2>
<div class="outline-text-2" id="text-8">
<div class="org-src-container">
<pre class="src src-yaml">- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> Reconfigure unattended upgrades with dpkg</span>
  <span class="org-keyword">command</span>: <span class="org-string">'/usr/sbin/dpkg-reconfigure --frontend noninteractive unattended-upgrades'</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> Trigger Udev</span>
  <span class="org-keyword">command</span>: <span class="org-string">'udevadm trigger '</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> Reload Units</span>
  <span class="org-keyword">systemd</span>:
    <span class="org-variable-name">daemon_reload</span>: <span class="org-constant">yes</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> Restart Samba</span>
  <span class="org-keyword">systemd</span>:
    <span class="org-variable-name">name</span>: smbd.service
    <span class="org-variable-name">state</span>: restarted
    <span class="org-variable-name">enabled</span>: <span class="org-constant">yes</span>
    <span class="org-comment-delimiter">#</span><span class="org-comment">masked: no</span>
  <span class="org-builtin">register</span>: samba_reload

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> Restart vdr-addon-lifeguard-ng</span>
  <span class="org-keyword">systemd</span>:
    <span class="org-variable-name">name</span>: vdr-addon-lifeguard-ng.service
    <span class="org-variable-name">state</span>: restarted
    <span class="org-variable-name">enabled</span>: <span class="org-constant">yes</span>
  <span class="org-builtin">register</span>: lifeguard_reload

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> Restart NFS Kernel Server</span>
  <span class="org-keyword">systemd</span>:
    <span class="org-variable-name">name</span>: nfs-server.service
    <span class="org-variable-name">state</span>: restarted
    <span class="org-variable-name">enabled</span>: <span class="org-constant">yes</span>
    <span class="org-comment-delimiter">#</span><span class="org-comment">masked: no</span>
  <span class="org-builtin">register</span>: nfs_reload

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> Restart sundtek.service</span>
  <span class="org-keyword">systemd</span>:
    <span class="org-variable-name">name</span>: sundtek.service
    <span class="org-variable-name">state</span>: restarted
    <span class="org-variable-name">enabled</span>: <span class="org-constant">yes</span>
    <span class="org-variable-name">masked</span>: <span class="org-constant">no</span>

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> Restart VDR</span>
  <span class="org-keyword">systemd</span>:
    <span class="org-variable-name">name</span>: vdr.service
    <span class="org-variable-name">state</span>: restarted
    <span class="org-variable-name">enabled</span>: <span class="org-constant">yes</span>
    <span class="org-variable-name">daemon_reload</span>: <span class="org-constant">yes</span>
  <span class="org-builtin">register</span>: vdr_restart

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> Stop VDR</span>
  <span class="org-keyword">systemd</span>:
    <span class="org-variable-name">name</span>: vdr.service
    <span class="org-variable-name">state</span>: stopped
    <span class="org-variable-name">enabled</span>: <span class="org-constant">yes</span>
  <span class="org-builtin">register</span>: vdr_stop

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> Start VDR</span>
  <span class="org-keyword">systemd</span>:
    <span class="org-variable-name">name</span>: vdr.service
    <span class="org-variable-name">state</span>: started
    <span class="org-variable-name">enabled</span>: <span class="org-constant">yes</span>
    <span class="org-variable-name">daemon_reload</span>: <span class="org-constant">yes</span>
  <span class="org-builtin">register</span>: vdr_start

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> Start yavdr-xorg</span>
  <span class="org-keyword">systemd</span>:
    <span class="org-variable-name">daemon_reload</span>: <span class="org-constant">yes</span>
    <span class="org-variable-name">name</span>: <span class="org-string">'yavdr-xorg'</span>
    <span class="org-variable-name">enabled</span>: <span class="org-constant">yes</span>
    <span class="org-variable-name">state</span>: started
  <span class="org-builtin">register</span>: yavdr_xorg_start


- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> Stop xlogin</span>
  <span class="org-keyword">systemd</span>:
    <span class="org-variable-name">name</span>: xlogin@vdr.service
    <span class="org-variable-name">state</span>: stopped
    <span class="org-variable-name">enabled</span>: <span class="org-constant">yes</span>
  <span class="org-builtin">register</span>: xlogin_stop

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> Start xlogin</span>
  <span class="org-keyword">systemd</span>:
    <span class="org-variable-name">daemon_reload</span>: <span class="org-constant">yes</span>
    <span class="org-variable-name">name</span>: <span class="org-string">'xlogin@</span><span class="org-builtin">{{</span><span class="org-function-name"> vdr.user </span><span class="org-builtin">}}</span><span class="org-string">'</span>
    <span class="org-variable-name">enabled</span>: <span class="org-constant">yes</span>
    <span class="org-variable-name">state</span>: started
  <span class="org-builtin">register</span>: xlogin_start

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> Stop x</span>
  <span class="org-keyword">systemd</span>:
    <span class="org-variable-name">name</span>: x@vt7.service
    <span class="org-variable-name">state</span>: stopped
  <span class="org-builtin">register</span>: x_stop

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> reboot required</span>
  <span class="org-keyword">debug</span>:
    <span class="org-variable-name">msg</span>: PLEASE REBOOT YOUR SYSTEM.

- <span class="org-builtin">name</span>:<span class="org-ansible-task-label"> rerun required</span>
  <span class="org-keyword">debug</span>:
    <span class="org-variable-name">msg</span>: PLEASE REBOOT YOUR SYSTEM AND RUN THIS PLAYBOOK AGAIN.
</pre>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Alexander Grothe &lt;seahawk1986@gmx.de&gt;</p>
<p class="date">Created: 2022-02-03 Do 15:24</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
